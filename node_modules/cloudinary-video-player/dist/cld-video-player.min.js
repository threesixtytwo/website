(function webpackUniversalModuleDefinition(e,t){if(typeof exports==="object"&&typeof module==="object")module.exports=t(require("cloudinary-core"));else if(typeof define==="function"&&define.amd)define(["cloudinary-core"],t);else if(typeof exports==="object")exports["cloudinaryVideoPlayer"]=t(require("cloudinary-core"));else e["cloudinaryVideoPlayer"]=t(e["cloudinary"])})(this,function(n){return function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:false,exports:{}};n[e].call(t.exports,t,t.exports,i);t.l=true;return t.exports}i.m=n;i.c=r;i.i=function(e){return e};i.d=function(e,t,n){if(!i.o(e,t)){Object.defineProperty(e,t,{configurable:false,enumerable:true,get:n})}};i.n=function(e){var t=e&&e.__esModule?function n(){return e["default"]}:function r(){return e};i.d(t,"a",t);return t};i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};i.p="";return i(i.s=107)}([function(t,e,n){(function(e){t.exports=e["videojs"]=n(92)}).call(e,n(3))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(r){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++){t[n-1]=arguments[n]}if(Object.assign){return Object.assign.apply(Object,[r].concat(t))}t.forEach(function(n){if(!n){return}Object.keys(n).forEach(function(e){var t=n[e];r[e]=t})});return r}t["default"]=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function i(n,r){for(var e=arguments.length,t=Array(e>2?e-2:0),i=2;i<e;i++){t[i-2]=arguments[i]}return t.reduce(function(e,t){if(Object.prototype.hasOwnProperty.call(n,t)){e[t]=n[t];if(r){delete n[t]}}return e},{})}function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++){n[r-1]=arguments[r]}return i.apply(undefined,[e,false].concat(n))}function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++){n[r-1]=arguments[r]}return i.apply(undefined,[e,true].concat(n))}function o(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++){t[r-1]=arguments[r]}var i=t.reduce(function(e,t){e[t]=true;return e},{});return Object.keys(n).reduce(function(e,t){if(!Object.prototype.hasOwnProperty.call(i,t)){e[t]=n[t]}return e},{})}t.sliceProperties=r;t.sliceAndUnsetProperties=a;t.exceptProperties=o},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(1,eval)("this")}catch(r){if(typeof window==="object")n=window}e.exports=n},function(e,t){e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mergeTransformation=t.mergeCloudinaryConfig=t.isSrcEqual=t.normalizeOptions=undefined;var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=n(2);var s=n(7);var r=n(4);var a=c(r);var u=n(1);var l=c(u);function c(e){return e&&e.__esModule?e:{"default":e}}var d=function d(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},r=n.tolerateMissingId,i=r===undefined?false:r;if((0,s.isPlainObject)(e)){var a=(0,l["default"])({},e);e=(0,o.sliceAndUnsetProperties)(a,"publicId").publicId;if(!(0,s.isString)(e)&&!i){throw new Error("Source is missing 'publicId'.")}if(t){t=(0,l["default"])({},a,t)}}return{publicId:e,options:t}};var f=function f(e,t){var n=e;var r=t;if((typeof e==="undefined"?"undefined":i(e))==="object"){n=e.src}if((typeof t==="undefined"?"undefined":i(t))==="object"){r=t.src}if(/^\/\//.test(n)){r=r.slice(r.indexOf("//"))}if(/^\/\//.test(r)){n=n.slice(n.indexOf("//"))}return n===r};var h=function h(e,t){if(e.constructor.name==="Cloudinary"&&e.config){e=e.config()}var n=new a["default"].Cloudinary(e);if(t.constructor.name==="Cloudinary"&&t.config){t=e.config()}return n.config(t)};var p=function p(e,t){if(e.constructor.name==="Transformation"&&e.toOptions){e=e.toOptions()}var n=new a["default"].Transformation(e);return n.fromOptions(t)};t.normalizeOptions=d;t.isSrcEqual=f;t.mergeCloudinaryConfig=h;t.mergeTransformation=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function h(e){var t=e.getBoundingClientRect();var n=document.body;var r=document.documentElement;var i=window.pageYOffset||r.scrollTop||n.scrollTop;var a=window.pageXOffset||r.scrollLeft||n.scrollLeft;var o=r.clientTop||n.clientTop||0;var s=r.clientLeft||n.clientLeft||0;var u=t.top+i-o;var l=t.left+a-s;return{top:Math.round(u),left:Math.round(l)}}function r(e,t){var n={};var r=h(e);var i=e.offsetWidth;var a=e.offsetHeight;var o=r.top;var s=r.left;var u=t.pageY;var l=t.pageX;if(t.changedTouches){l=t.changedTouches[0].pageX;u=t.changedTouches[0].pageY}n.y=Math.max(0,Math.min(1,(o-u+a)/a));n.x=Math.max(0,Math.min(1,(l-s)/i));return n}function i(e,t){var n=t.fraction;var r=h(e);var i=r.left;var a=r.top;var o=e.offsetHeight;var s=e.offsetWidth;var u=i+s;var l=a+o;var c=Math.max(0,Math.min(s,window.pageXOffset+window.innerWidth-i,u-window.pageXOffset));var d=Math.max(0,Math.min(s,window.pageYOffset+window.innerHeight-a,l-window.pageYOffset));var f=c*d/(s*o);return f>n}function a(e,t,n){e.style.left=t+"px";e.style.top=n+"px"}t.getElementPosition=h;t.getPointerPosition=r;t.isElementInViewport=i;t.setPosition=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e){return e!==null&&(typeof e==="undefined"?"undefined":r(e))==="object"&&Object.prototype.toString.call(e)==="[object Object]"}function a(e){return e instanceof String||typeof e==="string"}function o(e){return typeof e==="number"&&e%1===0}t.isPlainObject=i;t.isString=a;t.isInteger=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};var l=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var c=function m(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return m(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var r=n(0);var i=a(r);var d=n(67);var f=n(21);function a(e){return e&&e.__esModule?e:{"default":e}}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var y=i["default"].dom||i["default"];var o=i["default"].getComponent("Component");var g={wrap:false};var s=function(e){v(o,e);function o(e,t){h(this,o);var n=u({},g,t);var r=p(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,n));r.player_=e;r.setCls();var i=function i(e,t){r.options_.fluid=t;r.removeCls();r.setCls()};var a=function a(){var e=r.el();r.videoWrap_=y.createEl("div",{className:"cld-plw-col-player"});r.contentEl_=r.contentEl_=y.createEl("div",{className:"cld-plw-col-list"});(0,d.wrap)(r.player().el(),e);e.appendChild(r.videoWrap_);e.appendChild(r.contentEl_);(0,d.wrap)(r.player().el(),r.videoWrap_)};if(n.wrap){a()}e.on("fluid",i);r.addChild("PlaylistPanel",r.options_);r.dispose=function(){r.removeLayout();c(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"dispose",r).call(r);e.off("fluid",i)};return r}l(o,[{key:"getCls",value:function t(){var e=["cld-video-player","cld-plw-layout"];e.push((0,f.skinClassPrefix)(this.player()));if(this.options_.fluid){e.push("cld-plw-layout-fluid")}return e}},{key:"setCls",value:function n(){var t=this;this.removeClass((0,f.skinClassPrefix)(this));this.getCls().forEach(function(e){t.addClass(e)})}},{key:"removeCls",value:function r(){var t=this;this.getCls().forEach(function(e){t.removeClass(e)})}},{key:"update",value:function i(e,t){this.options(t);this.removeChild("PlaylistPanel");this.addChild("PlaylistPanel",this.options_);this.trigger("playlistlayoutupdate")}},{key:"removeLayout",value:function a(){var e=this.el().parentElement;if(this.el().parentElement){e.appendChild(this.player().el())}}},{key:"createEl",value:function s(){var e=c(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"createEl",this).call(this,"div");e.style.fontFamily=this.player().el().style.fontFamily;return e}}]);return o}(o);i["default"].registerComponent("playlistLayout",s);t["default"]=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var i=n(18);var a=l(i);var o=n(19);var y=l(o);var g=n(5);var m=n(2);var s=n(1);var _=l(s);var u=n(11);function l(e){return e&&e.__esModule?e:{"default":e}}function b(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function T(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var w={format:"jpg",resource_type:"video"};var d=["webm","mp4","ogv"];var k={resource_type:"video",type:"upload",transformation:[],sourceTransformation:{},sourceTypes:d,recommendations:null,info:{}};var S=RegExp(".("+d.join("|")+")$$");var f=0;var C=function C(){return f++};var h=function(e){c(v,e);function v(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};b(this,v);var n=(0,g.normalizeOptions)(e,t);e=n.publicId;t=n.options;e=e.replace(S,"");t=(0,_["default"])({},k,t);if(!t.poster){t.poster=(0,_["default"])({publicId:e},w)}var r=(0,m.sliceAndUnsetProperties)(t,"poster","sourceTypes","sourceTransformation","info","recommendations"),i=r.poster,a=r.sourceTypes,o=r.sourceTransformation,s=r.info,u=r.recommendations;var l=T(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,e,t));var c=null;var d=null;var f=null;var h=null;var p=null;l.poster=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!e){return c}if(e instanceof y["default"]){c=e;return l}var n=(0,g.normalizeOptions)(e,t,{tolerateMissingId:true});e=n.publicId;t=n.options;if(!e){e=l.publicId();t=(0,_["default"])({},t,w)}t.cloudinaryConfig=t.cloudinaryConfig||l.cloudinaryConfig();c=new y["default"](e,t);return l};l.sourceTypes=function(e){if(!e){return d}d=e;return l};l.sourceTransformation=function(e){if(!e){return f}f=e;return l};l.info=function(e){if(!e){return h}h=e;return l};l.recommendations=function(e){if(e===undefined){return p}p=e;return l};l.poster(i);l.sourceTypes(a);l.sourceTransformation(o);l.info(s);l.recommendations(u);l.objectId=C();return l}r(v,[{key:"contains",value:function n(t){var e=this.generateSources();return e.some(function(e){return(0,g.isSrcEqual)(e,t)})}},{key:"generateSources",value:function t(){var s=this;return this.sourceTypes().map(function(e){var t=s.sourceTransformation()[e]||s.transformation();var n=O(e);var r={};if(t){r.transformation=t}(0,_["default"])(r,{resource_type:"video",format:n});var i="";if(s.queryParams()){i=(0,u.objectToQuerystring)(s.queryParams())}var a=""+s.config().url(s.publicId(),r)+i;var o=E(e);return{type:o,src:a,cldSrc:s}})}}]);return v}(a["default"]);var p={ogv:"video/ogg",mpd:"application/dash+xml",m3u8:"application/x-mpegURL"};function E(e){e=O(e);var t=p[e];if(!t){t="video/"+e}return t}var v={hls:"m3u8",dash:"mpd"};function O(e){e=e.toLowerCase();var t=v[e];if(!t){t=e}return t}t["default"]=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(e,t){if(t instanceof e){return t}else{return new e(t)}}t.getCloudinaryInstanceOf=r},function(e,t,n){"use strict";function r(t){var e=Object.keys(t);if(!e.length){return""}var n=e.map(function(e){return e+"="+t[e]}).join("&");return"?"+n}e.exports={objectToQuerystring:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function i(e){return e.replace(/[_.-](\w|$)/g,function(e,t){return t.toUpperCase()})}function a(e){var t=e;try{t=JSON.parse(t)}catch(n){}if(t){return t}t=Number(t);if(t){return t}return t}function o(e,t,n){if(String.prototype.startsWith){return e.startsWith(t,n)}else{var r=r||0;return e.indexOf(t,r)===r}}t.capitalize=r;t.camelize=i;t.coerce=a;t.startsWith=o},function(e,t,n){"use strict";var r=function r(e){e.style.display="none"};var i=function i(e){e.style.display=""};var a=function a(e,t){if(!t||t.length<=0){e.innerText="";r(e);return}e.innerText=t;i(e)};e.exports={hide:r,show:i,setText:a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var s=function h(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return h(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var r=n(0);var i=a(r);function a(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var d=i["default"].getComponent("ClickableComponent");var f=function(e){c(t,e);function t(){u(this,t);return l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}o(t,[{key:"setItem",value:function i(e){var t=e.action,n=e.source;this.source=n;var r=n.info();this.setTitle(r.title||n.publicId());this.setPoster(this.source.poster().url({transformation:{aspect_ratio:"16:9",crop:"pad",background:"black"}}));this.setAction(t)}},{key:"setTitle",value:function n(e){this.title.innerText=e}},{key:"setAction",value:function r(e){this.action=e}},{key:"handleClick",value:function a(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleClick",this).call(this);this.player().trigger("recommendationshide");this.action()}}]);return t}(d);t["default"]=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o={label:"About this player",href:"http://cloudinary.com/documentation/cloudinary_video_player"};var s=function s(e){var t=e.loop();var n=e.paused();var r=e.muted();var i=e.isFullscreen();if(!e.controls()){return[o]}return[{label:t?"Unloop":"Loop",listener:function a(){e.loop(!t)}},{label:n?"Play":"Pause",listener:function a(){if(n){e.play()}else{e.pause()}}},{label:r?"Unmute":"Mute",listener:function a(){e.muted(!r)}},{label:i?"Exit Fullscreen":"Fullscreen",listener:function a(){if(i){e.exitFullscreen()}else{e.requestFullscreen()}}},o]};t["default"]={skin:"dark",controls:false,preload:false,loop:false,muted:false,posterOptions:{},sourceTypes:["webm","mp4","ogv"],contextMenu:{content:s},analytics:false,playedEventPercents:[25,50,75,100]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.normalizeEventsParam=undefined;var r=n(70);var i=l(r);var a=n(7);var o=n(0);var m=l(o);var s=n(1);var u=l(s);function l(e){return e&&e.__esModule?e:{"default":e}}function _(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function b(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var T={percentsplayed:{percents:[25,50,75,100]}};var d=["percentsplayed","pausenoseek","seek","mute","unmute"];var w={events:d};var f=function(e){c(g,e);function g(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_(this,g);var o=b(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));o.player=e;t=m["default"].mergeOptions(w,t);var n={lastState:undefined};var s=0;var u=0;var l=false;var c=[];var d=[];var r=null;var i=function i(e){if(o.player.muted()&&n.lastState!=="muted"){n.lastState="muted";o.emit("mute",e)}else if(!o.player.muted()&&n.lastState!=="unmuted"){n.lastState="unmuted";o.emit("unmute",e)}};var f=function f(n){var t=o.player.currentTime();var r=o.player.duration();var i=function i(e,t){t.originalType="timeupdate";o.emit(e,n,t)};if(o.events.percentsplayed){o.events.percentsplayed.percents.forEach(function(e){if(S(t,r,e)&&c.indexOf(e)===-1){c.push(e);i("percentsplayed",{percent:e})}})}if(o.events.timeplayed){var e=o.events.timeplayed;var a=e.interval?[Math.floor(t/e.interval)*e.interval]:e.times;a.forEach(function(e){if(C(t,e)&&d.indexOf(e)===-1){d.push(e);i("timeplayed",{time:e})}})}if(o.events.seek){s=u;u=t;if(Math.abs(s-u)>1){l=true;i("seek",{seekStart:s,seekEnd:u})}}};var a=function a(e){var t=Math.round(o.player.currentTime());var n=Math.round(o.player.duration());if(t!==n&&!l){o.emit("pausenoseek",e)}};var h=function h(){l=false};var p=function p(){if(o.player.currentSource().src!==r){y();r=o.player.currentSource().src}};var v=function v(){n={lastState:undefined};s=u=0;l=false;y()};var y=function y(){c=[];d=[]};o.events=k(t.events,T);v();if(o.events.percentsplayed||o.events.timeplayed||o.events.seek||o.events.totaltimeplayed){o.player.on("timeupdate",f.bind(o))}if(o.events.mute||o.events.unmute){o.player.on("volumechange",i.bind(o))}if(o.events.pausenoseek){o.player.on("pause",a.bind(o));o.player.on("play",h.bind(o))}o.player.on("loadedmetadata",p.bind(o));return o}return g}(i["default"]);var k=function k(e,r){var t=e;if(e.constructor.name==="Array"){t=e.reduce(function(e,t){var n=r[t]||{};if((0,a.isPlainObject)(t)){e[t.type]=(0,u["default"])({},n,t)}else{e[t]=n}return e},{})}return t};var S=function S(e,t,n){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:.5;var i=t*n/100;return C(e,i,r)};var C=function C(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.5;return e<=t+n&&e>=t-n};t.normalizeEventsParam=k;t["default"]=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var i=n(0);var a=o(i);function o(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function l(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var c=a["default"].getComponent("ClickableComponent");var d=function(e){l(i,e);function i(e,t){s(this,i);var n=u(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,t));var r=t.type;if(!r&&r!=="previous"&&r!=="next"){throw new Error("Type must be either 'previous' or 'next'")}return n}r(i,[{key:"createEl",value:function n(){var e=this.options_.type;var t="vjs-icon-play-"+e;return a["default"].dom.createEl("button",{className:"vjs-control vjs-playlist-button vjs-button "+t})}}]);return i}(c);t["default"]=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var i=n(4);var y=o(i);var g=n(5);var m=n(2);var _=n(10);var a=n(11);function o(e){return e&&e.__esModule?e:{"default":e}}function b(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s=function(){function v(e){var t=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};b(this,v);var r=(0,g.normalizeOptions)(e,n);e=r.publicId;n=r.options;var i=null;var a=null;var o=null;var s=null;var u=null;this.publicId=function(e){if(!e){return i}i=e;return t};this.cloudinaryConfig=function(e){if(!e){return a}a=(0,_.getCloudinaryInstanceOf)(y["default"].Cloudinary,e);return t};this.resourceConfig=function(e){if(!e){return s}s=e;return t};this.transformation=function(e){if(!e){return o}o=(0,_.getCloudinaryInstanceOf)(y["default"].Transformation,e);return t};this.queryParams=function(e){if(!e){return u}u=e;return t};var l=(0,m.sliceAndUnsetProperties)(n,"cloudinaryConfig"),c=l.cloudinaryConfig;if(!c){throw new Error("Source is missing 'cloudinaryConfig'.")}this.cloudinaryConfig(c);var d=(0,m.sliceAndUnsetProperties)(n,"transformation"),f=d.transformation;this.transformation(f);var h=(0,m.sliceAndUnsetProperties)(n,"queryParams"),p=h.queryParams;this.queryParams(p);this.resourceConfig(n);this.publicId(e)}r(v,[{key:"config",value:function t(){var e=new y["default"].Cloudinary(this.cloudinaryConfig().config());e.config(this.resourceConfig());return e}},{key:"url",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.transformation;var e=this.config().url(this.publicId(),{transformation:n||this.transformation()});var r="";if(this.queryParams()){r=(0,a.objectToQuerystring)(this.queryParams())}return""+e+r}}]);return v}();t["default"]=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(18);var i=u(r);var a=n(5);var o=n(1);var s=u(o);function u(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var f=["jpg","png","gif","webp"];var h=RegExp(".("+f.join("|")+")$$");var p={resource_type:"image",type:"upload",transformation:[]};var v=function(e){d(r,e);function r(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};l(this,r);var n=(0,a.normalizeOptions)(e,t);e=n.publicId;t=n.options;e=e.replace(h,"");t=(0,s["default"])({},p,t);return c(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t))}return r}(i["default"]);t["default"]=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(1);var s=i(r);function i(e){return e&&e.__esModule?e:{"default":e}}function a(n,r){var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},t=e.order,i=t===undefined?null:t;var a=r;var o=function o(e){var t=r[e];if(t===undefined){return}if(n[e]&&typeof n[e]==="function"){n[e](t)}};if(i){a=(0,s["default"])({},r);i.forEach(function(e){o(e);delete a[e]})}Object.keys(a).forEach(function(e){o(e)})}t["default"]=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setSkinClassPrefix=t.skinClass=t.skinClassPrefix=t.CLASS_PREFIX=undefined;var r=n(12);var i=n(15);var a=s(i);var o=n(22);function s(e){return e&&e.__esModule?e:{"default":e}}var u="cld-video-player";var l=u+"-skin-";var c=function c(e){var t=(0,o.find)(e.el().classList,function(e){return(0,r.startsWith)(e,l)});return t};var d=function d(e){return""+l+e};var f=function f(e,t){var n=c(e);var r=t?d(t.replace(l,"")):false;if(!r){r=d(a["default"].skin)}if(r!==n){if(n){e.removeClass(n)}e.addClass(r)}};t.CLASS_PREFIX=u;t.skinClassPrefix=c;t.skinClass=d;t.setSkinClassPrefix=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(e,t){if(Array.prototype.find&&Array.isArray(e)){return e.find(t)}return a(e,t)[0]}function i(e,t){if(Array.prototype.findIndex){return e.findIndex(t)}return a(e,t)[1]}function a(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t(r,n,e)){return[r,n]}}return[undefined,-1]}t.find=r;t.findIndex=i;t.findElementAndIndex=a},function(e,t,n){"use strict";var r=n(4);var i=n(2);var a=k(i);var o=n(6);var s=k(o);var u=n(12);var l=k(u);var c=n(10);var d=k(c);var f=n(20);var h=w(f);var p=n(66);var v=w(p);var y=n(24);var g=w(y);var m=n(1);var _=w(m);var b=n(68);var T=w(b);function w(e){return e&&e.__esModule?e:{"default":e}}function k(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))t[n]=e[n]}}t["default"]=e;return t}}function S(e,r){return e.reduce(function(e,t,n){n=r(t);if(Object.prototype.hasOwnProperty.call(e,n)){e[n].push(t)}else{e[n]=[t]}return e},{})}var C=(0,_["default"])({},r.Util,a,l,s,T["default"],d,{autobind:v["default"],mixin:g["default"],applyWithProps:h["default"],groupBy:S});e.exports=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}return t.reduce(function(e,t){return t(e)},function r(){i(this,r)})}t["default"]=r},function(e,t){e.exports=r;var n=Object.prototype.toString;function r(e){var t=n.call(e);return t==="[object Function]"||typeof e==="function"&&t!=="[object RegExp]"||typeof window!=="undefined"&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}},function(n,e,r){(function(N){!function(e,t){true?n.exports=t(r(0)):"function"==typeof define&&define.amd?define(["video.js"],t):e.videojsContribAds=t(e.videojs)}(this,function(h){"use strict";h=h&&h.hasOwnProperty("default")?h["default"]:h;var s=function(e,t){t.isImmediatePropagationStopped=function(){return!0},t.cancelBubble=!0,t.isPropagationStopped=function(){return!0}},u=function(e,t,n){s(0,n),e.trigger({type:t+n.type,originalEvent:n})};function l(e){var t,n,r,i,a,o;"playing"===e.type?(o=e,(a=this).ads.isInAdMode()&&(a.ads.isContentResuming()?a.ads._contentEnding&&u(a,"content",o):u(a,"ad",o))):"ended"===e.type?(i=e,(r=this).ads.isInAdMode()?r.ads.isContentResuming()?(s(0,i),r.trigger("resumeended")):u(r,"ad",i):r.ads._contentHasEnded||(u(r,"content",i),r.trigger("readyforpostroll"))):"loadstart"===e.type||"loadeddata"===e.type||"loadedmetadata"===e.type?function(e,t){if(!("loadstart"===t.type&&!e.ads._hasThereBeenALoadStartDuringPlayerLife||"loadeddata"===t.type&&!e.ads._hasThereBeenALoadedData||"loadedmetadata"===t.type&&!e.ads._hasThereBeenALoadedMetaData))if(e.ads.inAdBreak())u(e,"ad",t);else{if(e.currentSrc()!==e.ads.contentSrc)return;u(e,"content",t)}}(this,e):"play"===e.type?(n=e,(t=this).ads.inAdBreak()?u(t,"ad",n):t.ads.isContentResuming()&&u(t,"content",n)):this.ads.isInAdMode()&&(this.ads.isContentResuming()?u(this,"content",e):u(this,"ad",e))}var e,t="undefined"!=typeof window?window:"undefined"!=typeof N?N:"undefined"!=typeof self?self:{},c="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},n={},r=(Object.freeze||Object)({"default":n}),d=r&&n||r,i=void 0!==t?t:"undefined"!=typeof window?window:{};"undefined"!=typeof document?e=document:(e=i["__GLOBAL_DOCUMENT_CACHE@4"])||(e=i["__GLOBAL_DOCUMENT_CACHE@4"]=d);var f=e,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=(function(){function l(e){this.value=e}function e(i){var a,o;function s(e,t){try{var n=i[e](t),r=n.value;r instanceof l?Promise.resolve(r.value).then(function(e){s("next",e)},function(e){s("throw",e)}):u(n.done?"return":"normal",n.value)}catch(d){u("throw",d)}}function u(e,t){switch(e){case"return":a.resolve({value:t,done:!0});break;case"throw":a.reject(t);break;default:a.resolve({value:t,done:!1})}(a=a.next)?s(a.key,a.arg):o=null}this._invoke=function(r,i){return new Promise(function(e,t){var n={key:r,arg:i,resolve:e,reject:t,next:null};o?o=o.next=n:(a=o=n,s(r,i))})},"function"!=typeof i["return"]&&(this["return"]=undefined)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(e){return this._invoke("next",e)},e.prototype["throw"]=function(e){return this._invoke("throw",e)},e.prototype["return"]=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},v=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},y=function(e,t){return t?encodeURIComponent(e):e},g=function(e,t,n){if(e&&e[n])for(var r=e[n],i=Object.keys(r),a=0;a<i.length;a++){t["{mediainfo."+n+"."+i[a]+"}"]=r[i[a]]}};var m={processMetadataTracks:function(t,n){for(var e=t.textTracks(),r=function(e){"metadata"===e.kind&&(t.ads.cueTextTracks.setMetadataTrackMode(e),n(t,e))},i=0;i<e.length;i++)r(e[i]);e.addEventListener("addtrack",function(e){r(e.track)})},setMetadataTrackMode:function(e){},getSupportedAdCue:function(e,t){return t},isSupportedAdCue:function(e,t){return!0},getCueId:function(e,t){return t.id}};function _(){var e=this;!1!==e.ads._shouldBlockPlay&&(e.paused()||(e.ads.debug("Playback was canceled by cancelContentPlay"),e.pause()),e.ads._cancelledPlay=!0)}m.processAdTrack=function(e,t,n,r){e.ads.includedCues={};for(var i=0;i<t.length;i++){var a=t[i],o=this.getSupportedAdCue(e,a);if(!this.isSupportedAdCue(e,a))return void h.log.warn("Skipping as this is not a supported ad cue.",a);var s=this.getCueId(e,a),u=a.startTime;if(d=e,(f=s)!==undefined&&d.ads.includedCues[f])return void h.log("Skipping ad already seen with ID "+s);r&&r(e,o,s,u),n(e,o,s,u),l=e,(c=s)!==undefined&&""!==c&&(l.ads.includedCues[c]=!0)}var l,c,d,f};var b={},T=h;b.isMiddlewareMediatorSupported=function(){return!T.browser.IS_IOS&&!T.browser.IS_ANDROID&&!!(T.use&&T.middleware&&T.middleware.TERMINATOR)},b.playMiddleware=function(n){return{setSource:function(e,t){t(null,e)},callPlay:function(){if(n.ads&&!0===n.ads._shouldBlockPlay)return n.ads.debug("Using playMiddleware to block content playback"),n.ads._playBlocked=!0,T.middleware.TERMINATOR},play:function(e,t){n.ads&&n.ads._playBlocked&&e&&(n.ads.debug("Play call to Tech was terminated."),n.trigger("play"),n.addClass("vjs-has-started"),n.ads._playBlocked=!1)}}},b.testHook=function(e){T=e};var w=function(){function t(e){a(this,t),this.player=e}return t._getName=function(){return"Anonymous State"},t.prototype.transitionTo=function(e){var t=this.player;this.cleanup(t);var n=new e(t);t.ads._state=n,t.ads.debug(this.constructor._getName()+" -> "+n.constructor._getName());for(var r=arguments.length,i=Array(1<r?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];n.init.apply(n,[t].concat(i))},t.prototype.init=function(){},t.prototype.cleanup=function(){},t.prototype.onPlay=function(){},t.prototype.onPlaying=function(){},t.prototype.onEnded=function(){},t.prototype.onAdsReady=function(){h.log.warn("Unexpected adsready event")},t.prototype.onAdsError=function(){},t.prototype.onAdsCanceled=function(){},t.prototype.onAdTimeout=function(){},t.prototype.onAdStarted=function(){},t.prototype.onContentChanged=function(){},t.prototype.onContentResumed=function(){},t.prototype.onReadyForPostroll=function(){h.log.warn("Unexpected readyforpostroll event")},t.prototype.onNoPreroll=function(){},t.prototype.onNoPostroll=function(){},t.prototype.startLinearAdMode=function(){h.log.warn("Unexpected startLinearAdMode invocation (State via "+this.constructor._getName()+")")},t.prototype.endLinearAdMode=function(){h.log.warn("Unexpected endLinearAdMode invocation (State via "+this.constructor._getName()+")")},t.prototype.skipLinearAdMode=function(){h.log.warn("Unexpected skipLinearAdMode invocation (State via "+this.constructor._getName()+")")},t.prototype.isAdState=function(){throw new Error("isAdState unimplemented for "+this.constructor._getName())},t.prototype.isWaitingForAdBreak=function(){return!1},t.prototype.isContentResuming=function(){return!1},t.prototype.inAdBreak=function(){return!1},t.prototype.handleEvent=function(e){var t=this.player;"play"===e?this.onPlay(t):"adsready"===e?this.onAdsReady(t):"adserror"===e?this.onAdsError(t):"adscanceled"===e?this.onAdsCanceled(t):"adtimeout"===e?this.onAdTimeout(t):"ads-ad-started"===e?this.onAdStarted(t):"contentchanged"===e?this.onContentChanged(t):"contentresumed"===e?this.onContentResumed(t):"readyforpostroll"===e?this.onReadyForPostroll(t):"playing"===e?this.onPlaying(t):"ended"===e?this.onEnded(t):"nopreroll"===e?this.onNoPreroll(t):"nopostroll"===e&&this.onNoPostroll(t)},t}(),k=function(n){function r(e){a(this,r);var t=v(this,n.call(this,e));return t.contentResuming=!1,t.waitingForAdBreak=!1,t}return o(r,n),r.prototype.isAdState=function(){return!0},r.prototype.onPlaying=function(){this.contentResuming&&this.transitionTo(x)},r.prototype.onContentResumed=function(){this.contentResuming&&this.transitionTo(x)},r.prototype.isWaitingForAdBreak=function(){return this.waitingForAdBreak},r.prototype.isContentResuming=function(){return this.contentResuming},r.prototype.inAdBreak=function(){return!0===this.player.ads._inLinearAdMode},r}(w),S=function(e){function t(){return a(this,t),v(this,e.apply(this,arguments))}return o(t,e),t.prototype.isAdState=function(){return!1},t.prototype.onContentChanged=function(e){e.ads.debug("Received contentchanged event (ContentState)"),e.paused()?this.transitionTo(j):(this.transitionTo(O,!1),e.pause(),e.ads._pausedOnContentupdate=!0)},t}(w),C=void 0;var E={start:function(e){e.ads.debug("Starting ad break"),e.ads._inLinearAdMode=!0,e.trigger("adstart"),e.ads.shouldPlayContentBehindAd(e)||(e.ads.snapshot=function(e){var t=void 0;t=h.browser.IS_IOS&&e.ads.isLive(e)&&0<e.seekable().length?e.currentTime()-e.seekable().end(0):e.currentTime();var n=e.$(".vjs-tech"),r=e.textTracks?e.textTracks():[],i=[],a={ended:e.ended(),currentSrc:e.currentSrc(),src:e.tech_.src(),currentTime:t,type:e.currentType()};n&&(a.style=n.getAttribute("style"));for(var o=0;o<r.length;o++){var s=r[o];i.push({track:s,mode:s.mode}),s.mode="disabled"}return a.suppressedTracks=i,a}(e)),e.ads.shouldPlayContentBehindAd(e)&&(e.ads.preAdVolume_=e.volume(),e.volume(0)),e.addClass("vjs-ad-playing"),e.hasClass("vjs-live")&&e.removeClass("vjs-live"),e.ads.removeNativePoster()},end:function(d,e){d.ads.debug("Ending ad break"),e===undefined&&(e=function(){}),d.ads.adType=null,d.ads._inLinearAdMode=!1,d.trigger("adend"),d.removeClass("vjs-ad-playing"),d.ads.isLive(d)&&d.addClass("vjs-live"),d.ads.shouldPlayContentBehindAd(d)?(d.volume(d.ads.preAdVolume_),e()):function(n,r,t){if(t===undefined&&(t=function(){}),!0===n.ads.disableNextSnapshotRestore)return n.ads.disableNextSnapshotRestore=!1,t();var i=n.$(".vjs-tech"),a=20,o=r.suppressedTracks,s=void 0,e=function(){for(var e=0;e<o.length;e++)(s=o[e]).track.mode=s.mode},u=function(){var e=void 0;if(h.browser.IS_IOS&&n.ads.isLive(n))r.currentTime<0&&(e=0<n.seekable().length?n.seekable().end(0)+r.currentTime:n.currentTime(),n.currentTime(e));else if(r.ended)n.currentTime(n.duration());else{n.currentTime(r.currentTime);var t=n.play();t&&t["catch"]&&t["catch"](function(e){h.log.warn("Play promise rejected in snapshot resume",e)})}n.ads.shouldRemoveAutoplay_&&(n.autoplay(!1),n.ads.shouldRemoveAutoplay_=!1)},l=function d(){if(n.off("contentcanplay",d),C&&n.clearTimeout(C),1<(i=n.el().querySelector(".vjs-tech")).readyState)return u();if(i.seekable===undefined)return u();if(0<i.seekable.length)return u();if(a--)n.setTimeout(d,50);else try{u()}catch(t){h.log.warn("Failed to resume the content after an advertisement",t)}};if("style"in r&&i.setAttribute("style",r.style||""),n.ads.videoElementRecycled())n.one("resumeended",t),n.one("contentloadedmetadata",e),h.browser.IS_IOS&&!n.autoplay()&&(n.autoplay(!0),n.ads.shouldRemoveAutoplay_=!0),n.src({src:r.currentSrc,type:r.type}),n.one("contentcanplay",l),C=n.setTimeout(l,2e3);else{if(e(),!n.ended()){var c=n.play();c&&c["catch"]&&c["catch"](function(e){h.log.warn("Play promise rejected in snapshot restore",e)})}t()}}(d,d.ads.snapshot,e)}},O=function(e){function t(){return a(this,t),v(this,e.apply(this,arguments))}return o(t,e),t._getName=function(){return"Preroll"},t.prototype.init=function(e,t,n){if(this.waitingForAdBreak=!0,e.addClass("vjs-ad-loading"),n||e.ads.nopreroll_)return this.resumeAfterNoPreroll(e);var r=e.ads.settings.timeout;"number"==typeof e.ads.settings.prerollTimeout&&(r=e.ads.settings.prerollTimeout),this._timeout=e.setTimeout(function(){e.trigger("adtimeout")},r),t?this.handleAdsReady():this.adsReady=!1},t.prototype.onAdsReady=function(e){e.ads.inAdBreak()?h.log.warn("Unexpected adsready event (Preroll)"):(e.ads.debug("Received adsready event (Preroll)"),this.handleAdsReady())},t.prototype.handleAdsReady=function(){this.adsReady=!0,this.readyForPreroll()},t.prototype.afterLoadStart=function(e){var t=this.player;t.ads._hasThereBeenALoadStartDuringPlayerLife?e():(t.ads.debug("Waiting for loadstart..."),t.one("loadstart",function(){t.ads.debug("Received loadstart event"),e()}))},t.prototype.noPreroll=function(){var e=this;this.afterLoadStart(function(){e.player.ads.debug("Skipping prerolls due to nopreroll event (Preroll)"),e.resumeAfterNoPreroll(e.player)})},t.prototype.readyForPreroll=function(){var e=this.player;this.afterLoadStart(function(){e.ads.debug("Triggered readyforpreroll event (Preroll)"),e.trigger("readyforpreroll")})},t.prototype.onAdsCanceled=function(e){var t=this;e.ads.debug("adscanceled (Preroll)"),this.afterLoadStart(function(){t.resumeAfterNoPreroll(e)})},t.prototype.onAdsError=function(e){var t=this;h.log("adserror (Preroll)"),this.inAdBreak()?e.ads.endLinearAdMode():this.afterLoadStart(function(){t.resumeAfterNoPreroll(e)})},t.prototype.startLinearAdMode=function(){var e=this.player;!this.adsReady||e.ads.inAdBreak()||this.isContentResuming()?h.log.warn("Unexpected startLinearAdMode invocation (Preroll)"):(e.clearTimeout(this._timeout),e.ads.adType="preroll",this.waitingForAdBreak=!1,E.start(e),e.ads._shouldBlockPlay=!1)},t.prototype.onAdStarted=function(e){e.removeClass("vjs-ad-loading")},t.prototype.endLinearAdMode=function(){var e=this.player;this.inAdBreak()&&(e.removeClass("vjs-ad-loading"),e.addClass("vjs-ad-content-resuming"),E.end(e),this.contentResuming=!0)},t.prototype.skipLinearAdMode=function(){var e=this,t=this.player;t.ads.inAdBreak()||this.isContentResuming()?h.log.warn("Unexpected skipLinearAdMode invocation"):this.afterLoadStart(function(){t.trigger("adskip"),t.ads.debug("skipLinearAdMode (Preroll)"),e.resumeAfterNoPreroll(t)})},t.prototype.onAdTimeout=function(e){var t=this;this.afterLoadStart(function(){e.ads.debug("adtimeout (Preroll)"),t.resumeAfterNoPreroll(e)})},t.prototype.onNoPreroll=function(e){e.ads.inAdBreak()||this.isContentResuming()?h.log.warn("Unexpected nopreroll event (Preroll)"):this.noPreroll()},t.prototype.resumeAfterNoPreroll=function(e){this.contentResuming=!0,e.ads._shouldBlockPlay=!1,e.paused()&&(e.ads._playRequested||e.ads._pausedOnContentupdate)&&e.play()},t.prototype.cleanup=function(e){e.ads._hasThereBeenALoadStartDuringPlayerLife||h.log.warn("Leaving Preroll state before loadstart event can cause issues."),e.removeClass("vjs-ad-loading"),e.removeClass("vjs-ad-content-resuming"),e.clearTimeout(this._timeout)},t}(k),P=function(e){function t(){return a(this,t),v(this,e.apply(this,arguments))}return o(t,e),t._getName=function(){return"Midroll"},t.prototype.init=function(e){e.ads.adType="midroll",E.start(e),e.addClass("vjs-ad-loading")},t.prototype.onAdStarted=function(e){e.removeClass("vjs-ad-loading")},t.prototype.endLinearAdMode=function(){var e=this.player;this.inAdBreak()&&(this.contentResuming=!0,e.addClass("vjs-ad-content-resuming"),e.removeClass("vjs-ad-loading"),E.end(e))},t.prototype.onAdsError=function(e){this.inAdBreak()&&e.ads.endLinearAdMode()},t.prototype.cleanup=function(e){e.removeClass("vjs-ad-loading"),e.removeClass("vjs-ad-content-resuming")},t}(k),A=function(e){function t(){return a(this,t),v(this,e.apply(this,arguments))}return o(t,e),t._getName=function(){return"Postroll"},t.prototype.init=function(e){if(this.waitingForAdBreak=!0,e.ads._contentEnding=!0,e.ads.nopostroll_)this.resumeContent(e),this.transitionTo(L);else{e.addClass("vjs-ad-loading");var t=e.ads.settings.timeout;"number"==typeof e.ads.settings.postrollTimeout&&(t=e.ads.settings.postrollTimeout),this._postrollTimeout=e.setTimeout(function(){e.trigger("adtimeout")},t)}},t.prototype.startLinearAdMode=function(){var e=this.player;e.ads.inAdBreak()||this.isContentResuming()?h.log.warn("Unexpected startLinearAdMode invocation (Postroll)"):(e.ads.adType="postroll",e.clearTimeout(this._postrollTimeout),this.waitingForAdBreak=!1,E.start(e))},t.prototype.onAdStarted=function(e){e.removeClass("vjs-ad-loading")},t.prototype.endLinearAdMode=function(){var e=this,t=this.player;this.inAdBreak()&&(t.removeClass("vjs-ad-loading"),this.resumeContent(t),E.end(t,function(){e.transitionTo(L)}))},t.prototype.skipLinearAdMode=function(){var e=this.player;e.ads.inAdBreak()||this.isContentResuming()?h.log.warn("Unexpected skipLinearAdMode invocation"):(e.ads.debug("Postroll abort (skipLinearAdMode)"),e.trigger("adskip"),this.abort(e))},t.prototype.onAdTimeout=function(e){e.ads.debug("Postroll abort (adtimeout)"),this.abort(e)},t.prototype.onAdsError=function(e){e.ads.debug("Postroll abort (adserror)"),e.ads.inAdBreak()?e.ads.endLinearAdMode():this.abort(e)},t.prototype.onContentChanged=function(e){this.isContentResuming()?this.transitionTo(j):this.inAdBreak()||this.transitionTo(O)},t.prototype.onNoPostroll=function(e){this.isContentResuming()||this.inAdBreak()?h.log.warn("Unexpected nopostroll event (Postroll)"):this.abort(e)},t.prototype.resumeContent=function(e){this.contentResuming=!0,e.addClass("vjs-ad-content-resuming")},t.prototype.abort=function(e){this.resumeContent(e),e.removeClass("vjs-ad-loading"),this.transitionTo(L)},t.prototype.cleanup=function(e){e.removeClass("vjs-ad-content-resuming"),e.clearTimeout(this._postrollTimeout),e.ads._contentEnding=!1},t}(k),j=function(e){function t(){return a(this,t),v(this,e.apply(this,arguments))}return o(t,e),t._getName=function(){return"BeforePreroll"},t.prototype.init=function(e){this.adsReady=!1,this.shouldResumeToContent=!1,e.ads._shouldBlockPlay=!0},t.prototype.onAdsReady=function(e){e.ads.debug("Received adsready event (BeforePreroll)"),this.adsReady=!0},t.prototype.onPlay=function(e){e.ads.debug("Received play event (BeforePreroll)"),this.transitionTo(O,this.adsReady,this.shouldResumeToContent)},t.prototype.onAdsCanceled=function(e){e.ads.debug("adscanceled (BeforePreroll)"),this.shouldResumeToContent=!0},t.prototype.onAdsError=function(){this.player.ads.debug("adserror (BeforePreroll)"),this.shouldResumeToContent=!0},t.prototype.onNoPreroll=function(){this.player.ads.debug("Skipping prerolls due to nopreroll event (BeforePreroll)"),this.shouldResumeToContent=!0},t.prototype.skipLinearAdMode=function(){var e=this.player;e.trigger("adskip"),e.ads.debug("skipLinearAdMode (BeforePreroll)"),this.shouldResumeToContent=!0},t.prototype.onContentChanged=function(){},t}(S),x=function(e){function t(){return a(this,t),v(this,e.apply(this,arguments))}return o(t,e),t._getName=function(){return"ContentPlayback"},t.prototype.init=function(e){e.ads._shouldBlockPlay=!1},t.prototype.onAdsReady=function(e){e.ads.debug("Received adsready event (ContentPlayback)"),e.ads.nopreroll_||(e.ads.debug("Triggered readyforpreroll event (ContentPlayback)"),e.trigger("readyforpreroll"))},t.prototype.onReadyForPostroll=function(e){e.ads.debug("Received readyforpostroll event"),this.transitionTo(A)},t.prototype.startLinearAdMode=function(){this.transitionTo(P)},t}(S),L=function(e){function t(){return a(this,t),v(this,e.apply(this,arguments))}return o(t,e),t._getName=function(){return"AdsDone"},t.prototype.init=function(e){e.ads._contentHasEnded=!0,e.trigger("ended")},t.prototype.startLinearAdMode=function(){h.log.warn("Unexpected startLinearAdMode invocation (AdsDone)")},t}(S),I=b.playMiddleware,M=b.isMiddlewareMediatorSupported,D=h.getTech("Html5").Events,R={timeout:5e3,prerollTimeout:undefined,postrollTimeout:undefined,debug:!1,stitchedAds:!1,contentIsLive:undefined},B=function(e){var t,n,r,i=this,a=h.mergeOptions(R,e),o=D.concat(["firstplay","loadedalldata","playing"]);i.on(o,l),M()&&a.debug?h.log("ADS:","Play middleware has been registered with videojs"):(t=i,a.debug&&h.log("ADS:","Using cancelContentPlay to block content playback"),t.on("play",_)),i.setTimeout(function(){i.ads._hasThereBeenALoadStartDuringPlayerLife||""===i.src()||h.log.error("videojs-contrib-ads has not seen a loadstart event 5 seconds after being initialized, but a source is present. This indicates that videojs-contrib-ads was initialized too late. It must be initialized immediately after video.js in the same tick. As a result, some ads will not play and some media events will be incorrect. For more information, see http://videojs.github.io/videojs-contrib-ads/integrator/getting-started.html")},5e3),i.on("ended",function(){i.hasClass("vjs-has-started")||i.addClass("vjs-has-started")}),i.on("contenttimeupdate",function(){i.removeClass("vjs-waiting")}),i.on(["addurationchange","adcanplay"],function(){if((!i.ads.snapshot||i.currentSrc()!==i.ads.snapshot.currentSrc)&&i.ads.inAdBreak()){var e=i.play();e&&e["catch"]&&e["catch"](function(e){h.log.warn("Play promise rejected when playing ad",e)})}}),i.on("nopreroll",function(){i.ads.debug("Received nopreroll event"),i.ads.nopreroll_=!0}),i.on("nopostroll",function(){i.ads.debug("Received nopostroll event"),i.ads.nopostroll_=!0}),i.on("playing",function(){i.ads._cancelledPlay=!1,i.ads._pausedOnContentupdate=!1}),i.on("play",function(){i.ads._playRequested=!0}),i.one("loadstart",function(){i.ads._hasThereBeenALoadStartDuringPlayerLife=!0}),i.on("loadeddata",function(){i.ads._hasThereBeenALoadedData=!0}),i.on("loadedmetadata",function(){i.ads._hasThereBeenALoadedMetaData=!0}),i.ads=(n=i,{disableNextSnapshotRestore:!1,_contentEnding:!1,_contentHasEnded:!1,_hasThereBeenALoadStartDuringPlayerLife:!1,_hasThereBeenALoadedData:!1,_hasThereBeenALoadedMetaData:!1,_inLinearAdMode:!1,_shouldBlockPlay:!1,_playBlocked:!1,_playRequested:!1,adType:null,VERSION:"6.4.1",reset:function(){n.ads.disableNextSnapshotRestore=!1,n.ads._contentEnding=!1,n.ads._contentHasEnded=!1,n.ads.snapshot=null,n.ads.adType=null,n.ads._hasThereBeenALoadedData=!1,n.ads._hasThereBeenALoadedMetaData=!1,n.ads._cancelledPlay=!1,n.ads._shouldBlockPlay=!1,n.ads._playBlocked=!1,n.ads.nopreroll_=!1,n.ads.nopostroll_=!1,n.ads._playRequested=!1},startLinearAdMode:function(){n.ads._state.startLinearAdMode()},endLinearAdMode:function(){n.ads._state.endLinearAdMode()},skipLinearAdMode:function(){n.ads._state.skipLinearAdMode()},stitchedAds:function(e){return e!==undefined&&(this._stitchedAds=!!e),this._stitchedAds},videoElementRecycled:function(){if(n.ads.shouldPlayContentBehindAd(n))return!1;if(!this.snapshot)throw new Error("You cannot use videoElementRecycled while there is no snapshot.");var e=n.tech_.src()!==this.snapshot.src,t=n.currentSrc()!==this.snapshot.currentSrc;return e||t},isLive:function(e){return"boolean"==typeof e.ads.settings.contentIsLive?e.ads.settings.contentIsLive:e.duration()===Infinity||"8"===h.browser.IOS_VERSION&&0===e.duration()},shouldPlayContentBehindAd:function(e){return!h.browser.IS_IOS&&!h.browser.IS_ANDROID&&e.duration()===Infinity},isInAdMode:function(){return this._state.isAdState()},isWaitingForAdBreak:function(){return this._state.isWaitingForAdBreak()},isContentResuming:function(){return this._state.isContentResuming()},isAdPlaying:function(){return this._state.inAdBreak()},inAdBreak:function(){return this._state.inAdBreak()},removeNativePoster:function(){var e=n.$(".vjs-tech");e&&e.removeAttribute("poster")},debug:function(){if(this.settings.debug){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];1===t.length&&"string"==typeof t[0]?h.log("ADS: "+t[0]):h.log.apply(h,["ADS:"].concat(t))}}}),i.ads.settings=a,i.ads._state=new j(i),i.ads._state.init(i),i.ads.stitchedAds(a.stitchedAds),i.ads.cueTextTracks=m,i.ads.adMacroReplacement=function(e,s,t){var n=this,u={};e=e.replace(/{([^}=]+)=([^}]+)}/g,function(e,t,n){return u["{"+t+"}"]=n,"{"+t+"}"}),s===undefined&&(s=!1);var r={};for(var i in t!==undefined&&(r=t),r["{player.id}"]=this.options_["data-player"],r["{mediainfo.id}"]=this.mediainfo?this.mediainfo.id:"",r["{mediainfo.name}"]=this.mediainfo?this.mediainfo.name:"",r["{mediainfo.duration}"]=this.mediainfo?this.mediainfo.duration:"",r["{player.duration}"]=this.duration(),r["{timestamp}"]=(new Date).getTime(),r["{document.referrer}"]=f.referrer,r["{window.location.href}"]=c.location.href,r["{random}"]=Math.floor(1e12*Math.random()),["description","tags","reference_id","ad_keys"].forEach(function(e){n.mediainfo&&n.mediainfo[e]?r["{mediainfo."+e+"}"]=n.mediainfo[e]:u["{mediainfo."+e+"}"]?r["{mediainfo."+e+"}"]=u["{mediainfo."+e+"}"]:r["{mediainfo."+e+"}"]=""}),g(this.mediainfo,r,"custom_fields"),g(this.mediainfo,r,"customFields"),r)e=e.split(i).join(y(r[i],s));for(var a in e=e.replace(/{pageVariable\.([^}]+)}/g,function(e,t){for(var n=void 0,r=c,i=t.split("."),a=0;a<i.length;a++)a===i.length-1?n=r[i[a]]:r=r[i[a]];var o=void 0===n?"undefined":p(n);return null===n?"null":n===undefined?u["{pageVariable."+t+"}"]?u["{pageVariable."+t+"}"]:(h.log.warn('Page variable "'+t+'" not found'),""):"string"!==o&&"number"!==o&&"boolean"!==o?(h.log.warn('Page variable "'+t+'" is not a supported type'),""):y(String(n),s)}),u)e=e.replace(a,u[a]);return e}.bind(i),(r=i).ads.contentSrc=r.currentSrc(),r.ads._seenInitialLoadstart=!1,r.on("loadstart",function(){if(!r.ads.inAdBreak()){var e=r.currentSrc();e!==r.ads.contentSrc&&(r.ads._seenInitialLoadstart&&r.trigger({type:"contentchanged"}),r.trigger({type:"contentupdate",oldValue:r.ads.contentSrc,newValue:e}),r.ads.contentSrc=e),r.ads._seenInitialLoadstart=!0}}),i.on("contentchanged",i.ads.reset);var s=function(){var e=i.textTracks();if(!i.ads.shouldPlayContentBehindAd(i)&&i.ads.inAdBreak()&&i.tech_.featuresNativeTextTracks&&h.browser.IS_IOS&&!Array.isArray(i.textTracks()))for(var t=0;t<e.length;t++){var n=e[t];"showing"===n.mode&&(n.mode="disabled")}};i.ready(function(){i.textTracks().addEventListener("change",s)}),i.on(["play","playing","ended","adsready","adscanceled","adskip","adserror","adtimeout","ads-ad-started","contentchanged","contentresumed","readyforpostroll","nopreroll","nopostroll"],function(e){i.ads._state.handleEvent(e.type)}),i.on("dispose",function(){i.textTracks().removeEventListener("change",s)})};return(h.registerPlugin||h.plugin)("ads",B),M()&&h.use("*",I),B})}).call(e,r(3))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var F=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var H=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var r=n(0);var V=m(r);var i=n(83);var q=m(i);n(30);var a=n(64);var o=g(a);var s=n(23);var W=g(s);var u=n(1);var l=m(u);var c=n(15);var z=m(c);var d=n(47);var f=m(d);var h=n(16);var G=m(h);var p=n(29);var v=m(p);var y=n(36);var X=m(y);var Y=n(21);function g(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))t[n]=e[n]}}t["default"]=e;return t}}function m(e){return e&&e.__esModule?e:{"default":e}}function K(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function $(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function J(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function _(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}var b=["cloudinaryConfig","transformation","sourceTypes","sourceTransformation","posterOptions","autoShowRecommendations","fontFace"];var T=b.concat(["publicId","source","autoplayMode","playedEventPercents","playedEventTimes","analytics","fluid","ima","playlistWidget","ads"]);Object.keys(o).forEach(function(e){V["default"].registerPlugin(e,o[e])});var w=function w(e){var t=e.autoplayMode;if(t){switch(t){case"always":e.autoplay=true;break;case"on-scroll":case"never":default:e.autoplay=false}}};var Q=function Q(e){if(typeof e==="string"){var t=e;if(t.indexOf("#")===0){t=t.slice(1)}e=document.querySelector("#"+t);if(!e){throw new Error("Could not find element with id "+t)}}if(!e.tagName){throw new Error("Must specify either an element or an element id.")}else if(e.tagName!=="VIDEO"){throw new Error("Element is not a video tag.")}return e};var Z=function Z(e,t){var n=(0,v["default"])(e);if(V["default"].dom.hasClass(e,"cld-fluid")){t.fluid=true}t=(0,l["default"])({},z["default"],n,t);w(t);var r=W.sliceAndUnsetProperties.apply(W,[t].concat(_(T)));r.cloudinary=W.sliceAndUnsetProperties.apply(W,[r].concat(b));if(t.videojs){(0,l["default"])(t,t.videojs);delete t.videojs}return{playerOptions:r,videojsOptions:t}};var k=function k(){var e=V["default"].getComponent("Player");var t=e.prototype.options_.children;t.push("titleBar");t.push("upcomingVideoOverlay");t.push("recommendationsOverlay");var n=V["default"].getComponent("SeekBar");if(V["default"].browser.IS_IOS||V["default"].browser.IS_ANDROID){n.prototype.options_.children.splice(1,1)}var r=V["default"].getComponent("ControlBar");t=r.prototype.options_.children;t.splice(t.indexOf("progressControl"),0,"spacer","progressControlEventsBlocker");t.splice(t.indexOf("playToggle"),1,"playlistPreviousButton","playToggle","playlistNextButton");t.splice(t.indexOf("fullscreenToggle"),1,"cloudinaryButton","fullscreenToggle")};k();var ee=true;var S=function(e){J(_,e);function _(e,t,n){K(this,_);var l=$(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));e=Q(e);t=Z(e,t);var r=function r(){a();i();l.fluid(y.fluid);var e=y.source||y.publicId;if(e){l.source(e)}};var a=function a(){var e=[];if(y.playedEventPercents){var t={type:"percentsplayed",percents:y.playedEventPercents};e.push(t)}if(y.playedEventTimes){var n={type:"timeplayed",times:y.playedEventTimes};e.push(n)}e.push.apply(e,["seek","mute","unmute"]);var i=new G["default"](l.videojs,{events:e});var r=i.events;Object.keys(r).forEach(function(n){var r=function r(e,t){l.videojs.trigger({type:n,eventData:t})};i.on(n,r)})};var i=function i(){l.videojs.addClass(Y.CLASS_PREFIX);(0,Y.setSkinClassPrefix)(l.videojs,(0,Y.skinClassPrefix)(l.videojs));if(V["default"].browser.IE_VERSION===11){l.videojs.addClass("cld-ie11")}};var o=function o(e){l.adsEnabled=c(e);s();u();d();f();h()};var c=function c(e){if(!e.contribAdsLoaded||!e.imaAdsLoaded){if(y.ads){if(!e.contribAdsLoaded){console.log("contribAds is not loaded")}if(!e.imaAdsLoaded){console.log("imaSdk is not loaded")}}return false}if(!y.ads){y.ads={}}var t=y.ads;if(Object.keys(t).length===0){return false}var n=t.adTagUrl,r=t.prerollTimeout,i=t.postrollTimeout,a=t.showCountdown,o=t.adLabel,s=t.autoPlayAdBreaks,u=t.locale;l.videojs.ima({id:l.el().id,adTagUrl:n,disableFlashAds:true,prerollTimeout:r||5e3,postrollTimeout:i||5e3,showCountdown:a!==false,adLabel:o||"Advertisement",locale:u||"en",autoPlayAdBreaks:s!==false,debug:true});return true};var s=function s(){var e=y.autoplayMode;if(e==="on-scroll"){l.videojs.autoplayOnScroll()}};var u=function u(){l.videojs.contextMenu(z["default"].contextMenu)};var d=function d(){l.videojs.perSourceBehaviors()};var f=function f(){var e=y.cloudinary;e.chainTarget=l;l.videojs.cloudinary(y.cloudinary)};var h=function h(){var e=y.analytics;if(e){var t=(typeof e==="undefined"?"undefined":F(e))==="object"?e:{};l.videojs.analytics(t)}};var p=null;var v=function v(){l.videojs.on("playlistcreated",function(){if(p){p.dispose()}var e=y.playlistWidget;if((0,q["default"])(e)){if(y.fluid){e.fluid=true}if(y.cloudinary.fontFace){e.fontFace=y.cloudinary.fontFace}p=new X["default"](l.videojs,e)}})};var y=t.playerOptions;var g=t.videojsOptions;W.addClass(e,"video-js");W.fontFace(e,y);l.videojs=(0,V["default"])(e,g);if(g.muted){l.videojs.volume(.4)}var m={contribAdsLoaded:typeof l.videojs.ads==="function",imaAdsLoaded:(typeof google==="undefined"?"undefined":F(google))==="object"&&F(google.ima)==="object"};o(m);v();l.videojs.ready(function(){r();if(n){n(l)}});if(l.adsEnabled){if(Object.keys(t.playerOptions.ads).length>0&&F(l.videojs.ima)==="object"){if(t.playerOptions.ads.adsInPlaylist==="first-video"){l.videojs.one("sourcechanged",function(){l.videojs.ima.playAd()})}else{l.videojs.on("sourcechanged",function(){l.videojs.ima.playAd()})}}}l.nbCalls=0;l.reTryVideo=function(e,t){if(!l.isVideoReady()){if(l.nbCalls<e){l.nbCalls++;l.videojs.setTimeout(l.reTryVideo,t)}else{var n=new Error("Video is not ready please try later");l.videojs.trigger("error",n)}}};l.isVideoReady=function(){var e=l.videojs.readyState();if(e===4){l.nbCalls=0;return true}return false};l.playlistWidget=function(e){if(!e&&!p){return false}if(!e&&p){return p}if((0,q["default"])(e)){p.options(e)}return p};return l}H(_,[{key:"cloudinaryConfig",value:function t(e){return this.videojs.cloudinary.cloudinaryConfig(e)}},{key:"currentPublicId",value:function n(){return this.videojs.cloudinary.currentPublicId()}},{key:"currentSourceUrl",value:function r(){return this.videojs.currentSource().src}},{key:"currentPoster",value:function i(){return this.videojs.cloudinary.currentPoster()}},{key:"source",value:function a(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(_.allowUsageReport()){t.usageReport=true}clearTimeout(this.reTryVideo);this.nbCalls=0;var n=this.videojs.options_.maxTries||3;var r=this.videojs.options_.videoTimeout||55e3;this.reTryVideo(n,r);return this.videojs.cloudinary.source(e,t)}},{key:"posterOptions",value:function o(e){return this.videojs.cloudinary.posterOptions(e)}},{key:"skin",value:function s(e){if(typeof e==="string"&&e!==undefined){(0,Y.setSkinClassPrefix)(this.videojs,e);if(this.playlistWidget()){this.playlistWidget().setSkin()}}return(0,Y.skinClassPrefix)(this.videojs)}},{key:"playlist",value:function u(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return this.videojs.cloudinary.playlist(e,t)}},{key:"playlistByTag",value:function l(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return this.videojs.cloudinary.playlistByTag(e,t)}},{key:"sourcesByTag",value:function c(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return this.videojs.cloudinary.sourcesByTag(e,t)}},{key:"fluid",value:function d(e){if(e===undefined){return this.videojs.fluid()}if(e){this.videojs.addClass("cld-fluid")}else{this.videojs.removeClass("cld-fluid")}this.videojs.fluid(e);this.videojs.trigger("fluid",e);return this}},{key:"play",value:function f(){this.videojs.play();return this}},{key:"stop",value:function h(){this.pause();this.currentTime(0);return this}},{key:"playPrevious",value:function p(){this.playlist().playPrevious();return this}},{key:"playNext",value:function v(){this.playlist().playNext();return this}},{key:"transformation",value:function y(e){return this.videojs.cloudinary.transformation(e)}},{key:"sourceTypes",value:function g(e){return this.videojs.cloudinary.sourceTypes(e)}},{key:"sourceTransformation",value:function m(e){return this.videojs.cloudinary.sourceTransformation(e)}},{key:"autoShowRecommendations",value:function b(e){return this.videojs.cloudinary.autoShowRecommendations(e)}},{key:"duration",value:function T(){return this.videojs.duration()}},{key:"height",value:function w(e){if(!e){return this.videojs.height()}this.videojs.height(e);return this}},{key:"width",value:function k(e){if(!e){return this.videojs.width()}this.videojs.width(e);return this}},{key:"volume",value:function S(e){if(!e){return this.videojs.volume()}this.videojs.volume(e);return this}},{key:"mute",value:function C(){if(!this.isMuted()){this.videojs.muted(true)}return this}},{key:"unmute",value:function E(){if(this.isMuted()){this.videojs.muted(false)}return this}},{key:"isMuted",value:function O(){return this.videojs.muted()}},{key:"pause",value:function P(){this.videojs.pause();return this}},{key:"currentTime",value:function A(e){if(!e&&e!==0){return this.videojs.currentTime()}this.videojs.currentTime(e);return this}},{key:"maximize",value:function j(){if(!this.isMaximized()){this.videojs.requestFullscreen()}return this}},{key:"exitMaximize",value:function x(){if(this.isMaximized()){this.videojs.exitFullscreen()}return this}},{key:"isMaximized",value:function L(){return this.videojs.isFullscreen()}},{key:"dispose",value:function I(){this.videojs.dispose()}},{key:"controls",value:function M(e){if(e===undefined){return this.videojs.controls()}this.videojs.controls(e);return this}},{key:"ima",value:function D(){return{playAd:this.videojs.ima.playAd}}},{key:"loop",value:function R(e){if(e===undefined){return this.videojs.loop()}this.videojs.loop(e);return this}},{key:"el",value:function B(){return this.videojs.el()}}],[{key:"all",value:function N(e){var t=document.querySelectorAll(e);var n=[];for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++){i[a-1]=arguments[a]}for(var o=0;o<t.length;o++){n.push(new(Function.prototype.bind.apply(_,[null].concat([t[o]],i))))}return n}},{key:"allowUsageReport",value:function U(e){if(e===undefined){return ee}ee=!!e;return ee}}]);return _}(W.mixin(f["default"]));t["default"]=S},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(23);var s=i(r);function i(e){return e&&e.__esModule?e:{"default":e}}var u=/^(data-cld-)(\w+)/;var l={};function a(e){var t=null;if(e===""){return true}try{t=JSON.parse(e)}catch(n){}if(t){return t}t=Number(e);if(t){return t}return e}var c=function c(e){return a(e)};var d=function d(e){var t={};if(e&&e.attributes&&e.attributes.length>0){var n=e.attributes;for(var r=n.length-1;r>=0;r--){var i=n[r].name;var a=n[r].value;if(i.match(u)){i=s["default"].camelCase(i.replace(u,"$2"))}if(typeof e[i]==="boolean"){a=a!==null}else{var o=l[i]||c;a=o(a)}t[i]=a}}return t};t["default"]=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PlaylistPanel=t.ProgressControlEventsBlocker=t.RecommendationsOverlay=t.TitleBar=undefined;var r=n(46);var i=d(r);var a=n(38);var o=d(a);var s=n(37);var u=d(s);var l=n(35);var c=d(l);n(74);function d(e){return e&&e.__esModule?e:{"default":e}}t.TitleBar=i["default"];t.RecommendationsOverlay=o["default"];t.ProgressControlEventsBlocker=u["default"];t.PlaylistPanel=c["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var a=function f(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return f(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var r=n(8);var o=s(r);function s(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var d=function(e){c(t,e);function t(){u(this,t);return l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}i(t,[{key:"getCls",value:function n(){var e=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getCls",this).call(this);e.push("cld-plw-custom");return e}},{key:"createEl",value:function r(){var e=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this);this.options_.renderTo.appendChild(e);return e}}]);return t}(o["default"]);t["default"]=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var i=function f(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return f(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var a=n(8);var o=s(a);function s(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var d=function(e){c(n,e);function n(e,t){u(this,n);t.wrap=true;return l(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t))}r(n,[{key:"getCls",value:function t(){var e=i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getCls",this).call(this);e.push("cld-plw-horizontal");return e}}]);return n}(o["default"]);t["default"]=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var i=function f(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return f(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var a=n(8);var o=s(a);function s(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var d=function(e){c(n,e);function n(e,t){u(this,n);t.wrap=true;return l(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t))}r(n,[{key:"getCls",value:function t(){var e=i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getCls",this).call(this);e.push("cld-plw-vertical");return e}}]);return n}(o["default"]);t["default"]=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var u=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var l=function y(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return y(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var r=n(0);var c=o(r);var i=n(45);var a=o(i);function o(e){return e&&e.__esModule?e:{"default":e}}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var p=c["default"].dom||c["default"];var v={source:null,next:false};var s=function(e){h(o,e);function o(e,t){d(this,o);t=c["default"].mergeOptions(v,t);return f(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,t))}u(o,[{key:"handleClick",value:function t(e){l(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"handleClick",this).call(this,e);this.play()}},{key:"play",value:function r(){var e=this.getItem();var t=this.player().cloudinary.playlist().list();var n=t.indexOf(e);if(n===-1){throw new Error("Invalid playlist item...")}this.player().cloudinary.playlist().playAtIndex(n)}},{key:"isCurrent",value:function n(){return this.options_.current}},{key:"getTitle",value:function i(){return l(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"getTitle",this).call(this)}},{key:"getDuration",value:function a(){return l(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"getDuration",this).call(this)}},{key:"createEl",value:function s(){var e=l(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"createEl",this).call(this);e.classList.add("cld-plw-panel-item");var t=p.createEl("div",{className:"cld-plw-item-info-wrap"});var n=p.createEl("div",{className:"cld-plw-item-title"});if(this.isCurrent()){e.classList.add("cld-plw-panel-item-active");var r=p.createEl("span",{className:"cld-plw-item-title-curr"},{},"Now Playing: ");n.appendChild(r)}var i=p.createEl("span",{className:"cld-plw-item-title"},{},this.getTitle());n.appendChild(i);var a=p.createEl("div",{className:"cld-plw-item-duration"},{},this.getDuration());t.appendChild(n);t.appendChild(a);if(e){e.appendChild(t)}e.appendChild(t);return e}}]);return o}(a["default"]);c["default"].registerComponent("playlistPanelItem",s);t["default"]=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var s=function v(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return v(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var i=n(0);var u=o(i);n(71);var a=n(34);var l=o(a);function o(e){return e&&e.__esModule?e:{"default":e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=u["default"].getComponent("Component");var p=function(e){f(i,e);function i(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};c(this,i);var n=d(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,t));var r=function r(){n.render()};e.on("playlistitemchanged",r);n.render();n.dispose=function(){s(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",n).call(n);e.off("playlistitemchanged",r)};return n}r(i,[{key:"createEl",value:function t(){var e=s(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"createEl",this).call(this);e.classList.add("cld-plw-panel");return e}},{key:"removeAll",value:function n(){var e=this.children();for(var t=e.length-1;t>=0;--t){this.removeChild(e[t])}}},{key:"getItems",value:function o(){var e=this.player().cloudinary.playlist();var t=e._repeat;if(this.options_.showAll){return e.list()}var n=[];var r=this.options_.total;var i=e.currentIndex();var a=e.list()[i];n.push(a);while(n.length<r){i=e.nextIndex(i);if(i===-1){if(!t&&n.length>0){break}i=0}a=e.list()[i];n.push(a)}return n}},{key:"render",value:function a(){var r=this;var e=this.getItems();this.removeAll();e.forEach(function(e,t){var n=new l["default"](r.player(),u["default"].mergeOptions(r.options_,{item:e,next:t===1,current:t===0}));r.addChild(n)})}}]);return i}(h);u["default"].registerComponent("playlistPanel",p);t["default"]=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};var i=n(0);var u=h(i);var a=n(32);var l=h(a);var o=n(33);var c=h(o);var d=n(31);var f=h(d);function h(e){return e&&e.__esModule?e:{"default":e}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var v={fluid:false,show:true,direction:"vertical",total:4,selector:false,renderTo:[]};var y=function y(e,t){var n=r({},v,t);if(n.show&&typeof n.selector==="string"){n.useDefaultLayout=false;n.useCustomLayout=true;n.renderTo=document.querySelector(n.selector);n.showAll=true;if(!n.renderTo.length===0){throw new Error("Couldn't find element(s) by selector '"+n.selector+"' for playlist")}}if(n.show&&!n.selector){n.useDefaultLayout=true;n.useCustomLayout=false}n.direction=n.direction.toLowerCase()==="horizontal"?"horizontal":"vertical";n.skin=e.options_.skin;return n};var g=function(){function i(t){var n=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};p(this,i);e=y(t,e);this.options_=e;this.player_=t;this.render();var r=function r(e,t){n.options_.fluid=t};t.on("fluid",r);this.options=function(e){if(!e){return n.options_}n.options_=u["default"].mergeOptions(n.options_,e);t.trigger("playlistwidgetoption",n.options_.playlistWidget);return n.options_};this.dispose=function(){n.layout_.dispose();t.off("fluid",r)}}s(i,[{key:"render",value:function e(){if(this.options_.useDefaultLayout){if(this.options_.direction==="horizontal"){this.layout_=new l["default"](this.player_,this.options_)}else{this.layout_=new c["default"](this.player_,this.options_)}}if(this.options_.useCustomLayout){this.layout_=new f["default"](this.player_,this.options_)}}},{key:"getLayout",value:function t(){return this.layout_}},{key:"update",value:function n(e,t){this.options(t);if(e==="direction"){this.layout_.removeLayout();this.layout_.dispose();this.render()}else{this.layout_.update(e,this.options_)}}},{key:"setSkin",value:function r(){this.layout_.setCls()}},{key:"total",value:function a(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:v.total;e=parseInt(e,10);if(e!==this.options_.total&&typeof e==="number"&&e>0){this.update("total",{total:e})}return this}},{key:"direction",value:function o(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:v.direction;if(e==="horizontal"||e==="vertical"){this.update("direction",{direction:e})}return this}}]);return i}();t["default"]=g},function(e,t,n){"use strict";var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var i=function h(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return h(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var a=n(0);var o=s(a);function s(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var d=o["default"].getComponent("Component");var f=function(e){c(n,e);function n(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};u(this,n);return l(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t))}r(n,[{key:"createEl",value:function t(){var e=i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"createEl",this).call(this,"div",{className:"vjs-progress-control-events-blocker"});return e}}]);return n}(d);o["default"].registerComponent("progressControlEventsBlocker",f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(44);var i=a(r);function a(e){return e&&e.__esModule?e:{"default":e}}t["default"]=i["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var i=function m(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return m(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var a=n(0);var o=d(a);var s=n(41);var u=d(s);var l=n(43);var c=d(l);function d(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var v=o["default"].getComponent("Component");var y=function(e){p(o,e);function o(e){var t;f(this,o);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++){r[i-1]=arguments[i]}var a=h(this,(t=o.__proto__||Object.getPrototypeOf(o)).call.apply(t,[this,e].concat(r)));a._content=new g(e);a.addChild(a._content);return a}r(o,[{key:"setItems",value:function a(e){var t;for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++){r[i-1]=arguments[i]}(t=this._content).setItems.apply(t,[e].concat(r))}},{key:"clearItems",value:function t(){this._content._primary.clearItem();this._content._secondaryContainer.clearItems()}},{key:"createEl",value:function n(){return i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"createEl",this).call(this,"div",{className:"vjs-recommendations-overlay-content"})}}]);return o}(v);var g=function(e){p(o,e);function o(e){var t;f(this,o);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++){r[i-1]=arguments[i]}var a=h(this,(t=o.__proto__||Object.getPrototypeOf(o)).call.apply(t,[this,e].concat(r)));a._primary=new u["default"](e);a._secondaryContainer=new c["default"](e);a.addChild(a._primary);a.addChild(a._secondaryContainer);return a}r(o,[{key:"setItems",value:function a(e){var t;this._primary.setItem(e);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++){r[i-1]=arguments[i]}(t=this._secondaryContainer).setItems.apply(t,r)}},{key:"createEl",value:function t(){return i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"createEl",this).call(this,"div",{className:"aspect-ratio-content"})}}]);return o}(v);t["default"]=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var a=function h(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return h(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var r=n(0);var o=s(r);function s(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var d=o["default"].getComponent("ClickableComponent");var f=function(e){c(t,e);function t(){u(this,t);return l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}i(t,[{key:"createEl",value:function n(){var e=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"span",{className:"vjs-recommendations-overlay-hide vjs-icon-close"});return e}},{key:"handleClick",value:function r(){this.options_.clickHandler()}}]);return t}(d);t["default"]=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var l=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var c=function g(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return g(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var r=n(0);var i=u(r);var a=n(14);var o=u(a);var s=n(13);var d=u(s);function u(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var v=i["default"].dom||i["default"];var y=function(e){p(i,e);function i(){f(this,i);return h(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}l(i,[{key:"setItem",value:function a(e){c(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"setItem",this).call(this,e);var t=this.source.info();this.setTitle(t.title);this.setSubtitle(t.subtitle);if(t.description){var n=300;var r=t.description.length>n?t.description.substring(0,n)+"...":t.description;this.setDescription(r)}}},{key:"setPoster",value:function t(e){this.poster.style.backgroundImage="url('"+e+"')"}},{key:"setTitle",value:function n(e){d["default"].setText(this.title,e)}},{key:"setSubtitle",value:function r(e){d["default"].setText(this.subtitle,e)}},{key:"setDescription",value:function o(e){d["default"].setText(this.description,e)}},{key:"clearItem",value:function s(){this.setTitle("");this.setSubtitle("");this.setDescription("");this.poster.style.backgroundImage=null}},{key:"createEl",value:function u(){var e=c(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"createEl",this).call(this,"div",{className:"vjs-recommendations-overlay-item vjs-recommendations-overlay-item-primary"});this.poster=v.createEl("div",{className:"vjs-recommendations-overlay-item-primary-image"});this.title=v.createEl("h2");this.title.innerHTML="";this.subtitle=v.createEl("h3");this.subtitle.innerHTML="";this.description=v.createEl("p");this.description.innerHTML="";this.content=v.createEl("div",{className:"vjs-recommendations-overlay-item-info vjs-recommendations-overlay-item-primary-content"});this.content.appendChild(this.title);this.content.appendChild(this.subtitle);this.content.appendChild(this.description);e.appendChild(this.poster);e.appendChild(this.content);return e}}]);return i}(o["default"]);t["default"]=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var u=function v(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return v(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var r=n(0);var i=l(r);var a=n(14);var o=l(a);function l(e){return e&&e.__esModule?e:{"default":e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=i["default"].dom||i["default"];var p=function(e){f(n,e);function n(){c(this,n);return d(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}s(n,[{key:"setItem",value:function t(e){u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setItem",this).call(this,e);this.setDuration("")}},{key:"setPoster",value:function r(e){this.el().style.backgroundImage="url('"+e+"')"}},{key:"setDuration",value:function i(e){this.duration.innerText=e}},{key:"createEl",value:function a(){var e=u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"createEl",this).call(this,"div",{className:"vjs-recommendations-overlay-item vjs-recommendations-overlay-item-secondary"});this.title=h.createEl("span",{className:"vjs-recommendations-overlay-item-secondary-title"});this.title.innerHTML="";this.duration=h.createEl("span",{className:"vjs-recommendations-overlay-item-secondary-duration"});this.duration.innerHTML="";var t=h.createEl("div",{className:"vjs-recommendations-overlay-item-info"});t.appendChild(this.title);t.appendChild(this.duration);e.appendChild(t);return e}},{key:"handleClick",value:function o(){u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"handleClick",this).call(this);this.action()}}]);return n}(o["default"]);t["default"]=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var o=function v(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return v(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var r=n(0);var i=l(r);var s=n(42);var u=l(s);function l(e){return e&&e.__esModule?e:{"default":e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=i["default"].getComponent("Component");var p=function(e){f(t,e);function t(){c(this,t);return d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}a(t,[{key:"setItems",value:function i(){var n=this;for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}this.clearItems();if(!t){return}t.forEach(function(e){var t=new u["default"](n.player());t.setItem(e);n.addChild(t)})}},{key:"clearItems",value:function n(){var e=this.children().length;for(var t=0;t<e;++t){this.removeChild(this.children()[0])}}},{key:"createEl",value:function r(){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-recommendations-overlay-item-secondary-container"})}}]);return t}(h);t["default"]=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var c=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var d=function l(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return l(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var r=n(0);var f=o(r);var i=n(39);var h=o(i);var a=n(40);var p=o(a);n(75);function o(e){return e&&e.__esModule?e:{"default":e}}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}function y(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function g(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var _=4;var s=f["default"].getComponent("Component");var u=function(e){m(u,e);function u(e,t){var n;y(this,u);for(var r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++){i[a-2]=arguments[a]}var o=g(this,(n=u.__proto__||Object.getPrototypeOf(u)).call.apply(n,[this,e].concat(i)));o._content=new h["default"](e);o.addChild(o._content);o.addChild(new(Function.prototype.bind.apply(p["default"],[null].concat([e,{clickHandler:function s(){o.close()}}],i))));o.on(e,"recommendationschanged",function(e,t){o.setItems.apply(o,v(t.items))});o.on(e,"recommendationsnoshow",o.setDoNotOpen);o.on(e,"recommendationsshow",o.open);o.on(e,"recommendationshide",o.close);o.on(e,"sourcechanged",function(){o.clearItems();o.close()});o.doNotOpen=false;return o}c(u,[{key:"setDoNotOpen",value:function t(){this.doNotOpen=true}},{key:"open",value:function n(){if(!this.doNotOpen){this._showControlsOnClose=this.player().controls();this.player().controls(false);this.el().style.visibility="visible"}}},{key:"clearItems",value:function r(){this._content.clearItems()}},{key:"close",value:function i(){this.el().style.visibility="hidden";if(this._showControlsOnClose){this.player().controls(true)}}},{key:"createEl",value:function a(){var e=d(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"createEl",this).call(this,"div",{className:"vjs-recommendations-overlay"});f["default"].dom.addClass(e,"vjs-recommendations-overlay");return e}},{key:"setItems",value:function o(e){var t;for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++){r[i-1]=arguments[i]}this.doNotOpen=false;r=r.slice(0,_-1);(t=this._content).setItems.apply(t,[e].concat(v(r)))}},{key:"handleClick",value:function s(){this.stopPropagation()}},{key:"dispose",value:function l(){d(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"dispose",this).call(this)}}]);return u}(s);f["default"].registerComponent("recommendationsOverlay",u);t["default"]=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var l=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var c=function u(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return u(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var r=n(0);var d=i(r);n(72);function i(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var a=d["default"].getComponent("ClickableComponent");var o=300;var v={item:null,transformation:{width:o,aspect_ratio:"16:9",crop:"pad",background:"black"}};var s=function(e){p(r,e);function r(e,t){f(this,r);t=d["default"].mergeOptions(v,t);return h(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t))}l(r,[{key:"getItem",value:function t(){return this.options_.item}},{key:"getTitle",value:function n(){return this.getItem().info().title}},{key:"getDuration",value:function i(){return" "}},{key:"getThumbnail",value:function a(){return this.getItem().poster().url({transformation:this.options_.transformation})}},{key:"handleClick",value:function o(e){e.preventDefault()}},{key:"createControlTextEl",value:function s(){return}},{key:"createEl",value:function u(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"a";var t=c(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"createEl",this).call(this,e,{className:"cld-thumbnail",href:"#"});var n=c(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"createEl",this).call(this,"img",{className:"cld-thumbnail-img",src:this.getThumbnail()});t.appendChild(n);t.style.backgroundImage="url('"+this.getThumbnail()+"')";return t}}]);return r}(a);t["default"]=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var i=function y(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return y(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var a=n(0);var o=l(a);n(73);var s=n(13);var u=l(s);function l(e){return e&&e.__esModule?e:{"default":e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=o["default"].dom||o["default"];var p=o["default"].getComponent("Component");var v=function(e){f(o,e);function o(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};c(this,o);var r=d(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,t));r.on(e,"cldsourcechanged",function(e,t){var n=t.source;return r.setItem(n)});r.setItem=function(e){if(!e){r.setTitle("");r.setSubtitle("");return}var t=e.info();r.setTitle(t.title);r.setSubtitle(t.subtitle)};r.setTitle=function(e){u["default"].setText(r.titleEl,e);a();return e};r.setSubtitle=function(e){u["default"].setText(r.subtitleEl,e);a();return e};var n=function n(){return r.titleEl.innerText};var i=function i(){return r.subtitleEl.innerText};var a=function a(){if(!n()&&!i()){r.hide();return}r.show()};return r}r(o,[{key:"createEl",value:function t(){this.titleEl=h.createEl("div",{className:"vjs-title-bar-title"});this.subtitleEl=h.createEl("div",{className:"vjs-title-bar-subtitle"});var e=i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"createEl",this).call(this,"div",{append:this.titleEl,className:"vjs-title-bar"});e.appendChild(this.titleEl);e.appendChild(this.subtitleEl);return e}}]);return o}(p);o["default"].registerComponent("titleBar",v);t["default"]=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function a(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var o=function o(e){return function(e){a(t,e);function t(){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));var u={data:{},handlers:{}};s.on=function(){var e;for(var t=arguments.length,n=Array(t),r=0;r<t;r++){n[r]=arguments[r]}var i=n.length-1;var a=n[i];u.handlers[a]=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++){n[r-1]=arguments[r]}e.Player=s;a.apply(undefined,[e].concat(n))};n[i]=u.handlers[a];return(e=s.videojs).on.apply(e,n)};s.one=function(){var e;for(var t=arguments.length,n=Array(t),r=0;r<t;r++){n[r]=arguments[r]}var i=n.length-1;var a=n[i];u.handlers[a]=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++){n[r-1]=arguments[r]}e.Player=s;a.apply(undefined,[e].concat(n));delete u.handlers[a]};n[i]=u.handlers[a];return(e=s.videojs).one.apply(e,n)};s.off=function(){var e;for(var t=arguments.length,n=Array(t),r=0;r<t;r++){n[r]=arguments[r]}var i=n.length-1;var a=n[i];n[i]=u.handlers[a];var o=(e=s.videojs).off.apply(e,n);delete u.handlers[a];return o};s.trigger=function(){var e;(e=s.videojs).trigger.apply(e,arguments)};return s}return t}(e)};t["default"]=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};new h(this,e).init()};var r=n(0);var i=u(r);var a=n(2);var o=n(16);var s=u(o);function u(e){return e&&e.__esModule?e:{"default":e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var l=["play","pause","ended","volumechange","resize","error","fullscreenchange","start","videoload","percentsplayed","seek","playerload"];var d={percentsplayed:{percents:[25,50,75,100]}};var f={events:l,category:"Video",defaultLabel:function p(e){return e.cloudinary&&e.cloudinary.currentPublicId()||e.currentSource().src}};var h=function h(e){var p=this;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};c(this,h);this.player=e;t=i["default"].mergeOptions(f,t);this.events=(0,o.normalizeEventsParam)(t.events,d);var n=(0,a.sliceProperties)(this.events,"percentsplayed","timeplayed","pause","seek");if(n.pause){delete n.pause;n.pausenoseek={}}var v=new s["default"](e,{events:n});var u=t.defaultLabel;var l=t.category;var y=null;var g=null;var m=null;this.init=function(){var e=function e(){p.track({action:"Player Load",label:window.location.href,nonInteraction:true})};var t=function t(){p.track({action:"Video Load",nonInteraction:true})};var n=function n(){p.track({action:"Play"})};var r=function r(){if(g){p.track({action:"Start"});g=true}};var i=function i(){p.track({action:"Pause"})};var a=function a(){if(!m){p.track({action:"Ended",nonInteraction:true});m=true}};var o=function o(){p.track({action:"Error",nonInteraction:true})};var s=function s(){var e=p.player.muted()?0:p.player.volume();p.track({action:"Volume Change",value:e})};var u=function u(){var e="Resize - "+p.player.width()+"x"+p.player.height()+"}";p.track({action:e})};var l=function l(){var e=p.player.isFullscreen()?"Enter Fullscreen":"Exit Fullscreen";p.track({action:e})};var c=function c(e,t){var n=t.percent;p.track({action:n+" Percents Played",nonInteraction:true})};var d=function d(e,t){var n=t.time;p.track({action:n+" Seconds Played",value:n,nonInteraction:true})};var f=function f(e,t){var n=t.seekStart,r=t.seekEnd;p.track({action:"Seek Start",value:n});p.track({action:"Seek End",value:r})};var h=function h(){if(p.player.currentSource().src!==y){_();y=p.player.currentSource().src;if(p.events.videoload){t()}}};if(p.events.play){p.player.on("play",n.bind(p))}if(p.events.ended){p.player.on("ended",a.bind(p))}if(p.events.volumechange){p.player.on("volumechange",s.bind(p))}if(p.events.resize){p.player.on("resize",u.bind(p))}if(p.events.error){p.player.on("error",o.bind(p))}if(p.events.start){p.player.on("playing",r.bind(p))}if(p.events.fullscreenchange){p.player.on("fullscreenchange",l.bind(p))}if(p.events.percentsplayed){v.on("percentsplayed",c.bind(p))}if(p.events.timeplayed){v.on("timeplayed",d.bind(p))}if(p.events.pause){v.on("pausenoseek",i.bind(p))}if(p.events.seek){v.on("seek",f.bind(p))}if(p.events.playerload){e()}p.player.on("loadedmetadata",h.bind(p))};this.track=function(e){var t=e.action,n=e.label,r=e.value,i=r===undefined?null:r,a=e.nonInteraction,o=a===undefined?false:a;var s={eventCategory:l,eventAction:t,eventLabel:n||u(p.player),eventValue:i||Math.round(p.player.currentTime()),nonInteraction:o};window.ga("send","event",s)};var _=function _(){y="";g=false;m=false};_()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};new m(this,e).init()};var h=n(6);var p=n(2);var r=n(1);var v=i(r);function i(e){return e&&e.__esModule?e:{"default":e}}function y(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var g={fraction:.5,isMuted:true};var m=function m(e){var t=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};y(this,m);n=(0,v["default"])({},g,n);this.player=e;var r=(0,p.sliceProperties)(n,"fraction");var i=false;var a=false;var o=null;var s=null;this.init=function(){f();d()};var u=function u(){window.removeEventListener("DOMContentLoaded",d,false);window.removeEventListener("load",d,false);window.removeEventListener("scroll",d,false);window.removeEventListener("resize",d,false);t.player.off("pause",o);t.player.off("play",s)};var l=function l(){i=true;a=false;t.player.pause()};var c=function c(){i=false;a=true;t.player.play()};var d=function d(){var e=(0,h.isElementInViewport)(t.player.el(),{fraction:r.fraction});if(e){if(t.player.paused()){c()}}else if(!t.player.paused()){l()}};var f=function f(){o=function o(){if(!t.player.waiting&&!i){u()}};s=function s(){if(!a){u()}};window.addEventListener("DOMContentLoaded",d,false);window.addEventListener("load",d,false);window.addEventListener("scroll",d,false);window.addEventListener("resize",d,false);t.player.on("pause",o);t.player.on("play",s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var o=function g(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return g(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var r=n(0);var s=i(r);n(76);function i(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=s["default"].dom||s["default"];var d=s["default"].getComponent("Component");var f=s["default"].getComponent("ClickableComponent");var p=function(e){c(n,e);function n(i,e){u(this,n);var t=l(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,e));var a=function a(e){var t=i.el();if(t){var n=i.el().querySelector(".vjs-cloudinary-tooltip").contains(e.target);var r=i.el().querySelector(".vjs-cloudinary-button")===e.target;if(!n&&!r){i.removeClass("vjs-cloudinary-tooltip-show")}}};window.addEventListener("click",a);i.on("dispose",function(){window.removeEventListener("click",a)});i.addChild("cloudinaryTooltip");return t}a(n,[{key:"toggleTooltip",value:function t(){if(!this.player().hasClass("vjs-cloudinary-tooltip-show")){this.player().trigger("cld-get-info")}this.player().toggleClass("vjs-cloudinary-tooltip-show")}},{key:"handleClick",value:function r(e){o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"handleClick",this).call(this,e);this.toggleTooltip()}},{key:"createEl",value:function i(){return s["default"].dom.createEl("button",{className:"vjs-control vjs-cloudinary-button vjs-button"})}}]);return n}(f);var v=function(e){c(n,e);function n(){u(this,n);return l(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}a(n,[{key:"createEl",value:function r(){var c=this;var d=o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"createEl",this).call(this,"div",{className:"vjs-cloudinary-tooltip"});var e=h.createEl("a",{className:"vjs-cloudinary-tooltip-header",href:"https://cloudinary.com/solutions/video_management",target:"_blank",innerHTML:'Powered By <span class="vjs-cloudinary-tooltip-logo"></span>'});d.appendChild(e);var t=h.createEl("div",{className:"vjs-cloudinary-tooltip-data-field",innerHTML:'<span class="vjs-cloudinary-tooltip-label">Video ID</span><span class="vjs-cloudinary-tooltip-value">asFgS74o8631fh5</span>'});d.appendChild(t);var f=function f(){var e=d.querySelector(".vjs-cloudinary-tooltip-data-field");e.innerHTML="";var t=c.player().cloudinary.currentPublicId();var n=c.player().videoWidth();var r=c.player().videoHeight();var i=c.player().bufferedPercent()||0;var a=c.player().volume()||0;var o=c.player().muted()||false;var s={"Video ID":t,Dimensions:n+" X "+r,Buffered:parseInt(i*100,0)+"%",Volume:o?"Muted":parseInt(a*100,0)+"%"};for(var u in s){if(Object.prototype.hasOwnProperty.call(s,u)){var l=h.createEl("div",{className:"vjs-cloudinary-tooltip-data-field",innerHTML:'<span class="vjs-cloudinary-tooltip-label">'+u+'</span><span class="vjs-cloudinary-tooltip-value">'+s[u]+"</span>"});e.appendChild(l)}}};this.player().on("cld-get-info",f);this.player().on("loadedmetadata",f);return d}}]);return n}(d);var y=function(e){c(t,e);function t(){u(this,t);return l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}a(t,[{key:"handleClick",value:function n(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleClick",this).call(this,e);this.player().removeClass("vjs-cloudinary-tooltip-show")}},{key:"createEl",value:function r(){return s["default"].dom.createEl("button",{className:"vjs-control vjs-cloudinary-tooltip-close-button"})}}]);return t}(f);s["default"].registerComponent("cloudinaryTooltipCloseButton",y);s["default"].registerComponent("cloudinaryButton",p);s["default"].registerComponent("cloudinaryTooltip",v);v.prototype.options_={children:["CloudinaryTooltipCloseButton"]};t["default"]=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var i=function p(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return p(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var a=n(17);var o=l(a);var s=n(0);var u=l(s);function l(e){return e&&e.__esModule?e:{"default":e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){f(t,e);function t(e){c(this,t);return d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{type:"next"}))}r(t,[{key:"handleClick",value:function n(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleClick",this).call(this,e);this.player().cloudinary.playlist().playNext()}}]);return t}(o["default"]);u["default"].registerComponent("PlaylistNextButton",h);t["default"]=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var i=function p(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return p(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var a=n(17);var o=l(a);var s=n(0);var u=l(s);function l(e){return e&&e.__esModule?e:{"default":e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){f(t,e);function t(e){c(this,t);return d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{type:"previous"}))}r(t,[{key:"handleClick",value:function n(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleClick",this).call(this,e);this.player().cloudinary.playlist().playPrevious()}}]);return t}(o["default"]);u["default"].registerComponent("PlaylistPreviousButton",h);t["default"]=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PlaylistPreviousButton=t.PlaylistNextButton=undefined;var r=n(51);var i=s(r);var a=n(52);var o=s(a);n(77);function s(e){return e&&e.__esModule?e:{"default":e}}t.PlaylistNextButton=i["default"];t.PlaylistPreviousButton=o["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var d=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var o=function _(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return _(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var r=n(0);var a=s(r);n(78);function s(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l=a["default"].dom||a["default"];var c=a["default"].getComponent("Component");var p=a["default"].getComponent("ClickableComponent");var v=function(e){u(c,e);function c(e){var t;f(this,c);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++){r[i-1]=arguments[i]}var a=h(this,(t=c.__proto__||Object.getPrototypeOf(c)).call.apply(t,[this,e].concat(r)));var o=function o(){if(d(a.player().ima)==="object"&&a.player().ima.getAdsManager()){if(!a.player().ima.getAdsManager().getCurrentAd()||a.player().ima.getAdsManager().getCurrentAd().isLinear()){a.addClass("vjs-upcoming-video-show")}}else{a.addClass("vjs-upcoming-video-show")}};var s=function s(){a.removeClass("vjs-upcoming-video-show")};var u=function u(e){a.addClass("disable-transition");e();a.removeClass("disable-transition")};var l=function l(e,t){s();u(function(){if(t.next){a.setItem(t.next)}})};e.on("upcomingvideoshow",o);e.on("upcomingvideohide",s);e.on("playlistitemchanged",l);return a}i(c,[{key:"setTitle",value:function n(e){var t=this.getChild("upcomingVideoOverlayContent").getChild("upcomingVideoOverlayBar").getChild("upcomingVideoOverlayTitle");t.setContent(e.info().title||e.publicId())}},{key:"setItem",value:function a(e){this._source=e;var t=parseInt(window.getComputedStyle(this.el(),null).getPropertyValue("max-width"),10);var n=Math.round(t*(9/16));var r={crop:"pad",background:"auto:predominant",width:t,height:n};var i=this.getChild("upcomingVideoOverlayContent");this.setTitle(e);i.el().style.backgroundImage="url("+this._source.poster().url({transformation:r})+")"}},{key:"handleClick",value:function t(){o(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"handleClick",this).call(this,event);this.player().cloudinary.playlist().playNext()}},{key:"createEl",value:function r(){var e=o(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"createEl",this).call(this,"div",{className:"vjs-upcoming-video"});return e}}]);return c}(p);var y=function(e){u(t,e);function t(){f(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}i(t,[{key:"createEl",value:function n(){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"aspect-ratio-content"})}}]);return t}(c);var g=function(e){u(n,e);function n(){f(this,n);return h(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}i(n,[{key:"setContent",value:function t(e){this._contentSpan.innerText=e}},{key:"createEl",value:function r(){var e=o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"createEl",this).call(this,"div",{className:"vjs-control vjs-upcoming-video-title"});var t=l.createEl("div",{className:"vjs-upcoming-video-title-display",innerHTML:'<span class="vjs-control-text">Next up</span>Next up: '});this._contentSpan=l.createEl("span",{className:"vjs-upcoming-video-title-display-label"});t.appendChild(this._contentSpan);e.appendChild(t);return e}}]);return n}(c);var m=function(e){u(t,e);function t(){f(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}i(t,[{key:"createEl",value:function n(){var e=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-upcoming-video-bar"});return e}}]);return t}(c);v.prototype.options_={children:["upcomingVideoOverlayContent"]};a["default"].registerComponent("upcomingVideoOverlay",v);y.prototype.options_={children:["upcomingVideoOverlayBar"]};a["default"].registerComponent("upcomingVideoOverlayContent",y);m.prototype.options_={children:["upcomingVideoOverlayTitle","playlistNextButton"]};a["default"].registerComponent("upcomingVideoOverlayBar",m);a["default"].registerComponent("upcomingVideoOverlayTitle",g);t["default"]=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var o=n(22);function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function(){function t(e){s(this,t);this._emitter=e;this._eventHandlers=[]}r(t,[{key:"on",value:function n(e,t){this._eventHandlers.push({type:e,handler:t});this._emitter.on(e,t)}},{key:"one",value:function i(e,t){var n=this;var r=function r(){t.apply(undefined,arguments);n.off(e,t)};this._eventHandlers.push({type:e,handler:t,wrapper:r});this._emitter.one(e,t)}},{key:"off",value:function a(t,n){var e=(0,o.findIndex)(this._eventHandlers,function(e){return e.type===t&&e.handler===n});if(e===-1){return}var r=this._eventHandlers[e];this._emitter.off(t,r.wrapper||r.handler);this._eventHandlers.splice(e,1)}},{key:"removeAllListeners",value:function e(){var t=this;this._eventHandlers.forEach(function(e){t.off(e)})}}]);return t}();t["default"]=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CONSTRUCTOR_PARAMS=undefined;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();t["default"]=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};e.chainTarget=e.chainTarget||this;this.cloudinary=new y(this,e)};var i=n(4);var w=p(i);var a=n(24);var o=p(a);var s=n(20);var k=p(s);var S=n(2);var C=n(10);var u=n(1);var E=p(u);var O=n(5);var l=n(57);var c=p(l);var d=n(9);var P=p(d);var f=n(55);var A=p(f);n(50);var h=n(58);var j=p(h);function p(e){return e&&e.__esModule?e:{"default":e}}function x(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function L(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var I={transformation:{},sourceTypes:[],sourceTransformation:[],posterOptions:{}};var M=t.CONSTRUCTOR_PARAMS=["cloudinaryConfig","transformation","sourceTypes","sourceTransformation","posterOptions","autoShowRecommendations"];var y=function(e){v(T,e);function T(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};x(this,T);var c=L(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,e,t));c.player=e;t=(0,E["default"])({},I,t);var d=null;var r=null;var i=null;var n=null;var a=null;var o=null;var s=null;var u=null;var f=t.chainTarget;var l=null;var h=null;var p=false;c.source=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};t=(0,E["default"])({},t);if(!e){return d}var n=null;if(e instanceof P["default"]){n=e}else{var r=(0,O.normalizeOptions)(e,t),i=r.publicId,a=r.options;n=c.buildSource(i,a)}if(n.recommendations()){var o=n.recommendations();var s=null;var u=false;if(t.recommendationOptions){var l=(0,S.sliceAndUnsetProperties)(t.recommendationOptions,"disableAutoShow","itemBuilder");u=l.disableAutoShow;s=l.itemBuilder}v(o,{disableAutoShow:u,itemBuilder:s})}else{y()}d=n;if(!t.skipRefresh){g()}c.player.trigger("cldsourcechanged",{source:n});return f};c.buildSource=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=null;var r=(0,O.normalizeOptions)(e,t);e=r.publicId;t=r.options;t.cloudinaryConfig=(0,O.mergeCloudinaryConfig)(c.cloudinaryConfig(),t.cloudinaryConfig||{});t.transformation=(0,O.mergeTransformation)(c.transformation(),t.transformation||{});t.sourceTransformation=t.sourceTransformation||c.sourceTransformation();t.sourceTypes=t.sourceTypes||c.sourceTypes();t.poster=t.poster||m();t.queryParams=t.usageReport?{_s:"vp-"+"1.1.1-edge.1"}:{};if(t.sourceTypes.includes("audio")){n=new j["default"](e,t)}else{n=new P["default"](e,t)}return n};c.posterOptions=function(e){if(!e){return n}n=e;return f};c.cloudinaryConfig=function(e){if(!e){return a}a=(0,C.getCloudinaryInstanceOf)(w["default"].Cloudinary,e);return f};c.transformation=function(e){if(!e){return o}o=(0,C.getCloudinaryInstanceOf)(w["default"].Transformation,e);return f};c.sourceTypes=function(e){if(!e){return s}s=e;return f};c.sourceTransformation=function(e){if(!e){return u}u=e;return f};c.on=function(){var e;return(e=l).on.apply(e,arguments)};c.one=function(){var e;return(e=l).one.apply(e,arguments)};c.off=function(){var e;return(e=l).off.apply(e,arguments)};c.autoShowRecommendations=function(e){if(e===undefined){return p}p=e;return f};c.dispose=function(){if(c.playlist()){c.disposePlaylist()}y();d=undefined;l.removeAllListeners()};var v=function v(e,t){var n=t.disableAutoShow,r=n===undefined?false:n,i=t.itemBuilder,a=i===undefined?null:i;y();if(!Array.isArray(e)&&typeof e!=="function"&&!e.then){throw new Error('"recommendations" must be either an array or a function')}h={};a=a||function(e){return{source:e instanceof P["default"]?e:c.buildSource(e),action:function t(){return c.source(e)}}};h.sourceChangedHandler=function(){var n=function n(e){if(typeof e!=="undefined"&&e.length>0){var t=e.map(function(e){return a(e)});c.player.trigger("recommendationschanged",{items:t})}else{c.player.trigger("recommendationsnoshow")}h.sources=e};if(typeof e==="function"){n(e())}else if(e.then){e.then(n)}else{n(e)}};c.one("sourcechanged",h.sourceChangedHandler);h.endedHandler=function(){if(!r&&c.autoShowRecommendations()){c.player.trigger("recommendationsshow")}};c.on("ended",h.endedHandler)};var y=function y(){if(h){c.off("sourcechanged",h.sourceChangedHandler);c.off("ended",h.endedHandler);delete h.endedHandler;delete h.sourceChangedHandler}h=null};var g=function g(){var e=c.source();if(e.poster()){c.player.poster(e.poster().url())}c.player.src(e.generateSources());r=e;i=c.playlist()};var m=function m(){var e=(0,E["default"])({},c.posterOptions());e.transformation=(0,C.getCloudinaryInstanceOf)(w["default"].Transformation,e.transformation||{});if(c.player.width()>0&&c.player.height()>0){e.transformation.width(c.player.width()).height(c.player.height()).crop("limit")}return e};var _=function _(e,t){var n=t.to;if(r.contains(n)){if(!c.source()){if(i){c.playlist(i)}c.source(r,{skipRefresh:true})}}else{c.player.trigger("cldsourcechanged",{});c.dispose()}};l=new A["default"](c.player);var b=S.sliceAndUnsetProperties.apply(undefined,[t].concat(M));(0,k["default"])(c,b);c.on("sourcechanged",_);return c}r(T,[{key:"currentPublicId",value:function t(){return this.source()&&this.source().publicId()}},{key:"currentPoster",value:function n(){return this.source()&&this.source().poster()}}]);return T}((0,o["default"])(c["default"]))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var r=n(59);var l=p(r);var a=n(86);var o=p(a);var s=n(80);var u=p(s);var c=n(2);var d=n(65);var f=n(1);var h=p(f);n(53);n(54);function p(e){return e&&e.__esModule?e:{"default":e}}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function y(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function g(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var m=(0,u["default"])({Promise:o["default"]}),_=m.fetch;var b={format:"json",resource_type:"video",type:"list"};var T=function T(e){return function(e){g(t,e);function t(n){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};v(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));var i=(0,c.sliceProperties)(e,"chainTarget").chainTarget;var a=null;var o=null;r.playlist=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(e===undefined){return a}if(r.playlist()){r.disposePlaylist()}s(e,t);n.trigger("playlistcreated");return i};r.disposePlaylist=function(){n.removeClass("vjs-playlist");var e=r.playlist();a=undefined;e.dispose();r.off("sourcechanged",o)};var s=function s(e,t){if(e instanceof l["default"]){a=e;a.resetState();a.currentIndex(a.currentIndex())}else{a=new l["default"](r,e,t);a.currentIndex(0)}o=u();n.addClass("vjs-playlist")};var u=function u(){var e=function e(){if(r.playlist()&&!r.playlist().currentSource().contains(r.player.currentSource())){r.disposePlaylist()}};r.on("sourcechanged",e);return e};return r}i(t,[{key:"playlistByTag",value:function r(e){var t=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return this.sourcesByTag(e,n).then(function(e){return t.playlist(e,n)})}},{key:"sourcesByTag",value:function n(e){var i=this;var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var t=this.cloudinaryConfig().url(e,b);return _(t).then(function(e){return e.json()}).then(function(e){var t=(0,d.normalizeJsonResponse)(e.resources);if(a.sorter){t.sort(a.sorter)}var n=t.map(function(e){var t=a.sourceParams||{};if(typeof t==="function"){t=t(e)}var n=e.context&&e.context.custom||{};var r=(0,h["default"])({info:n},t,{publicId:e.publicId});return i.buildSource(r)});return n})}}]);return t}(e)};t["default"]=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var i=n(9);var a=h(i);var o=n(19);var u=h(o);var l=n(5);var c=n(2);var s=n(1);var d=h(s);var f=n(11);function h(e){return e&&e.__esModule?e:{"default":e}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function v(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function y(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var g={format:"jpg",resource_type:"video",transformation:{flags:"waveform"}};var m=["mp3","ogg","wav","mp4"];var _=RegExp(".("+m.join("|")+")$$");var b={resource_type:"video",type:"upload",transformation:[]};var T=function(e){y(s,e);function s(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};p(this,s);var n=(0,l.normalizeOptions)(e,t);e=n.publicId;t=n.options;e=e.replace(_,"");t=(0,d["default"])({},b,t);var r=(0,c.sliceAndUnsetProperties)(t,"poster"),i=r.poster;var a=v(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e,t));var o=null;a.poster=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!e){return o}if(e instanceof u["default"]){o=e;return a}var n=(0,l.normalizeOptions)(e,t,{tolerateMissingId:true});e=n.publicId;t=n.options;if(!e){e=a.publicId();t=(0,d["default"])({},t,g)}t.cloudinaryConfig=t.cloudinaryConfig||a.cloudinaryConfig();o=new u["default"](e,t);return a};a.poster(i);a.getPoster=function(){return o};return a}r(s,[{key:"generateSources",value:function t(){var o=this;return this.sourceTypes().map(function(e){if(e==="audio"){var t="mp3";var n={};(0,d["default"])(n,{resource_type:"video",format:t});var r="";if(o.queryParams()){r=(0,f.objectToQuerystring)(o.queryParams())}var i=""+o.config().url(o.publicId(),n)+r;var a="video/mp4";return{type:a,src:i,cldSrc:o,poster:o.getPoster().url()}}else{return null}},this)}}]);return s}(a["default"]);t["default"]=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var y=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var r=n(9);var O=i(r);var P=n(7);function i(e){return e&&e.__esModule?e:{"default":e}}function A(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var j=0;var x=10;var L=1;var a=function(){function E(e){var a=this;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},r=n.repeat,i=r===undefined?false:r,o=n.autoAdvance,s=o===undefined?false:o,u=n.presentUpcoming,l=u===undefined?false:u;A(this,E);var c=e;var d=[];var f=null;var h=null;var p=null;var v={};var y=null;this.enqueue=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=e instanceof O["default"]?e:C(e,t);d.push(n);return n};this.currentIndex=function(e){if(e===undefined){return f}if(e>=a.length()||e<0){throw new Error("Invalid playlist index.")}f=e;var t=a.currentSource();var n=k(t);if(!t.recommendations()){t.recommendations(S(t))}c.source(t,{recommendationOptions:{disableAutoShow:true,itemBuilder:n}});var r={playlist:a,current:t,next:a.next()};a.player().trigger("playlistitemchanged",r);w();return t};this.presentUpcoming=function(e){p=p||{};if(e===undefined){return p.delay}if(e===true){e=x}else if(e===false){e=false}else if(!(0,P.isInteger)(e)||e<0){throw new Error("presentUpcoming 'delay' must be either a boolean or a positive integer.")}p.delay=e;_();return p.delay};this.autoAdvance=function(e){h=h||{};if(e===undefined){return h.delay}if(e===true){e=j}else if(e===false){e=false}else if(!(0,P.isInteger)(e)||e<0){throw new Error("Auto advance 'delay' must be either a boolean or a positive integer.")}h.delay=e;g();return h.delay};this.list=function(){return d};this.player=function(){return c.player};this.dispose=function(){m();b();T()};this.resetState=function(){a.repeat(i);a.autoAdvance(s);a.presentUpcoming(l)};var g=function g(){m();var e=h.delay;if(e===false){return}var t=function t(){if(a.player().ended()){h.timeout=setTimeout(function(){a.playNext()},e*1e3)}};h={delay:e,trigger:t};c.on("ended",h.trigger)};var m=function m(){if(!h){h={}}if(h.timeout){clearTimeout(h.timeout)}if(h.trigger){c.off("ended",h.trigger)}h.timeout=null;h.trigger=null};var _=function _(){b();var e=p.delay;if(e===false){return}p.trigger=function(){var e=a.player().currentTime();var t=a.player().duration();var n=t-e;if(n<L+.5){if(p.showTriggered){a.player().trigger("upcomingvideohide");p.showTriggered=false}}else if(n<=p.delay&&!p.showTriggered&&!a.player().loop()){a.player().trigger("upcomingvideoshow");p.showTriggered=true}else if(p.showTriggered&&(n>p.delay||a.player().loop())){a.player().trigger("upcomingvideohide");p.showTriggered=false}};c.on("timeupdate",p.trigger)};var b=function b(){a.player().trigger("upcomingvideohide");if(!p){p={}}if(p.trigger){c.off("timeupdate",p.trigger)}p.trigger=null;p.showTriggered=false};var T=function T(){if(y){c.off("ended",y)}};var w=function w(){T();y=function y(){if(a.autoAdvance()===false&&c.autoShowRecommendations()){a.player().trigger("recommendationsshow")}};c.on("ended",y)};var k=function k(e){var t=v[e.objectId];if(e.recommendations()&&(!t||e.recommendations()!==t)){return}return function(e){return{source:e,action:function t(){return a.playItem(e)}}}};var S=function S(i){var e=v[i.objectId];if(e){return e}v[i.objectId]=function(){var e=a.list().indexOf(i);var t=[];var n=Math.min(4,a.length()-1);while(t.length<n){e=a.nextIndex(e);if(e===-1){break}var r=a.list()[e];t.push(r)}return t};return v[i.objectId]};var C=function C(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return c.buildSource(e,t)};t.forEach(function(e){return a.enqueue(e)});this.resetState()}y(E,[{key:"playItem",value:function n(e){var t=this.list().indexOf(e);if(t===-1){throw new Error("Invalid playlist item.")}this.playAtIndex(t)}},{key:"playAtIndex",value:function t(e){this.currentIndex(e);this.player().play();return this.currentSource()}},{key:"currentSource",value:function e(){return this.list()[this.currentIndex()]}},{key:"removeAt",value:function r(e){if(e>=this.length()||e<0){throw new Error("Invalid playlist index.")}this._sources.splice(e,1);return this}},{key:"repeat",value:function i(e){if(e===undefined){return this._repeat}this._repeat=!!e;return this._repeat}},{key:"first",value:function a(){return this.list()[0]}},{key:"last",value:function o(){return this.list()[this.length()-1]}},{key:"next",value:function s(){var e=this.nextIndex();if(e===-1){return null}return this.list()[e]}},{key:"nextIndex",value:function e(t){t=t!==undefined?t:this.currentIndex();if(t>=this.length()||t<0){throw new Error("Invalid playlist index.")}var n=t===this.length()-1;var e=t+1;if(n){if(this.repeat()){e=0}else{return-1}}return e}},{key:"previousIndex",value:function u(){if(this.isFirst()){return-1}return this.currentIndex()-1}},{key:"playFirst",value:function l(){return this.playAtIndex(0)}},{key:"playLast",value:function c(){var e=this.list().length-1;return this.playAtIndex(e)}},{key:"isLast",value:function d(){return this.currentIndex()>=this.length()-1}},{key:"isFirst",value:function f(){return this.currentIndex()===0}},{key:"length",value:function h(){return this.list().length}},{key:"playNext",value:function p(){var e=this.nextIndex();if(e===-1){return null}return this.playAtIndex(e)}},{key:"playPrevious",value:function v(){var e=this.previousIndex();if(e===-1){return null}return this.playAtIndex(e)}}]);return E}();t["default"]=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var i=function h(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return h(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var a=n(0);var o=s(a);function s(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var d=o["default"].getComponent("MenuItem");var f=function(e){c(t,e);function t(){u(this,t);return l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}r(t,[{key:"handleClick",value:function n(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleClick",this).call(this);this.options_.listener()}}]);return t}(d);t["default"]=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var o=function g(e,t,n){if(e===null)e=Function.prototype;var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return g(i,t,n)}}else if("value"in r){return r.value}else{var a=r.get;if(a===undefined){return undefined}return a.call(n)}};var i=n(0);var s=c(i);var a=n(60);var u=c(a);var l=n(6);function c(e){return e&&e.__esModule?e:{"default":e}}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var p=s["default"].getComponent("Menu");var v=s["default"].dom||s["default"];var y=function(e){h(a,e);function a(r,e){d(this,a);var i=f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,r,e));i.dispose=s["default"].bind(i,i.dispose);e.content.forEach(function(e){var t=null;if(typeof e.listener==="function"){t=e.listener}else if(typeof e.href==="string"){t=function t(){return window.open(e.href)}}else{t=function t(){return true}}var n=i;i.addItem(new u["default"](r,{label:e.label,listener:s["default"].bind(r,function(){t(this);window.setTimeout(function(){n.dispose()},1)})}))});return i}r(a,[{key:"setPosition",value:function n(e,t){(0,l.setPosition)(this.el(),e,t)}},{key:"createEl",value:function i(){var e=o(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"createEl",this).call(this);v.addClass(e,"vjs-context-menu-ui");if(this.options_.position){var t=this.options_.position,n=t.left,r=t.top;this.setPosition(n,r)}return e}}]);return a}(p);t["default"]=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};new y(this,e).init()};var r=n(0);var u=s(r);n(79);n(95);var i=n(61);var l=s(i);var h=n(6);var a=n(2);var o=n(1);var c=s(o);function s(e){return e&&e.__esModule?e:{"default":e}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var v={showNativeOnRecurringEvent:false};var y=function y(e,t){var d=this;p(this,y);if(!Array.isArray(t.content)&&typeof t.content!=="function"){throw new Error('"content" required')}t=(0,c["default"])({},v,t);this.player=e;var o=(0,a.sliceProperties)(t,"content","showNativeOnRecurringEvent");this.init=function(){d.player.contextmenu();d.player.on("vjs-contextmenu",s);d.player.ready(function(){return d.player.addClass("vjs-context-menu")})};var f=function f(e){var t=d.menu.el();t.style.visibility="hidden";d.player.el().appendChild(t);var n=t.getBoundingClientRect();d.player.el().removeChild(t);t.style.visibility="visible";var r=(0,h.getPointerPosition)(d.player.el(),e);var i=d.player.el().getBoundingClientRect();var a=i.height-i.height*r.y+1;var o=Math.round(i.width*r.x)+1;var s=a;var u=o;if(a+n.height>i.height){var l=a+n.height-i.height;s=l>n.height/2?a-n.height-1:i.height-n.height}if(o+n.width>i.width){var c=o+n.width-i.width;u=c>n.width/2?o-n.width-1:i.width-n.width}if(s<a&&u<o){s=a-n.height-1;u=o-n.width-1}s=Math.max(0,s);u=Math.max(0,u);return{left:u,top:s}};var s=function s(e){if(d.menu){d.menu.dispose();if(o.showNativeOnRecurringEvent){return}}if(o.showNativeOnRecurringEvent){d.player.contextmenu.options.cancel=false}e.preventDefault();var t=o.content;if(typeof t==="function"){t=t(d.player)}d.menu=new l["default"](d.player,{content:t});var n=f(e),r=n.left,i=n.top;d.menu.setPosition(r,i);var a=function a(e){if(!(e.type==="click"&&(e.which===3||e.button===2))){d.menu.dispose()}};d.menu.on("dispose",function(){d.player.contextmenu.options.cancel=true;d.player.removeChild(d.menu);u["default"].off(document,["click","tap"],a);delete d.menu});d.player.addChild(d.menu);u["default"].on(document,["click","tap"],a)}}},function(n,r,i){"use strict";var a,o;var s=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(t){if(true){!(a=[i(0),i(26)],o=function(e){t(window,document,e)}.apply(r,a),o!==undefined&&(n.exports=o))}else if((typeof r==="undefined"?"undefined":s(r))==="object"&&(typeof n==="undefined"?"undefined":s(n))==="object"){var e=require("video.js");require("videojs-contrib-ads");t(window,document,e)}else{t(window,document,videojs)}})(function(z,G,X){"use strict";var Y=function Y(e){var t;var n;var r;for(n=1;n<arguments.length;n++){t=arguments[n];for(r in t){if(t.hasOwnProperty(r)){e[r]=t[r]}}}return e};var K={debug:false,timeout:5e3,prerollTimeout:100,adLabel:"Advertisement",showControlsForAds:true,showControlsForJSAds:true,adsRenderingSettings:{uiElements:[]}};var $=X.browser.IS_ANDROID||X.browser.IS_IOS?{click:"touchend",mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"}:{click:"click",mousedown:"mousedown",mouseup:"mouseup",mousemove:"mousemove"};var n=function n(e,t){this.ima=new J(this,e,t)};var J=function J(h,e,t){this.player=h;var n=function(e,t){e.id=this.controlPrefix+t;e.className=this.controlPrefix+t+" "+t}.bind(this);var r=function r(e){return new RegExp("(^|[^A-Za-z-])"+e+"((?![A-Za-z-])|$)","gi")};var i=function i(e,t){if(r(t).test(e.className)){return e}return e.className=e.className.trim()+" "+t};var a=function a(e,t){var n=r(t);if(!n.test(e.className)){return e}return e.className=e.className.trim().replace(n,"")};var o=function(){this.vjsControls=this.player.getChild("controlBar");this.adContainerDiv=this.vjsControls.el().parentNode.appendChild(G.createElement("div"));n(this.adContainerDiv,"ima-ad-container");this.adContainerDiv.style.position="absolute";this.adContainerDiv.addEventListener("mouseenter",_,false);this.adContainerDiv.addEventListener("mouseleave",m,false);s();this.adDisplayContainer=new google.ima.AdDisplayContainer(this.adContainerDiv,this.contentPlayer);this.showAdContainer(!this.settings.manual)}.bind(this);var s=function(){this.controlsDiv=G.createElement("div");n(this.controlsDiv,"ima-controls-div");this.controlsDiv.style.width="100%";this.countdownDiv=G.createElement("div");n(this.countdownDiv,"ima-countdown-div");this.countdownDiv.innerHTML=this.settings.adLabel;this.countdownDiv.style.display=this.showCountdown?"":"none";this.seekBarDiv=G.createElement("div");n(this.seekBarDiv,"ima-seek-bar-div");this.seekBarDiv.style.width="100%";this.progressDiv=G.createElement("div");n(this.progressDiv,"ima-progress-div");this.playPauseDiv=G.createElement("div");n(this.playPauseDiv,"ima-play-pause-div");i(this.playPauseDiv,"ima-playing");this.playPauseDiv.addEventListener($.click,w,false);this.muteDiv=G.createElement("div");n(this.muteDiv,"ima-mute-div");i(this.muteDiv,"ima-non-muted");this.muteDiv.addEventListener($.click,k,false);this.sliderDiv=G.createElement("div");n(this.sliderDiv,"ima-slider-div");this.sliderDiv.addEventListener($.mousedown,S,false);this.sliderLevelDiv=G.createElement("div");n(this.sliderLevelDiv,"ima-slider-level-div");this.fullscreenDiv=G.createElement("div");n(this.fullscreenDiv,"ima-fullscreen-div");i(this.fullscreenDiv,"ima-non-fullscreen");this.fullscreenDiv.addEventListener($.click,P,false);this.adContainerDiv.appendChild(this.controlsDiv);this.controlsDiv.appendChild(this.seekBarDiv);this.controlsDiv.appendChild(this.playPauseDiv);this.controlsDiv.appendChild(this.muteDiv);this.controlsDiv.appendChild(this.sliderDiv);this.controlsDiv.appendChild(this.fullscreenDiv);this.seekBarDiv.appendChild(this.progressDiv);this.sliderDiv.appendChild(this.sliderLevelDiv);if(this.settings.vjsControls){this.initVjsControls();this.controlsDiv.style.display="none";this.vjsControls.el().appendChild(this.countdownDiv)}else{this.controlsDiv.appendChild(this.countdownDiv)}}.bind(this);this.showAdContainer=function(e){this.adContainerDiv.style.display=e?"block":"none";this.player.toggleClass("vjs-ima-ad",e)}.bind(this);this.initializeAdDisplayContainer=function(){this.adDisplayContainerInitialized=true;this.adDisplayContainer.initialize()}.bind(this);this.requestAds=function(){if(!this.adDisplayContainerInitialized){this.adDisplayContainer.initialize()}var e=new google.ima.AdsRequest;if(this.settings.adTagUrl){e.adTagUrl=this.settings.adTagUrl}else{e.adsResponse=this.settings.adsResponse}if(this.settings.forceNonLinearFullSlot){e.forceNonLinearFullSlot=true}e.linearAdSlotWidth=this.getPlayerWidth();e.linearAdSlotHeight=this.getPlayerHeight();e.nonLinearAdSlotWidth=this.settings.nonLinearWidth||this.getPlayerWidth();e.nonLinearAdSlotHeight=this.settings.nonLinearHeight||this.getPlayerHeight()/3;e.vastLoadTimeout=Math.max(this.settings.prerollTimeout,this.settings.postrollTimeout);this.adsLoader.requestAds(e)}.bind(this);var u=function(e){this.adsManager=e.getAdsManager(this.contentPlayheadTracker,this.adsRenderingSettings);this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,c);this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,d);this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested_);this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested_);this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,f);this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,p);this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,v);this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,w);this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdComplete_);this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onAdComplete_);this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onAdPaused_);this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onAdResumed_);var t={load:google.ima.AdEvent.Type.LOADED,"ad-started":google.ima.AdEvent.Type.STARTED,click:google.ima.AdEvent.Type.CLICK,"ad-ended":google.ima.AdEvent.Type.COMPLETE,"ad-skipped":google.ima.AdEvent.Type.SKIPPED,"first-quartile":google.ima.AdEvent.Type.FIRST_QUARTILE,midpoint:google.ima.AdEvent.Type.MIDPOINT,"third-quartile":google.ima.AdEvent.Type.THIRD_QUARTILE,impression:google.ima.AdEvent.Type.IMPRESSION,pause:google.ima.AdEvent.Type.PAUSED,play:google.ima.AdEvent.Type.RESUMED,mute:google.ima.AdEvent.Type.VOLUME_MUTED,"allpods-completed":google.ima.AdEvent.Type.ALL_ADS_COMPLETED};Object.keys(t).forEach(function(e){this.adsManager.addEventListener(t[e],function(){this.player.trigger("ads-"+e)}.bind(this))}.bind(this));D(this.player.muted());if(!this.autoPlayAdBreaks){try{var n=this.getPlayerWidth();var r=this.getPlayerHeight();this.adsManagerDimensions.width=n;this.adsManagerDimensions.height=r;this.adsManager.init(n,r,google.ima.ViewMode.NORMAL);this.adsManager.setVolume(this.player.muted()?0:this.player.volume())}catch(s){c(s)}}var i=this.adsManager.getCuePoints();var a=!i.length;var o=false;i.forEach(function(e){if(!e)a=true;else if(e==-1)o=true});if(!a)this.player.trigger("nopreroll");if(!o)this.player.trigger("nopostroll");if(i.length)this.player.trigger("ads-cuepoints",i);this.player.trigger("adsready")}.bind(this);this.start=function(){z.console.log("WARNING: player.ima.start is deprecated. Use "+"player.ima.startFromReadyCallback instead.")};this.startFromReadyCallback=function(){if(this.autoPlayAdBreaks&&this.adsManager){try{this.adsManager.init(this.getPlayerWidth(),this.getPlayerHeight(),google.ima.ViewMode.NORMAL);this.adsManager.setVolume(this.player.muted()?0:this.player.volume());this.adsManager.start()}catch(e){c(e)}}}.bind(this);var l=function(e){console.log("AdsLoader error: "+e.getError());this.showAdContainer(false);if(this.adsManager){this.adsManager.destroy()}this.player.trigger({type:"adserror",data:{AdError:e.getError(),AdErrorEvent:e}})}.bind(this);var c=function(e){var t=e.getError!==undefined?e.getError():e.stack;console.log("Ad error: "+t);this.adsActive=false;this.adPlaying=false;this.restoreLoop();this.vjsControls.show();this.adsManager.destroy();this.showAdContainer(false);this.updateVjsControls();this.player.trigger({type:"adserror",data:{AdError:t,AdErrorEvent:e}})}.bind(this);var d=function(e){this.adBreakReadyListener(e)}.bind(this);this.playAdBreak=function(){if(!this.autoPlayAdBreaks){this.adsManager.start()}}.bind(this);this.resetLoop=function(){this.contentLoop=this.contentPlayer&&this.contentPlayer.loop;if(this.contentLoop){this.contentPlayer.loop=false}}.bind(this);this.restoreLoop=function(){if(this.contentLoop){this.contentPlayer.loop=true;this.contentLoop=false}}.bind(this);this.onContentPauseRequested_=function(e){this.contentSource=this.player.currentSrc();this.resetLoop();this.player.off("contentended",this.localContentEndedListener);this.player.ads.startLinearAdMode();this.showAdContainer(true);var t=e.getAd().getContentType();if(!this.settings.vjsControls||!this.settings.showControlsForAds){if(!this.settings.showControlsForAds||t==="application/javascript"&&!this.settings.showControlsForJSAds){this.controlsDiv.style.display="none"}else{this.controlsDiv.style.display="block"}this.vjsControls.hide()}T();this.player.pause();this.adsActive=true;this.adPlaying=true;this.updateVjsControls()}.bind(this);this.onContentResumeRequested_=function(e){this.contentResumeTimer=clearTimeout(this.contentResumeTimer);this.restoreLoop();this.adsActive=false;this.adPlaying=false;this.player.on("contentended",this.localContentEndedListener);if(this.currentAd==null||this.currentAd.isLinear()){this.showAdContainer(false)}this.vjsControls.show();this.player.ads.endLinearAdMode();this.countdownDiv.innerHTML="";this.updateVjsControls()}.bind(this);var f=function(e){this.allAdsCompleted=true;this.showAdContainer(false);if(this.contentComplete==true){if(this.contentPlayer.src&&!/^blob:/.test(this.contentPlayer.src)&&this.contentSource&&this.contentPlayer.src!=this.contentSource){this.player.src(this.contentSource)}this.player.trigger("");for(var t in this.contentAndAdsEndedListeners){this.contentAndAdsEndedListeners[t]()}}}.bind(this);var p=function(e){if(!e.getAd().isLinear()&&!this.player.ended()){this.player.ads.endLinearAdMode();this.player.play()}}.bind(this);var v=function(e){this.currentAd=e.getAd();if(this.currentAd.isLinear()){this.adTrackingTimer=setInterval(g,250);a(this.adContainerDiv,"bumpable-ima-ad-container")}else{i(this.adContainerDiv,"bumpable-ima-ad-container");this.player.addClass("vjs-ima-non-linear");this.showAdContainer(true)}}.bind(this);this.onAdComplete_=function(e){if(this.currentAd.isLinear()){clearInterval(this.adTrackingTimer);var t=this.currentAd.getAdPodInfo();if(t&&t.getAdPosition()<t.getTotalAds()){this.player.trigger("ads-pod-ended");return}this.contentResumeTimer=setTimeout(function(){this.onContentResumeRequested_(null)}.bind(this),1e3)}else{this.player.removeClass("vjs-ima-non-linear")}}.bind(this);this.onAdPaused_=function(e){b();this.adPlaying=false}.bind(this);this.onAdResumed_=function(e){T();this.adPlaying=true}.bind(this);var y=function y(e){var t=Math.floor(e/60);var n=Math.floor(e%60);if(n.toString().length<2){n="0"+n}return t+":"+n};var g=function(){var e=this.adsManager.getRemainingTime();var t=this.currentAd.getDuration();var n=t-e;n=n>0?n:0;var r=false;var i=0;var a;if(this.currentAd.getAdPodInfo()){r=true;a=this.currentAd.getAdPodInfo().getAdPosition();i=this.currentAd.getAdPodInfo().getTotalAds()}var o=": ";if(r&&i>1){o=" ("+a+" of "+i+"): "}this.countdownDiv.innerHTML=this.settings.adLabel+o+y(e);var s=n/t;var u=s*100;this.progressDiv.style.width=u+"%";this.updateVjsControls()}.bind(this);this.getPlayerWidth=function(){var e=parseInt(getComputedStyle(this.player.el()).width,10)||this.player.width();return e}.bind(this);this.getPlayerHeight=function(){var e=parseInt(getComputedStyle(this.player.el()).height,10)||this.player.height();return e}.bind(this);var m=function(){this.controlsDiv.style.height="14px";this.playPauseDiv.style.display="none";this.muteDiv.style.display="none";this.sliderDiv.style.display="none";this.fullscreenDiv.style.display="none"}.bind(this);var _=function(){this.controlsDiv.style.height="37px";this.playPauseDiv.style.display="block";this.muteDiv.style.display="block";this.sliderDiv.style.display="block";this.fullscreenDiv.style.display="block"}.bind(this);var b=function(){i(this.playPauseDiv,"ima-paused");a(this.playPauseDiv,"ima-playing")}.bind(this);var T=function(){i(this.playPauseDiv,"ima-playing");a(this.playPauseDiv,"ima-paused")}.bind(this);var w=function(){if(this.adPlaying){b();this.adsManager.pause();this.adPlaying=false}else{T();this.adsManager.resume();this.adPlaying=true}}.bind(this);var k=function(){D(!this.adMuted)}.bind(this);var S=function S(){G.addEventListener($.mouseup,E,false);G.addEventListener($.mousemove,C,false)};var C=function C(e){O(e)};var E=function E(e){O(e);G.removeEventListener($.mousemove,C);G.removeEventListener($.mouseup,E)};var O=function(e){var t=e.changedTouches?e.changedTouches[0].clientX:e.clientX;var n=(t-this.sliderDiv.getBoundingClientRect().left)/this.sliderDiv.offsetWidth;n*=100;n=Math.min(Math.max(n,0),100);this.sliderLevelDiv.style.width=n+"%";this.player.volume(n/100);this.adsManager.setVolume(n/100);if(this.player.volume()==0){i(this.muteDiv,"ima-muted");a(this.muteDiv,"ima-non-muted");this.player.muted(true);this.adMuted=true}else{i(this.muteDiv,"ima-non-muted");a(this.muteDiv,"ima-muted");this.player.muted(false);this.adMuted=false}}.bind(this);var P=function(){if(this.player.isFullscreen()){this.player.exitFullscreen()}else{this.player.requestFullscreen()}}.bind(this);var A=function(){if(this.player.isFullscreen()){i(this.fullscreenDiv,"ima-fullscreen");a(this.fullscreenDiv,"ima-non-fullscreen");if(this.adsManager){this.adsManager.resize(z.screen.width,z.screen.height,google.ima.ViewMode.FULLSCREEN)}}else{i(this.fullscreenDiv,"ima-non-fullscreen");a(this.fullscreenDiv,"ima-fullscreen");if(this.adsManager){this.adsManager.resize(this.getPlayerWidth(),this.getPlayerHeight(),google.ima.ViewMode.NORMAL)}}}.bind(this);var j=function(){var e=this.player.muted()?0:this.player.volume();if(this.adsManager){this.adsManager.setVolume(e)}if(e==0){this.adMuted=true;i(this.muteDiv,"ima-muted");a(this.muteDiv,"ima-non-muted");this.sliderLevelDiv.style.width="0%"}else{this.adMuted=false;i(this.muteDiv,"ima-non-muted");a(this.muteDiv,"ima-muted");this.sliderLevelDiv.style.width=e*100+"%"}}.bind(this);var x=function(){this.player.off("loadedmetadata",x);this.player.currentTime(0)}.bind(this);var L=function(){this.player.off("loadedmetadata",L);this.player.currentTime(0);this.player.play()}.bind(this);var I=function(){this.adsActive=false;this.adPlaying=false;this.restoreLoop();this.player.on("contentended",this.localContentEndedListener);if(this.currentAd&&this.currentAd.isLinear()){this.showAdContainer(false)}this.vjsControls.show();this.player.ads.endLinearAdMode();this.contentPlayheadTracker.currentTime=0;this.countdownDiv.innerHTML="";this.updateVjsControls();if(this.adTrackingTimer){clearInterval(this.adTrackingTimer)}if(this.adsManager){this.adsManager.destroy();this.adsManager=null}if(this.adsLoader&&!this.contentComplete){this.adsLoader.contentComplete()}this.contentComplete=false;this.allAdsCompleted=false}.bind(this);this.addEventListener=function(e,t){if(this.adsManager){this.adsManager.addEventListener(e,t)}}.bind(this);this.getAdsManager=function(){return this.adsManager}.bind(this);this.setContent=function(e,t,n){z.console.log("WARNING: player.ima.setContent is deprecated. Use "+"player.ima.setContentWithAdTag instead.");this.setContentWithAdTag(e,t,n)}.bind(this);this.setContentWithAdTag=function(e,t,n){I();this.settings.adTagUrl=t?t:this.settings.adTagUrl;M(e,n)}.bind(this);this.setContentWithAdsResponse=function(e,t,n){I();this.settings.adsResponse=t?t:this.settings.adsResponse;M(e,n)}.bind(this);this.playAd=function(e){I();this.settings.adTagUrl=e?e:this.settings.adTagUrl;this.requestAds()}.bind(this);var M=function(e,t){if(!!this.player.currentSrc()){this.player.currentTime(0);this.player.pause()}if(e){this.player.src(e)}if(t){this.player.on("loadedmetadata",L)}else{this.player.on("loadedmetadata",x)}}.bind(this);var D=function(e){if(e){i(this.muteDiv,"ima-muted");a(this.muteDiv,"ima-non-muted");this.adsManager.setVolume(0);this.player.muted(true);this.adMuted=true;this.sliderLevelDiv.style.width="0%"}else{i(this.muteDiv,"ima-non-muted");a(this.muteDiv,"ima-muted");this.adsManager.setVolume(this.player.volume());this.player.muted(false);this.adMuted=false;this.sliderLevelDiv.style.width=this.player.volume()*100+"%"}}.bind(this);this.addContentEndedListener=function(e){this.contentEndedListeners.push(e)}.bind(this);this.addContentAndAdsEndedListener=function(e){this.contentAndAdsEndedListeners.push(e)}.bind(this);this.setAdBreakReadyListener=function(e){this.adBreakReadyListener=e}.bind(this);this.pauseAd=function(){if(this.adsActive&&this.adPlaying){b();this.adsManager.pause();this.adPlaying=false}}.bind(this);this.resumeAd=function(){if(this.adsActive&&!this.adPlaying){T();this.adsManager.resume();this.adPlaying=true}}.bind(this);var R=function(){this.updateTimeIntervalHandle=setInterval(N,this.seekCheckInterval);this.seekCheckIntervalHandle=setInterval(U,this.seekCheckInterval);this.resizeCheckIntervalHandle=setInterval(F,this.resizeCheckInterval)}.bind(this);var B=function(){var e=this.player.currentTime();if(!e||this.player.ads.state!="content-playback")return;if(e<1)e=0;this.contentPlayheadTracker.startTime=e;this.player.off("timeupdate",B)}.bind(this);var N=function(){if(this.player.ads.state=="content-playback"&&!this.contentPlayheadTracker.seeking&&this.contentPlayheadTracker.startTime>=0){this.contentPlayheadTracker.currentTime=this.player.currentTime()-this.contentPlayheadTracker.startTime}}.bind(this);var U=function(){if(this.player.ads.state!="content-playback")return;var e=this.player.currentTime();var t=(e-this.contentPlayheadTracker.previousTime)*1e3;if(Math.abs(t)>this.seekCheckInterval+this.seekThreshold){this.contentPlayheadTracker.seeking=true}else{this.contentPlayheadTracker.seeking=false}this.contentPlayheadTracker.previousTime=this.player.currentTime()}.bind(this);var F=function(){var e=this.getPlayerWidth();var t=this.getPlayerHeight();if(this.adsManager&&(e!=this.adsManagerDimensions.width||t!=this.adsManagerDimensions.height)){this.adsManagerDimensions.width=e;this.adsManagerDimensions.height=t;this.adsManager.resize(e,t,google.ima.ViewMode.NORMAL)}}.bind(this);this.setShowCountdown=function(e){this.showCountdown=e;this.countdownDiv.style.display=this.showCountdown?"":"none"}.bind(this);this.VERSION="0.2.0";this.settings;this.controlPrefix;this.contentPlayer;this.showCountdown;this.autoPlayAdBreaks;this.vjsControls;this.adContainerDiv;this.controlsDiv;this.countdownDiv;this.seekBarDiv;this.progressDiv;this.playPauseDiv;this.muteDiv;this.sliderDiv;this.sliderLevelDiv;this.fullscreenDiv;this.adDisplayContainer;this.adDisplayContainerInitialized=false;this.adsLoader;this.adsManager;this.adsRenderingSettings=null;this.adTagUrl;this.adsResponse;this.currentAd;this.contentTrackingTimer;this.adTrackingTimer;this.adsActive=false;this.adPlaying=false;this.adMuted=false;this.contentComplete=false;this.allAdsCompleted=false;this.updateTimeIntervalHandle;this.seekCheckIntervalHandle;this.seekCheckInterval=1e3;this.resizeCheckIntervalHandle;this.resizeCheckInterval=250;this.seekThreshold=100;this.contentPlayheadTracker={currentTime:0,previousTime:0,seeking:false,duration:0,startTime:-1};this.adPlayheadTracker={currentTime:0,duration:0,isPod:false,adPosition:0,totalAds:0};this.adsManagerDimensions={width:0,height:0};this.contentEndedListeners=[];this.contentAndAdsEndedListeners=[];this.adBreakReadyListener=function(){console.log("Please set adBreakReadyListener")};this.contentSource="";this.localContentEndedListener=function(){if(this.adsLoader&&!this.contentComplete){this.adsLoader.contentComplete();this.contentComplete=true}for(var e in this.contentEndedListeners){this.contentEndedListeners[e]()}if(this.allAdsCompleted){for(var e in this.contentAndAdsEndedListeners){this.contentAndAdsEndedListeners[e]()}}clearInterval(this.updateTimeIntervalHandle);clearInterval(this.seekCheckIntervalHandle);clearInterval(this.resizeCheckIntervalHandle);if(this.player.el()){this.player.one("play",R)}}.bind(this);this.playerDisposedListener=function(){this.contentEndedListeners,this.contentAndAdsEndedListeners=[],[];this.contentComplete=true;this.player.off("contentended",this.localContentEndedListener);this.player.off("timeupdate",B);if(this.player.ads.adTimeoutTimeout){clearTimeout(this.player.ads.adTimeoutTimeout)}var e=[this.updateTimeIntervalHandle,this.seekCheckIntervalHandle,this.adTrackingTimer,this.resizeCheckIntervalHandle];for(var t in e){var n=e[t];if(n){clearInterval(n)}}if(this.adsManager){this.adsManager.destroy();this.adsManager=null}}.bind(this);this.initVjsControls=function(){var o=this;var l=function l(e,t,n,r,i){var a=e.prototype[n];return t[n]=function(){return o.adsActive||i?r&&r.apply(this,arguments):a&&a.apply(this,arguments)}};var c=function c(e,t,n,r,i,a,o){var s=e.prototype[i];var u=l(e,t,i,a);if(n){t.off(n,r,s);t.on(n,r,u)}else{t.off(r,s);t.on(r,u)}};var e=X.getComponent("PlayToggle");var t=this.vjsControls.playToggle;c(e,t,null,["tap","click"],"handleClick",function(){w();if(o.adPlaying){this.handlePlay()}else{this.handlePause()}});l(e,t,"update",function(){var e=o.adsActive?!o.adPlaying:h.paused();this.toggleClass("vjs-play-control-ad",o.adsActive);this.toggleClass("vjs-paused",e);this.toggleClass("vjs-playing",!e);var t=e?"Play":"Pause";if(t!=this.controlText())this.controlText(t)},true);c(e,t,h,"play","handlePlay",function(){this.update()},true);c(e,t,h,"pause","handlePause",function(){this.update()},true);var n=X.getComponent("SeekBar");var r=X.getComponent("DvrSeekBar");var i=this.vjsControls.progressControl.seekBar;var a=function a(){var e=o.currentAd&&o.currentAd.getDuration();if(!e||e<0){return 0}var t=o.adsManager.getRemainingTime();var n=Math.max(e-t,0);return n/e};l(n,i,"getPercent",a);if(r){l(r,i,"getPercent",a)}c(n,i,null,["mousedown","touchstart"],"handleMouseDown",null);c(n,i,null,"focus","handleFocus",null);var s=X.getComponent("DurationDisplay");var u=this.vjsControls.durationDisplay;c(s,u,h,["timeupdate","loadedmetadata"],"updateContent",function(){var e=o.currentAd&&o.currentAd.getDuration();if(e&&e!=this.duration_){this.duration_=e;this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> "+y(e)}});var d=X.getComponent("CurrentTimeDisplay");var f=this.vjsControls.currentTimeDisplay;c(d,f,h,["timeupdate","loadedmetadata"],"updateContent",function(){var e=o.currentAd&&o.currentAd.getDuration();if(!e){return}var t=e-o.adsManager.getRemainingTime();var n=y(t);if(n!==this.formattedTime_){this.formattedTime_=n;this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize("Current Time")+"</span> "+n}})}.bind(this);this.updateVjsControls=function(){if(!this.settings.vjsControls){return}this.player.toggleClass("vjs-ad-paused",this.adsActive&&!this.adPlaying);var e=this.vjsControls;e.playToggle.update();e.progressControl.seekBar.update();e.durationDisplay.updateContent();e.currentTimeDisplay.updateContent();var t=this.currentAd&&this.currentAd.getDuration();var n=!this.adsActive||t&&t>=0?"":"none";e.durationDisplay.el().style.display=n;e.currentTimeDisplay.el().style.display=n;e.timeDivider.el().style.display=n}.bind(this);var H=function H(e){var t=e.getBoundingClientRect();var n=G.documentElement;var r=G.body;var i=n.clientLeft||r.clientLeft||0;var a=z.pageXOffset||r.scrollLeft;var o=t.left+a-i;var s=n.clientTop||r.clientTop||0;var u=z.pageYOffset||r.scrollTop;var l=t.top+u-s;return{left:o,top:l,width:t.width,height:t.height}};this.proxyClickEvents=function(){var e=X.browser.IS_ANDROID||X.browser.IS_IOS?["touchstart","touchend"]:["click","dblclick","mousedown","mouseup"];var v=this.player,t=v.el(),y=this;e.forEach(function(e){t.addEventListener(e,function(e){var t=y.currentAd,n=e.target;if(!t||t.isLinear()||n.nodeName!="IFRAME"||e.isTrusted){return}var r=t.getWidth()||t.getVastMediaWidth();var i=t.getHeight()||t.getVastMediaHeight();var a=H(n);var o=e.touches&&e.touches[0];var s=o?o.pageX:e.clientX;var u=o?o.pageY:e.clientY;var l=a.left+a.width-(a.width-r)/2;var c=a.top+a.height-i-4;if(s<l&&s>l-40&&u>c&&u<c+30){return}if(s>a.left+a.width/2-15&&s<a.left+a.width/2+15&&u>a.top+a.height-15){return}var d;var f={};for(var h in e){f[h]=e[h]}f.bubbles=false;try{d=new e.constructor(e.type,f)}catch(p){d=G.createEvent("MouseEvent");d.initMouseEvent(e.type,f.bubbles,f.cancelable,f.view,f.detail,f.screenX,f.screenY,f.clientX,f.clientY,f.ctrlKey,f.altKey,f.shiftKey,f.metaKey,f.button,null)}d.stopPropagation();v.tech_.trigger(d)})})}.bind(this);this.settings=Y({},K,e||{});this.settings.adLabel=this.player.localize(this.settings.adLabel);if(!this.settings["id"]){z.console.log("Error: must provide id of video.js div");return}this.controlPrefix=this.settings.id+"_"||"";this.contentPlayer=this.player.$(".vjs-tech");this.showCountdown=true;if(this.settings["showCountdown"]===false){this.showCountdown=false}this.autoPlayAdBreaks=true;if(this.settings["autoPlayAdBreaks"]===false){this.autoPlayAdBreaks=false}var V={debug:this.settings.debug,timeout:this.settings.timeout,prerollTimeout:this.settings.prerollTimeout,postrollTimeout:this.settings.postrollTimeout};var q=Y({},V,e["contribAdsSettings"]||{});h.ads(q);h.one("play",R);h.on("contentended",this.localContentEndedListener);h.on("dispose",this.playerDisposedListener);h.on("timeupdate",B);this.adsRenderingSettings=new google.ima.AdsRenderingSettings;this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=true;if(this.settings["adsRenderingSettings"]){for(var W in this.settings["adsRenderingSettings"]){this.adsRenderingSettings[W]=this.settings["adsRenderingSettings"][W]}}if(this.settings["locale"]){google.ima.settings.setLocale(this.settings["locale"])}o();this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer);this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED);if(this.settings.vpaidAllowed==false){this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED)}if(this.settings.vpaidMode){this.adsLoader.getSettings().setVpaidMode(this.settings.vpaidMode)}if(this.settings.locale){this.adsLoader.getSettings().setLocale(this.settings.locale)}if(this.settings.numRedirects){this.adsLoader.getSettings().setNumRedirects(this.settings.numRedirects)}this.adsLoader.getSettings().setPlayerType("videojs-ima");this.adsLoader.getSettings().setPlayerVersion(this.VERSION);this.adsLoader.getSettings().setAutoPlayAdBreaks(this.autoPlayAdBreaks);this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,u,false);this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,l,false);if(!t){t=this.startFromReadyCallback}h.on("readyforpreroll",t);h.ready(function(){h.on("fullscreenchange",A);h.on("volumechange",j)});this.proxyClickEvents()};X.registerPlugin("ima",n)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.analytics=t.cloudinary=t.contextMenu=t.autoplayOnScroll=undefined;n(26);n(63);n(96);n(97);var r=n(49);var i=d(r);var a=n(62);var o=d(a);var s=n(56);var u=d(s);var l=n(48);var c=d(l);function d(e){return e&&e.__esModule?e:{"default":e}}t.autoplayOnScroll=i["default"];t.contextMenu=o["default"];t.cloudinary=u["default"];t.analytics=c["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.normalizeJsonResponse=undefined;var i=n(7);var a=n(12);var o=n(69);var s=["created_at","updated_at"];var u=function u(r){var e={};if((0,i.isPlainObject)(r)){Object.keys(r).reduce(function(e,t){var n=(0,a.camelize)(t);if(s.indexOf(t)!==-1){e[n]=new Date((0,o.parseISO8601)(r[t]))}else{e[n]=u(r[t])}return e},e);return e}else if(Array.isArray(r)){return r.map(function(e){return u(e)})}else{return r}};t.normalizeJsonResponse=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(e,t){if(!t){t=Object.getPrototypeOf(e)}var n=Object.getOwnPropertyNames(t);var r=true;var i=false;var a=undefined;try{for(var o=n[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){var u=s.value;var l=t[u];if(typeof l==="function"){e[u]=t[u].bind(e)}}}catch(c){i=true;a=c}finally{try{if(!r&&o["return"]){o["return"]()}}finally{if(i){throw a}}}}t["default"]=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function r(e,t){e.parentNode.insertBefore(t,e);t.appendChild(e);return t};var i=function i(e,t){e.style.width=t+"px"};var a=function a(e,t){e.style.height=t+"px"};t.wrap=r;t.setWidth=i;t.setHeight=a},function(e,t,n){"use strict";var r=n(103);var i=a(r);function a(e){return e&&e.__esModule?e:{"default":e}}var o="Fira Sans";function s(e,t){var n=t.cloudinary.fontFace;if(typeof n==="undefined"){n=o}if(n&&n!=="inherit"){i["default"].load({google:{families:[n]}});e.style.fontFamily=n}else if(n==="inherit"){e.style.fontFamily="inherit"}}e.exports={fontFace:s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=[1,4,5,6,7,10,11];var s=function s(e){var t=0;var n=0;var r=0;if(n=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(e)){for(var i=0,a;a=o[i];++i){n[a]=+n[a]||0}n[2]=(+n[2]||1)-1;n[3]=+n[3]||1;if(n[8]!=="Z"&&n[9]!==undefined){r=n[10]*60+n[11];if(n[9]==="+"){r=0-r}}t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+r,n[6],n[7])}else{t=NaN}return t};t.parseISO8601=s},function(e,t){function r(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}e.exports=r;r.EventEmitter=r;r.prototype._events=undefined;r.prototype._maxListeners=undefined;r.defaultMaxListeners=10;r.prototype.setMaxListeners=function(e){if(!n(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};r.prototype.emit=function(e){var t,n,r,i,a,o;if(!this._events)this._events={};if(e==="error"){if(!this._events.error||l(this._events.error)&&!this._events.error.length){t=arguments[1];if(t instanceof Error){throw t}else{var s=new Error('Uncaught, unspecified "error" event. ('+t+")");s.context=t;throw s}}}n=this._events[e];if(c(n))return false;if(u(n)){switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1);n.apply(this,i)}}else if(l(n)){i=Array.prototype.slice.call(arguments,1);o=n.slice();r=o.length;for(a=0;a<r;a++)o[a].apply(this,i)}return true};r.prototype.addListener=function(e,t){var n;if(!u(t))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",e,u(t.listener)?t.listener:t);if(!this._events[e])this._events[e]=t;else if(l(this._events[e]))this._events[e].push(t);else this._events[e]=[this._events[e],t];if(l(this._events[e])&&!this._events[e].warned){if(!c(this._maxListeners)){n=this._maxListeners}else{n=r.defaultMaxListeners}if(n&&n>0&&this._events[e].length>n){this._events[e].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[e].length);if(typeof console.trace==="function"){console.trace()}}}return this};r.prototype.on=r.prototype.addListener;r.prototype.once=function(e,t){if(!u(t))throw TypeError("listener must be a function");var n=false;function r(){this.removeListener(e,r);if(!n){n=true;t.apply(this,arguments)}}r.listener=t;this.on(e,r);return this};r.prototype.removeListener=function(e,t){var n,r,i,a;if(!u(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;n=this._events[e];i=n.length;r=-1;if(n===t||u(n.listener)&&n.listener===t){delete this._events[e];if(this._events.removeListener)this.emit("removeListener",e,t)}else if(l(n)){for(a=i;a-- >0;){if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}}if(r<0)return this;if(n.length===1){n.length=0;delete this._events[e]}else{n.splice(r,1)}if(this._events.removeListener)this.emit("removeListener",e,t)}return this};r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[e])delete this._events[e];return this}if(arguments.length===0){for(t in this._events){if(t==="removeListener")continue;this.removeAllListeners(t)}this.removeAllListeners("removeListener");this._events={};return this}n=this._events[e];if(u(n)){this.removeListener(e,n)}else if(n){while(n.length)this.removeListener(e,n[n.length-1])}delete this._events[e];return this};r.prototype.listeners=function(e){var t;if(!this._events||!this._events[e])t=[];else if(u(this._events[e]))t=[this._events[e]];else t=this._events[e].slice();return t};r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(u(t))return 1;else if(t)return t.length}return 0};r.listenerCount=function(e,t){return e.listenerCount(t)};function u(e){return typeof e==="function"}function n(e){return typeof e==="number"}function l(e){return typeof e==="object"&&e!==null}function c(e){return e===void 0}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(t,r,i){var a;(function(n){"use strict";function e(e){var k=e&&e.Promise||n.Promise;var S=e&&e.XMLHttpRequest||n.XMLHttpRequest;var t=n;return function(){var e=Object.create(t,{fetch:{value:undefined,writable:true}});(function(e){"use strict";if(e.fetch){return}var o={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(o.arrayBuffer){var t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var n=function(e){return e&&DataView.prototype.isPrototypeOf(e)};var r=ArrayBuffer.isView||function(e){return e&&t.indexOf(Object.prototype.toString.call(e))>-1}}function i(e){if(typeof e!=="string"){e=String(e)}if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e)){throw new TypeError("Invalid character in header field name")}return e.toLowerCase()}function a(e){if(typeof e!=="string"){e=String(e)}return e}function s(t){var e={next:function(){var e=t.shift();return{done:e===undefined,value:e}}};if(o.iterable){e[Symbol.iterator]=function(){return e}}return e}function u(t){this.map={};if(t instanceof u){t.forEach(function(e,t){this.append(t,e)},this)}else if(t){Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}}u.prototype.append=function(e,t){e=i(e);t=a(t);var n=this.map[e];this.map[e]=n?n+","+t:t};u.prototype["delete"]=function(e){delete this.map[i(e)]};u.prototype.get=function(e){e=i(e);return this.has(e)?this.map[e]:null};u.prototype.has=function(e){return this.map.hasOwnProperty(i(e))};u.prototype.set=function(e,t){this.map[i(e)]=a(t)};u.prototype.forEach=function(e,t){for(var n in this.map){if(this.map.hasOwnProperty(n)){e.call(t,this.map[n],n,this)}}};u.prototype.keys=function(){var n=[];this.forEach(function(e,t){n.push(t)});return s(n)};u.prototype.values=function(){var t=[];this.forEach(function(e){t.push(e)});return s(t)};u.prototype.entries=function(){var n=[];this.forEach(function(e,t){n.push([t,e])});return s(n)};if(o.iterable){u.prototype[Symbol.iterator]=u.prototype.entries}function l(e){if(e.bodyUsed){return k.reject(new TypeError("Already read"))}e.bodyUsed=true}function c(n){return new k(function(e,t){n.onload=function(){e(n.result)};n.onerror=function(){t(n.error)}})}function d(e){var t=new FileReader;var n=c(t);t.readAsArrayBuffer(e);return n}function f(e){var t=new FileReader;var n=c(t);t.readAsText(e);return n}function h(e){var t=new Uint8Array(e);var n=new Array(t.length);for(var r=0;r<t.length;r++){n[r]=String.fromCharCode(t[r])}return n.join("")}function p(e){if(e.slice){return e.slice(0)}else{var t=new Uint8Array(e.byteLength);t.set(new Uint8Array(e));return t.buffer}}function v(){this.bodyUsed=false;this._initBody=function(e){this._bodyInit=e;if(!e){this._bodyText=""}else if(typeof e==="string"){this._bodyText=e}else if(o.blob&&Blob.prototype.isPrototypeOf(e)){this._bodyBlob=e}else if(o.formData&&FormData.prototype.isPrototypeOf(e)){this._bodyFormData=e}else if(o.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)){this._bodyText=e.toString()}else if(o.arrayBuffer&&o.blob&&n(e)){this._bodyArrayBuffer=p(e.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else if(o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||r(e))){this._bodyArrayBuffer=p(e)}else{throw new Error("unsupported BodyInit type")}if(!this.headers.get("content-type")){if(typeof e==="string"){this.headers.set("content-type","text/plain;charset=UTF-8")}else if(this._bodyBlob&&this._bodyBlob.type){this.headers.set("content-type",this._bodyBlob.type)}else if(o.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)){this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}}};if(o.blob){this.blob=function(){var e=l(this);if(e){return e}if(this._bodyBlob){return k.resolve(this._bodyBlob)}else if(this._bodyArrayBuffer){return k.resolve(new Blob([this._bodyArrayBuffer]))}else if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return k.resolve(new Blob([this._bodyText]))}};this.arrayBuffer=function(){if(this._bodyArrayBuffer){return l(this)||k.resolve(this._bodyArrayBuffer)}else{return this.blob().then(d)}}}this.text=function(){var e=l(this);if(e){return e}if(this._bodyBlob){return f(this._bodyBlob)}else if(this._bodyArrayBuffer){return k.resolve(h(this._bodyArrayBuffer))}else if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return k.resolve(this._bodyText)}};if(o.formData){this.formData=function(){return this.text().then(_)}}this.json=function(){return this.text().then(JSON.parse)};return this}var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e){var t=e.toUpperCase();return y.indexOf(t)>-1?t:e}function m(e,t){t=t||{};var n=t.body;if(e instanceof m){if(e.bodyUsed){throw new TypeError("Already read")}this.url=e.url;this.credentials=e.credentials;if(!t.headers){this.headers=new u(e.headers)}this.method=e.method;this.mode=e.mode;if(!n&&e._bodyInit!=null){n=e._bodyInit;e.bodyUsed=true}}else{this.url=String(e)}this.credentials=t.credentials||this.credentials||"omit";if(t.headers||!this.headers){this.headers=new u(t.headers)}this.method=g(t.method||this.method||"GET");this.mode=t.mode||this.mode||null;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&n){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(n)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})};function _(e){var i=new FormData;e.trim().split("&").forEach(function(e){if(e){var t=e.split("=");var n=t.shift().replace(/\+/g," ");var r=t.join("=").replace(/\+/g," ");i.append(decodeURIComponent(n),decodeURIComponent(r))}});return i}function b(e){var i=new u;e.split(/\r?\n/).forEach(function(e){var t=e.split(":");var n=t.shift().trim();if(n){var r=t.join(":").trim();i.append(n,r)}});return i}v.call(m.prototype);function T(e,t){if(!t){t={}}this.type="default";this.status="status"in t?t.status:200;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in t?t.statusText:"OK";this.headers=new u(t.headers);this.url=t.url||"";this._initBody(e)}v.call(T.prototype);T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})};T.error=function(){var e=new T(null,{status:0,statusText:""});e.type="error";return e};var w=[301,302,303,307,308];T.redirect=function(e,t){if(w.indexOf(t)===-1){throw new RangeError("Invalid status code")}return new T(null,{status:t,headers:{location:e}})};e.Headers=u;e.Request=m;e.Response=T;e.fetch=function(i,a){return new k(function(n,e){var t=new m(i,a);var r=new S;r.onload=function(){var e={status:r.status,statusText:r.statusText,headers:b(r.getAllResponseHeaders()||"")};e.url="responseURL"in r?r.responseURL:e.headers.get("X-Request-URL");var t="response"in r?r.response:r.responseText;n(new T(t,e))};r.onerror=function(){e(new TypeError("Network request failed"))};r.ontimeout=function(){e(new TypeError("Network request failed"))};r.open(t.method,t.url,true);if(t.credentials==="include"){r.withCredentials=true}if("responseType"in r&&o.blob){r.responseType="blob"}t.headers.forEach(function(e,t){r.setRequestHeader(t,e)});r.send(typeof t._bodyInit==="undefined"?null:t._bodyInit)})};e.fetch.polyfill=true})(typeof e!=="undefined"?e:this);return{fetch:e.fetch,Headers:e.Headers,Request:e.Request,Response:e.Response}}()}if(true){!(a=function(){return e}.call(r,i,r,t),a!==undefined&&(t.exports=a))}else if(typeof r==="object"){t.exports=e}else{n.fetchPonyfill=e}})(typeof self==="undefined"?this:self)},function(e,t,n){var r=n(25);e.exports=o;var i=Object.prototype.toString;var a=Object.prototype.hasOwnProperty;function o(e,t,n){if(!r(t)){throw new TypeError("iterator must be a function")}if(arguments.length<3){n=this}if(i.call(e)==="[object Array]")s(e,t,n);else if(typeof e==="string")u(e,t,n);else l(e,t,n)}function s(e,t,n){for(var r=0,i=e.length;r<i;r++){if(a.call(e,r)){t.call(n,e[r],r,e)}}}function u(e,t,n){for(var r=0,i=e.length;r<i;r++){t.call(n,e.charAt(r),r,e)}}function l(e,t,n){for(var r in e){if(a.call(e,r)){t.call(n,e[r],r,e)}}}},function(t,e,n){(function(e){if(typeof window!=="undefined"){t.exports=window}else if(typeof e!=="undefined"){t.exports=e}else if(typeof self!=="undefined"){t.exports=self}else{t.exports={}}}).call(e,n(3))},function(e,t,n){"use strict";e.exports=function(e){var t=typeof e;return e!==null&&(t==="object"||t==="function")}},function(e,t){var n=e.exports={};var r;var i;function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){r=setTimeout}else{r=a}}catch(e){r=a}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=o}}catch(e){i=o}})();function s(e){if(r===setTimeout){return setTimeout(e,0)}if((r===a||!r)&&setTimeout){r=setTimeout;return setTimeout(e,0)}try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function u(e){if(i===clearTimeout){return clearTimeout(e)}if((i===o||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(e)}try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}var l=[];var c=false;var d;var f=-1;function h(){if(!c||!d){return}c=false;if(d.length){l=d.concat(l)}else{f=-1}if(l.length){p()}}function p(){if(c){return}var e=s(h);c=true;var t=l.length;while(t){d=l;l=[];while(++f<t){if(d){d[f].run()}}f=-1;t=l.length}d=null;c=false;u(e)}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}}l.push(new v(e,t));if(l.length===1&&!c){s(p)}};function v(e,t){this.fun=e;this.array=t}v.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function y(){}n.on=y;n.addListener=y;n.once=y;n.off=y;n.removeListener=y;n.removeAllListeners=y;n.emit=y;n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},function(e,t,n){var a=n(90),r=n(81),o=function(e){return Object.prototype.toString.call(e)==="[object Array]"};e.exports=function(e){if(!e)return{};var i={};r(a(e).split("\n"),function(e){var t=e.indexOf(":"),n=a(e.slice(0,t)).toLowerCase(),r=a(e.slice(t+1));if(typeof i[n]==="undefined"){i[n]=r}else if(o(i[n])){i[n].push(r)}else{i[n]=[i[n],r]}});return i}},function(v,e,t){(function(p){(function(e){var t=setTimeout;function r(){}function i(e,t){return function(){e.apply(t,arguments)}}function a(e){if(typeof this!=="object")throw new TypeError("Promises must be constructed via new");if(typeof e!=="function")throw new TypeError("not a function");this._state=0;this._handled=false;this._value=undefined;this._deferreds=[];d(e,this)}function o(r,i){while(r._state===3){r=r._value}if(r._state===0){r._deferreds.push(i);return}r._handled=true;a._immediateFn(function(){var e=r._state===1?i.onFulfilled:i.onRejected;if(e===null){(r._state===1?s:u)(i.promise,r._value);return}var t;try{t=e(r._value)}catch(n){u(i.promise,n);return}s(i.promise,t)})}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(typeof t==="object"||typeof t==="function")){var n=t.then;if(t instanceof a){e._state=3;e._value=t;l(e);return}else if(typeof n==="function"){d(i(n,t),e);return}}e._state=1;e._value=t;l(e)}catch(r){u(e,r)}}function u(e,t){e._state=2;e._value=t;l(e)}function l(e){if(e._state===2&&e._deferreds.length===0){a._immediateFn(function(){if(!e._handled){a._unhandledRejectionFn(e._value)}})}for(var t=0,n=e._deferreds.length;t<n;t++){o(e,e._deferreds[t])}e._deferreds=null}function c(e,t,n){this.onFulfilled=typeof e==="function"?e:null;this.onRejected=typeof t==="function"?t:null;this.promise=n}function d(e,t){var n=false;try{e(function(e){if(n)return;n=true;s(t,e)},function(e){if(n)return;n=true;u(t,e)})}catch(r){if(n)return;n=true;u(t,r)}}a.prototype["catch"]=function(e){return this.then(null,e)};a.prototype.then=function(e,t){var n=new this.constructor(r);o(this,new c(e,t,n));return n};a.all=function(e){var u=Array.prototype.slice.call(e);return new a(function(i,a){if(u.length===0)return i([]);var o=u.length;function s(t,e){try{if(e&&(typeof e==="object"||typeof e==="function")){var n=e.then;if(typeof n==="function"){n.call(e,function(e){s(t,e)},a);return}}u[t]=e;if(--o===0){i(u)}}catch(r){a(r)}}for(var e=0;e<u.length;e++){s(e,u[e])}})};a.resolve=function(t){if(t&&typeof t==="object"&&t.constructor===a){return t}return new a(function(e){e(t)})};a.reject=function(n){return new a(function(e,t){t(n)})};a.race=function(i){return new a(function(e,t){for(var n=0,r=i.length;n<r;n++){i[n].then(e,t)}})};a._immediateFn=typeof p==="function"&&function(e){p(e)}||function(e){t(e,0)};a._unhandledRejectionFn=function n(e){if(typeof console!=="undefined"&&console){console.warn("Possible Unhandled Promise Rejection:",e)}};a._setImmediateFn=function f(e){a._immediateFn=e};a._setUnhandledRejectionFn=function h(e){a._unhandledRejectionFn=e};if(typeof v!=="undefined"&&v.exports){v.exports=a}else if(!e.Promise){e.Promise=a}})(this)}).call(e,t(89).setImmediate)},function(e,t){e.exports=n;function n(e,t){var n;var r=null;try{n=JSON.parse(e,t)}catch(i){r=i}return[r,n]}},function(e,t,n){(function(e,m){(function(n,r){"use strict";if(n.setImmediate){return}var i=1;var a={};var o=false;var s=n.document;var u;function e(e){if(typeof e!=="function"){e=new Function(""+e)}var t=new Array(arguments.length-1);for(var n=0;n<t.length;n++){t[n]=arguments[n+1]}var r={callback:e,args:t};a[i]=r;u(i);return i++}function l(e){delete a[e]}function c(e){var t=e.callback;var n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n);break}}function d(e){if(o){setTimeout(d,0,e)}else{var t=a[e];if(t){o=true;try{c(t)}finally{l(e);o=false}}}}function t(){u=function(e){m.nextTick(function(){d(e)})}}function f(){if(n.postMessage&&!n.importScripts){var e=true;var t=n.onmessage;n.onmessage=function(){e=false};n.postMessage("","*");n.onmessage=t;return e}}function h(){var t="setImmediate$"+Math.random()+"$";var e=function(e){if(e.source===n&&typeof e.data==="string"&&e.data.indexOf(t)===0){d(+e.data.slice(t.length))}};if(n.addEventListener){n.addEventListener("message",e,false)}else{n.attachEvent("onmessage",e)}u=function(e){n.postMessage(t+e,"*")}}function p(){var t=new MessageChannel;t.port1.onmessage=function(e){var t=e.data;d(t)};u=function(e){t.port2.postMessage(e)}}function v(){var n=s.documentElement;u=function(e){var t=s.createElement("script");t.onreadystatechange=function(){d(e);t.onreadystatechange=null;n.removeChild(t);t=null};n.appendChild(t)}}function y(){u=function(e){setTimeout(d,0,e)}}var g=Object.getPrototypeOf&&Object.getPrototypeOf(n);g=g&&g.setTimeout?g:n;if({}.toString.call(n.process)==="[object process]"){t()}else if(f()){h()}else if(n.MessageChannel){p()}else if(s&&"onreadystatechange"in s.createElement("script")){v()}else{y()}g.setImmediate=e;g.clearImmediate=l})(typeof self==="undefined"?typeof e==="undefined"?this:e:self)}).call(t,n(3),n(84))},function(e,t,n){var r=Function.prototype.apply;t.setTimeout=function(){return new i(r.call(setTimeout,window,arguments),clearTimeout)};t.setInterval=function(){return new i(r.call(setInterval,window,arguments),clearInterval)};t.clearTimeout=t.clearInterval=function(e){if(e){e.close()}};function i(e,t){this._id=e;this._clearFn=t}i.prototype.unref=i.prototype.ref=function(){};i.prototype.close=function(){this._clearFn.call(window,this._id)};t.enroll=function(e,t){clearTimeout(e._idleTimeoutId);e._idleTimeout=t};t.unenroll=function(e){clearTimeout(e._idleTimeoutId);e._idleTimeout=-1};t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;if(t>=0){e._idleTimeoutId=setTimeout(function n(){if(e._onTimeout)e._onTimeout()},t)}};n(88);t.setImmediate=setImmediate;t.clearImmediate=clearImmediate},function(e,t){t=e.exports=n;function n(e){return e.replace(/^\s*|\s*$/g,"")}t.left=function(e){return e.replace(/^\s*/,"")};t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t){function r(e){return e.replace(/\n\r?\s*/g,"")}e.exports=function i(e){var t="",n=0;for(;n<arguments.length;n++)t+=r(e[n])+(arguments[n+1]||"");return t}},function(e,t,n){function r(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var Ye=r(n(94));var Ke=r(n(93));var $e=r(n(91));var Je=r(n(87));var a=r(n(104));var R=r(n(98));var Qe="6.9.0";var i=Ye.navigator&&Ye.navigator.userAgent||"";var o=/AppleWebKit\/([\d.]+)/i.exec(i);var s=o?parseFloat(o.pop()):null;var u=/iPad/i.test(i);var C=/iPhone/i.test(i)&&!u;var l=/iPod/i.test(i);var Ze=C||u||l;var c=function(){var e=i.match(/OS (\d+)_/i);if(e&&e[1]){return e[1]}return null}();var E=/Android/i.test(i);var d=function(){var e=i.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e){return null}var t=e[1]&&parseFloat(e[1]);var n=e[2]&&parseFloat(e[2]);if(t&&n){return parseFloat(e[1]+"."+e[2])}else if(t){return t}return null}();var f=E&&/webkit/i.test(i)&&d<2.3;var O=E&&d<5&&s<537;var h=/Firefox/i.test(i);var p=/Edge/i.test(i);var P=!p&&/Chrome/i.test(i);var v=function(){var e=i.match(/Chrome\/(\d+)/);if(e&&e[1]){return parseFloat(e[1])}return null}();var y=/MSIE\s8\.0/.test(i);var g=function(){var e=/MSIE\s(\d+)\.\d/.exec(i);var t=e&&parseFloat(e[1]);if(!t&&/Trident\/7.0/i.test(i)&&/rv:11.0/.test(i)){t=11}return t}();var m=/Safari/i.test(i)&&!P&&!E&&!p;var _=m||Ze;var A=z()&&("ontouchstart"in Ye||Ye.DocumentTouch&&Ye.document instanceof Ye.DocumentTouch);var b=z()&&"backgroundSize"in Ye.document.createElement("video").style;var T=(Object.freeze||Object)({IS_IPAD:u,IS_IPHONE:C,IS_IPOD:l,IS_IOS:Ze,IOS_VERSION:c,IS_ANDROID:E,ANDROID_VERSION:d,IS_OLD_ANDROID:f,IS_NATIVE_ANDROID:O,IS_FIREFOX:h,IS_EDGE:p,IS_CHROME:P,CHROME_VERSION:v,IS_IE8:y,IE_VERSION:g,IS_SAFARI:m,IS_ANY_SAFARI:_,TOUCH_ENABLED:A,BACKGROUND_SIZE_SUPPORTED:b});var w=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var et=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var tt=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t};var nt=function(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e};var k=function(e,t){e.raw=t;return e};var S=Object.prototype.toString;var j=function j(e){return I(e)?Object.keys(e):[]};function x(t,n){j(t).forEach(function(e){return n(t[e],e)})}function L(n,r){var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return j(n).reduce(function(e,t){return r(e,n[t],t)},e)}function rt(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++){t[r-1]=arguments[r]}if(Object.assign){return Object.assign.apply(Object,[n].concat(t))}t.forEach(function(e){if(!e){return}x(e,function(e,t){n[t]=e})});return n}function I(e){return!!e&&(typeof e==="undefined"?"undefined":w(e))==="object"}function B(e){return I(e)&&S.call(e)==="[object Object]"&&e.constructor===Object}var M=void 0;var D="info";var N=[];var U=function U(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!!g&&g<11;var r=M.levels[D];var i=new RegExp("^("+r+")$");if(e!=="log"){t.unshift(e.toUpperCase()+":")}if(N){N.push([].concat(t))}t.unshift("VIDEOJS:");if(!Ye.console){return}var a=Ye.console[e];if(!a&&e==="debug"){a=Ye.console.info||Ye.console.log}if(!a||!r||!i.test(e)){return}if(n){t=t.map(function(e){if(I(e)||Array.isArray(e)){try{return JSON.stringify(e)}catch(t){return String(e)}}return String(e)}).join(" ")}if(!a.apply){a(t)}else{a[Array.isArray(t)?"apply":"call"](Ye.console,t)}};M=function M(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}U("log",t)};M.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:D};M.level=function(e){if(typeof e==="string"){if(!M.levels.hasOwnProperty(e)){throw new Error('"'+e+'" in not a valid log level')}D=e}return D};M.history=function(){return N?[].concat(N):[]};M.history.clear=function(){if(N){N.length=0}};M.history.disable=function(){if(N!==null){N.length=0;N=null}};M.history.enable=function(){if(N===null){N=[]}};M.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}return U("error",t)};M.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}return U("warn",t)};M.debug=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}return U("debug",t)};var it=M;function F(e,t){if(!e||!t){return""}if(typeof Ye.getComputedStyle==="function"){var n=Ye.getComputedStyle(e);return n?n[t]:""}return e.currentStyle[t]||""}var H=k(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);function V(e){return typeof e==="string"&&/\S/.test(e)}function q(e){if(/\s/.test(e)){throw new Error("class has illegal whitespace characters")}}function W(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function z(){return Ke===Ye.document&&typeof Ke.createElement!=="undefined"}function G(e){return I(e)&&e.nodeType===1}function X(){try{return Ye.parent!==Ye.self}catch(e){return true}}function Y(r){return function(e,t){if(!V(e)){return Ke[r](null)}if(V(t)){t=Ke.querySelector(t)}var n=G(t)?t:Ke;return n[r]&&n[r](e)}}function K(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"div";var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var r=arguments[3];var i=Ke.createElement(e);Object.getOwnPropertyNames(n).forEach(function(e){var t=n[e];if(e.indexOf("aria-")!==-1||e==="role"||e==="type"){it.warn($e(H,e,t));i.setAttribute(e,t)}else if(e==="textContent"){$(i,t)}else{i[e]=t}});Object.getOwnPropertyNames(t).forEach(function(e){i.setAttribute(e,t[e])});if(r){ce(i,r)}return i}function $(e,t){if(typeof e.textContent==="undefined"){e.innerText=t}else{e.textContent=t}return e}function at(e,t){if(t.firstChild){t.insertBefore(e,t.firstChild)}else{t.appendChild(e)}}function ot(e,t){q(t);if(e.classList){return e.classList.contains(t)}return W(t).test(e.className)}function st(e,t){if(e.classList){e.classList.add(t)}else if(!ot(e,t)){e.className=(e.className+" "+t).trim()}return e}function ut(e,t){if(e.classList){e.classList.remove(t)}else{q(t);e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")}return e}function J(e,t,n){var r=ot(e,t);if(typeof n==="function"){n=n(e,t)}if(typeof n!=="boolean"){n=!r}if(n===r){return}if(n){st(e,t)}else{ut(e,t)}return e}function Q(n,r){Object.getOwnPropertyNames(r).forEach(function(e){var t=r[e];if(t===null||typeof t==="undefined"||t===false){n.removeAttribute(e)}else{n.setAttribute(e,t===true?"":t)}})}function lt(e){var t={};var n=","+"autoplay,controls,playsinline,loop,muted,default,defaultMuted"+",";if(e&&e.attributes&&e.attributes.length>0){var r=e.attributes;for(var i=r.length-1;i>=0;i--){var a=r[i].name;var o=r[i].value;if(typeof e[a]==="boolean"||n.indexOf(","+a+",")!==-1){o=o!==null?true:false}t[a]=o}}return t}function Z(e,t){return e.getAttribute(t)}function ee(e,t,n){e.setAttribute(t,n)}function te(e,t){e.removeAttribute(t)}function ne(){Ke.body.focus();Ke.onselectstart=function(){return false}}function re(){Ke.onselectstart=function(){return true}}function ie(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect();var n={};["bottom","height","left","right","top","width"].forEach(function(e){if(t[e]!==undefined){n[e]=t[e]}});if(!n.height){n.height=parseFloat(F(e,"height"))}if(!n.width){n.width=parseFloat(F(e,"width"))}return n}}function ae(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode){t=e.getBoundingClientRect()}if(!t){return{left:0,top:0}}var n=Ke.documentElement;var r=Ke.body;var i=n.clientLeft||r.clientLeft||0;var a=Ye.pageXOffset||r.scrollLeft;var o=t.left+a-i;var s=n.clientTop||r.clientTop||0;var u=Ye.pageYOffset||r.scrollTop;var l=t.top+u-s;return{left:Math.round(o),top:Math.round(l)}}function oe(e,t){var n={};var r=ae(e);var i=e.offsetWidth;var a=e.offsetHeight;var o=r.top;var s=r.left;var u=t.pageY;var l=t.pageX;if(t.changedTouches){l=t.changedTouches[0].pageX;u=t.changedTouches[0].pageY}n.y=Math.max(0,Math.min(1,(o-u+a)/a));n.x=Math.max(0,Math.min(1,(l-s)/i));return n}function se(e){return I(e)&&e.nodeType===3}function ue(e){while(e.firstChild){e.removeChild(e.firstChild)}return e}function le(e){if(typeof e==="function"){e=e()}return(Array.isArray(e)?e:[e]).map(function(e){if(typeof e==="function"){e=e()}if(G(e)||se(e)){return e}if(typeof e==="string"&&/\S/.test(e)){return Ke.createTextNode(e)}}).filter(function(e){return e})}function ce(t,e){le(e).forEach(function(e){return t.appendChild(e)});return t}function de(e,t){return ce(ue(e),t)}function ct(e){if(e.button===undefined&&e.buttons===undefined){return true}if(e.button===0&&e.buttons===undefined){return true}if(g===9){return true}if(e.button!==0||e.buttons!==1){return false}return true}var dt=Y("querySelector");var fe=Y("querySelectorAll");var he=(Object.freeze||Object)({isReal:z,isEl:G,isInFrame:X,createEl:K,textContent:$,prependTo:at,hasClass:ot,addClass:st,removeClass:ut,toggleClass:J,setAttributes:Q,getAttributes:lt,getAttribute:Z,setAttribute:ee,removeAttribute:te,blockTextSelection:ne,unblockTextSelection:re,getBoundingClientRect:ie,findPosition:ae,getPointerPosition:oe,isTextNode:se,emptyEl:ue,normalizeContent:le,appendContent:ce,insertContent:de,isSingleLeftClick:ct,$:dt,$$:fe});var pe=1;function ft(){return pe++}var ve={};var ye="vdata"+(new Date).getTime();function ge(e){var t=e[ye];if(!t){t=e[ye]=ft()}if(!ve[t]){ve[t]={}}return ve[t]}function me(e){var t=e[ye];if(!t){return false}return!!Object.getOwnPropertyNames(ve[t]).length}function _e(e){var t=e[ye];if(!t){return}delete ve[t];try{delete e[ye]}catch(n){if(e.removeAttribute){e.removeAttribute(ye)}else{e[ye]=null}}}function be(e,t){var n=ge(e);if(n.handlers[t].length===0){delete n.handlers[t];if(e.removeEventListener){e.removeEventListener(t,n.dispatcher,false)}else if(e.detachEvent){e.detachEvent("on"+t,n.dispatcher)}}if(Object.getOwnPropertyNames(n.handlers).length<=0){delete n.handlers;delete n.dispatcher;delete n.disabled}if(Object.getOwnPropertyNames(n).length===0){_e(e)}}function Te(t,n,e,r){e.forEach(function(e){t(n,e,r)})}function we(e){function t(){return true}function n(){return false}if(!e||!e.isPropagationStopped){var r=e||Ye.event;e={};for(var i in r){if(i!=="layerX"&&i!=="layerY"&&i!=="keyLocation"&&i!=="webkitMovementX"&&i!=="webkitMovementY"){if(!(i==="returnValue"&&r.preventDefault)){e[i]=r[i]}}}if(!e.target){e.target=e.srcElement||Ke}if(!e.relatedTarget){e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement}e.preventDefault=function(){if(r.preventDefault){r.preventDefault()}e.returnValue=false;r.returnValue=false;e.defaultPrevented=true};e.defaultPrevented=false;e.stopPropagation=function(){if(r.stopPropagation){r.stopPropagation()}e.cancelBubble=true;r.cancelBubble=true;e.isPropagationStopped=t};e.isPropagationStopped=n;e.stopImmediatePropagation=function(){if(r.stopImmediatePropagation){r.stopImmediatePropagation()}e.isImmediatePropagationStopped=t;e.stopPropagation()};e.isImmediatePropagationStopped=n;if(e.clientX!==null&&e.clientX!==undefined){var a=Ke.documentElement;var o=Ke.body;e.pageX=e.clientX+(a&&a.scrollLeft||o&&o.scrollLeft||0)-(a&&a.clientLeft||o&&o.clientLeft||0);e.pageY=e.clientY+(a&&a.scrollTop||o&&o.scrollTop||0)-(a&&a.clientTop||o&&o.clientTop||0)}e.which=e.charCode||e.keyCode;if(e.button!==null&&e.button!==undefined){e.button=e.button&1?0:e.button&4?1:e.button&2?2:0}}return e}var ke=false;(function(){try{var e=Object.defineProperty({},"passive",{get:function t(){ke=true}});Ye.addEventListener("test",null,e);Ye.removeEventListener("test",null,e)}catch(n){}})();var Se=["touchstart","touchmove"];function ht(s,e,t){if(Array.isArray(e)){return Te(ht,s,e,t)}var u=ge(s);if(!u.handlers){u.handlers={}}if(!u.handlers[e]){u.handlers[e]=[]}if(!t.guid){t.guid=ft()}u.handlers[e].push(t);if(!u.dispatcher){u.disabled=false;u.dispatcher=function(e,t){if(u.disabled){return}e=we(e);var n=u.handlers[e.type];if(n){var r=n.slice(0);for(var i=0,a=r.length;i<a;i++){if(e.isImmediatePropagationStopped()){break}else{try{r[i].call(s,e,t)}catch(o){it.error(o)}}}}}}if(u.handlers[e].length===1){if(s.addEventListener){var n=false;if(ke&&Se.indexOf(e)>-1){n={passive:true}}s.addEventListener(e,u.dispatcher,n)}else if(s.attachEvent){s.attachEvent("on"+e,u.dispatcher)}}}function pt(e,t,n){if(!me(e)){return}var r=ge(e);if(!r.handlers){return}if(Array.isArray(t)){return Te(pt,e,t,n)}var i=function i(e,t){r.handlers[t]=[];be(e,t)};if(t===undefined){for(var a in r.handlers){if(Object.prototype.hasOwnProperty.call(r.handlers||{},a)){i(e,a)}}return}var o=r.handlers[t];if(!o){return}if(!n){i(e,t);return}if(n.guid){for(var s=0;s<o.length;s++){if(o[s].guid===n.guid){o.splice(s--,1)}}}be(e,t)}function Ce(e,t,n){var r=me(e)?ge(e):{};var i=e.parentNode||e.ownerDocument;if(typeof t==="string"){t={type:t,target:e}}else if(!t.target){t.target=e}t=we(t);if(r.dispatcher){r.dispatcher.call(e,t,n)}if(i&&!t.isPropagationStopped()&&t.bubbles===true){Ce.call(null,i,t,n)}else if(!i&&!t.defaultPrevented){var a=ge(t.target);if(t.target[t.type]){a.disabled=true;if(typeof t.target[t.type]==="function"){t.target[t.type]()}a.disabled=false}}return!t.defaultPrevented}function Ee(e,t,n){if(Array.isArray(t)){return Te(Ee,e,t,n)}var r=function r(){pt(e,t,r);n.apply(this,arguments)};r.guid=n.guid=n.guid||ft();ht(e,t,r)}var Oe=(Object.freeze||Object)({fixEvent:we,on:ht,off:pt,trigger:Ce,one:Ee});var Pe=false;var Ae=void 0;var je=function je(){if(!z()){return}var e=Ke.getElementsByTagName("video");var t=Ke.getElementsByTagName("audio");var n=Ke.getElementsByTagName("video-js");var r=[];if(e&&e.length>0){for(var i=0,a=e.length;i<a;i++){r.push(e[i])}}if(t&&t.length>0){for(var o=0,s=t.length;o<s;o++){r.push(t[o])}}if(n&&n.length>0){for(var u=0,l=n.length;u<l;u++){r.push(n[u])}}if(r&&r.length>0){for(var c=0,d=r.length;c<d;c++){var f=r[c];if(f&&f.getAttribute){if(f.player===undefined){var h=f.getAttribute("data-setup");if(h!==null){Ae(f)}}}else{xe(1);break}}}else if(!Pe){xe(1)}};function xe(e,t){if(t){Ae=t}Ye.setTimeout(je,e)}if(z()&&Ke.readyState==="complete"){Pe=true}else{Ee(Ye,"load",function(){Pe=true})}var vt=function vt(e){var t=Ke.createElement("style");t.className=e;return t};var yt=function yt(e,t){if(e.styleSheet){e.styleSheet.cssText=t}else{e.textContent=t}};var gt=function gt(e,t,n){if(!t.guid){t.guid=ft()}var r=function r(){return t.apply(e,arguments)};r.guid=n?n+"_"+t.guid:t.guid;return r};var Le=function Le(t,n){var r=Date.now();var i=function i(){var e=Date.now();if(e-r>=n){t.apply(undefined,arguments);r=e}};return i};var Ie=function Ie(i,a,o){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Ye;var u=void 0;return function(){var e=this;var t=arguments;var n=function r(){u=null;n=null;if(!o){i.apply(e,t)}};if(!u&&o){i.apply(e,t)}s.clearTimeout(u);u=s.setTimeout(n,a)}};var Me=function Me(){};Me.prototype.allowedEvents_={};Me.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){};ht(this,e,t);this.addEventListener=n};Me.prototype.addEventListener=Me.prototype.on;Me.prototype.off=function(e,t){pt(this,e,t)};Me.prototype.removeEventListener=Me.prototype.off;Me.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){};Ee(this,e,t);this.addEventListener=n};Me.prototype.trigger=function(e){var t=e.type||e;if(typeof e==="string"){e={type:t}}e=we(e);if(this.allowedEvents_[t]&&this["on"+t]){this["on"+t](e)}Ce(this,e)};Me.prototype.dispatchEvent=Me.prototype.trigger;var De=function De(t){return t instanceof Me||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return typeof t[e]==="function"})};var Re=function Re(e){return typeof e==="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length};var Be=function Be(e){if(!e.nodeName&&!De(e)){throw new Error("Invalid target; must be a DOM node or evented object.")}};var Ne=function Ne(e){if(!Re(e)){throw new Error("Invalid event type; must be a non-empty string or array.")}};var Ue=function Ue(e){if(typeof e!=="function"){throw new Error("Invalid listener; must be a function.")}};var Fe=function Fe(e,t){var n=t.length<3||t[0]===e||t[0]===e.eventBusEl_;var r=void 0;var i=void 0;var a=void 0;if(n){r=e.eventBusEl_;if(t.length>=3){t.shift()}i=t[0];a=t[1]}else{r=t[0];i=t[1];a=t[2]}Be(r);Ne(i);Ue(a);a=gt(e,a);return{isTargetingSelf:n,target:r,type:i,listener:a}};var He=function He(e,t,n,r){Be(e);if(e.nodeName){Oe[t](e,n,r)}else{e[t](n,r)}};var Ve={on:function Ki(){var e=this;for(var t=arguments.length,n=Array(t),r=0;r<t;r++){n[r]=arguments[r]}var i=Fe(this,n),a=i.isTargetingSelf,o=i.target,s=i.type,u=i.listener;He(o,"on",s,u);if(!a){var l=function l(){return e.off(o,s,u)};l.guid=u.guid;var c=function c(){return e.off("dispose",l)};c.guid=u.guid;He(this,"on","dispose",l);He(o,"on","dispose",c)}},one:function $i(){var r=this;for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}var i=Fe(this,t),a=i.isTargetingSelf,o=i.target,s=i.type,u=i.listener;if(a){He(o,"one",s,u)}else{var l=function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}r.off(o,s,l);u.apply(null,t)};l.guid=u.guid;He(o,"one",s,l)}},off:function Ji(e,t,n){if(!e||Re(e)){pt(this.eventBusEl_,e,t)}else{var r=e;var i=t;Be(r);Ne(i);Ue(n);n=gt(this,n);this.off("dispose",n);if(r.nodeName){pt(r,i,n);pt(r,"dispose",n)}else if(De(r)){r.off(i,n);r.off("dispose",n)}}},trigger:function Qi(e,t){return Ce(this.eventBusEl_,e,t)}};function mt(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=t.eventBusKey;if(n){if(!e[n].nodeName){throw new Error('The eventBusKey "'+n+'" does not refer to an element.')}e.eventBusEl_=e[n]}else{e.eventBusEl_=K("span",{className:"vjs-event-bus"})}rt(e,Ve);e.on("dispose",function(){e.off();Ye.setTimeout(function(){e.eventBusEl_=null},0)});return e}var qe={state:{},setState:function Zi(e){var n=this;if(typeof e==="function"){e=e()}var r=void 0;x(e,function(e,t){if(n.state[t]!==e){r=r||{};r[t]={from:n.state[t],to:e}}n.state[t]=e});if(r&&De(this)){this.trigger({changes:r,type:"statechanged"})}return r}};function We(e,t){rt(e,qe);e.state=rt({},e.state,t);if(typeof e.handleStateChanged==="function"&&De(e)){e.on("statechanged",e.handleStateChanged)}return e}function _t(e){if(typeof e!=="string"){return e}return e.charAt(0).toUpperCase()+e.slice(1)}function bt(e,t){return _t(e)===_t(t)}function Tt(){var n={};for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}t.forEach(function(e){if(!e){return}x(e,function(e,t){if(!B(e)){n[t]=e;return}if(!B(n[t])){n[t]={}}n[t]=Tt(n[t],e)})});return n}var wt=function(){function l(e,t,n){et(this,l);if(!e&&this.play){this.player_=e=this}else{this.player_=e}this.options_=Tt({},this.options_);t=this.options_=Tt(this.options_,t);this.id_=t.id||t.el&&t.el.id;if(!this.id_){var r=e&&e.id&&e.id()||"no_player";this.id_=r+"_component_"+ft()}this.name_=t.name||null;if(t.el){this.el_=t.el}else if(t.createEl!==false){this.el_=this.createEl()}if(t.evented!==false){mt(this,{eventBusKey:this.el_?"el_":null})}We(this,this.constructor.defaultState);this.children_=[];this.childIndex_={};this.childNameIndex_={};if(t.initChildren!==false){this.initChildren()}this.ready(n);if(t.reportTouchActivity!==false){this.enableTouchActivity()}}l.prototype.dispose=function t(){this.trigger({type:"dispose",bubbles:false});if(this.children_){for(var e=this.children_.length-1;e>=0;e--){if(this.children_[e].dispose){this.children_[e].dispose()}}}this.children_=null;this.childIndex_=null;this.childNameIndex_=null;if(this.el_){if(this.el_.parentNode){this.el_.parentNode.removeChild(this.el_)}_e(this.el_);this.el_=null}this.player_=null};l.prototype.player=function e(){return this.player_};l.prototype.options=function n(e){it.warn("this.options() has been deprecated and will be moved to the constructor in 6.0");if(!e){return this.options_}this.options_=Tt(this.options_,e);return this.options_};l.prototype.el=function r(){return this.el_};l.prototype.createEl=function i(e,t,n){return K(e,t,n)};l.prototype.localize=function c(e,i){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:e;var n=this.player_.language&&this.player_.language();var r=this.player_.languages&&this.player_.languages();var a=r&&r[n];var o=n&&n.split("-")[0];var s=r&&r[o];var u=t;if(a&&a[e]){u=a[e]}else if(s&&s[e]){u=s[e]}if(i){u=u.replace(/\{(\d+)\}/g,function(e,t){var n=i[t-1];var r=n;if(typeof n==="undefined"){r=e}return r})}return u};l.prototype.contentEl=function a(){return this.contentEl_||this.el_};l.prototype.id=function o(){return this.id_};l.prototype.name=function s(){return this.name_};l.prototype.children=function u(){return this.children_};l.prototype.getChildById=function d(e){return this.childIndex_[e]};l.prototype.getChild=function f(e){if(!e){return}e=_t(e);return this.childNameIndex_[e]};l.prototype.addChild=function h(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.children_.length;var r=void 0;var i=void 0;if(typeof e==="string"){i=_t(e);var a=t.componentClass||i;t.name=i;var o=l.getComponent(a);if(!o){throw new Error("Component "+a+" does not exist")}if(typeof o!=="function"){return null}r=new o(this.player_||this,t)}else{r=e}this.children_.splice(n,0,r);if(typeof r.id==="function"){this.childIndex_[r.id()]=r}i=i||r.name&&_t(r.name());if(i){this.childNameIndex_[i]=r}if(typeof r.el==="function"&&r.el()){var s=this.contentEl().children;var u=s[n]||null;this.contentEl().insertBefore(r.el(),u)}return r};l.prototype.removeChild=function p(e){if(typeof e==="string"){e=this.getChild(e)}if(!e||!this.children_){return}var t=false;for(var n=this.children_.length-1;n>=0;n--){if(this.children_[n]===e){t=true;this.children_.splice(n,1);break}}if(!t){return}this.childIndex_[e.id()]=null;this.childNameIndex_[e.name()]=null;var r=e.el();if(r&&r.parentNode===this.contentEl()){this.contentEl().removeChild(e.el())}};l.prototype.initChildren=function v(){var i=this;var r=this.options_.children;if(r){var a=this.options_;var o=function o(e){var t=e.name;var n=e.opts;if(a[t]!==undefined){n=a[t]}if(n===false){return}if(n===true){n={}}n.playerOptions=i.options_.playerOptions;var r=i.addChild(t,n);if(r){i[t]=r}};var e=void 0;var n=l.getComponent("Tech");if(Array.isArray(r)){e=r}else{e=Object.keys(r)}e.concat(Object.keys(this.options_).filter(function(t){return!e.some(function(e){if(typeof e==="string"){return t===e}return t===e.name})})).map(function(e){var t=void 0;var n=void 0;if(typeof e==="string"){t=e;n=r[t]||i.options_[t]||{}}else{t=e.name;n=e}return{name:t,opts:n}}).filter(function(e){var t=l.getComponent(e.opts.componentClass||_t(e.name));return t&&!n.isTech(t)}).forEach(o)}};l.prototype.buildCSSClass=function y(){return""};l.prototype.ready=function g(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!e){return}if(!this.isReady_){this.readyQueue_=this.readyQueue_||[];this.readyQueue_.push(e);return}if(t){e.call(this)}else{this.setTimeout(e,1)}};l.prototype.triggerReady=function m(){this.isReady_=true;this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[];if(e&&e.length>0){e.forEach(function(e){e.call(this)},this)}this.trigger("ready")},1)};l.prototype.$=function _(e,t){return dt(e,t||this.contentEl())};l.prototype.$$=function b(e,t){return fe(e,t||this.contentEl())};l.prototype.hasClass=function T(e){return ot(this.el_,e)};l.prototype.addClass=function w(e){st(this.el_,e)};l.prototype.removeClass=function k(e){ut(this.el_,e)};l.prototype.toggleClass=function S(e,t){J(this.el_,e,t)};l.prototype.show=function C(){this.removeClass("vjs-hidden")};l.prototype.hide=function E(){this.addClass("vjs-hidden")};l.prototype.lockShowing=function O(){this.addClass("vjs-lock-showing")};l.prototype.unlockShowing=function P(){this.removeClass("vjs-lock-showing")};l.prototype.getAttribute=function A(e){return Z(this.el_,e)};l.prototype.setAttribute=function j(e,t){ee(this.el_,e,t)};l.prototype.removeAttribute=function x(e){te(this.el_,e)};l.prototype.width=function L(e,t){return this.dimension("width",e,t)};l.prototype.height=function I(e,t){return this.dimension("height",e,t)};l.prototype.dimensions=function M(e,t){this.width(e,true);this.height(t)};l.prototype.dimension=function D(e,t,n){if(t!==undefined){if(t===null||t!==t){t=0}if((""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1){this.el_.style[e]=t}else if(t==="auto"){this.el_.style[e]=""}else{this.el_.style[e]=t+"px"}if(!n){this.trigger("componentresize")}return}if(!this.el_){return 0}var r=this.el_.style[e];var i=r.indexOf("px");if(i!==-1){return parseInt(r.slice(0,i),10)}return parseInt(this.el_["offset"+_t(e)],10)};l.prototype.currentDimension=function R(e){var t=0;if(e!=="width"&&e!=="height"){throw new Error("currentDimension only accepts width or height value")}if(typeof Ye.getComputedStyle==="function"){var n=Ye.getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}t=parseFloat(t);if(t===0){var r="offset"+_t(e);t=this.el_[r]}return t};l.prototype.currentDimensions=function B(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}};l.prototype.currentWidth=function N(){return this.currentDimension("width")};l.prototype.currentHeight=function U(){return this.currentDimension("height")};l.prototype.focus=function F(){this.el_.focus()};l.prototype.blur=function H(){this.el_.blur()};l.prototype.emitTapEvents=function V(){var n=0;var i=null;var a=10;var r=200;var o=void 0;this.on("touchstart",function(e){if(e.touches.length===1){i={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY};n=(new Date).getTime();o=true}});this.on("touchmove",function(e){if(e.touches.length>1){o=false}else if(i){var t=e.touches[0].pageX-i.pageX;var n=e.touches[0].pageY-i.pageY;var r=Math.sqrt(t*t+n*n);if(r>a){o=false}}});var e=function e(){o=false};this.on("touchleave",e);this.on("touchcancel",e);this.on("touchend",function(e){i=null;if(o===true){var t=(new Date).getTime()-n;if(t<r){e.preventDefault();this.trigger("tap")}}})};l.prototype.enableTouchActivity=function q(){if(!this.player()||!this.player().reportUserActivity){return}var t=gt(this.player(),this.player().reportUserActivity);var n=void 0;this.on("touchstart",function(){t();this.clearInterval(n);n=this.setInterval(t,250)});var r=function r(e){t();this.clearInterval(n)};this.on("touchmove",t);this.on("touchend",r);this.on("touchcancel",r)};l.prototype.setTimeout=function setTimeout(t,n){var r=this;t=gt(this,t);var i=Ye.setTimeout(t,n);var a=function a(){return r.clearTimeout(i)};a.guid="vjs-timeout-"+i;this.on("dispose",a);return i};l.prototype.clearTimeout=function clearTimeout(t){Ye.clearTimeout(t);var n=function n(){};n.guid="vjs-timeout-"+t;this.off("dispose",n);return t};l.prototype.setInterval=function setInterval(t,n){var r=this;t=gt(this,t);var i=Ye.setInterval(t,n);var a=function a(){return r.clearInterval(i)};a.guid="vjs-interval-"+i;this.on("dispose",a);return i};l.prototype.clearInterval=function clearInterval(t){Ye.clearInterval(t);var n=function n(){};n.guid="vjs-interval-"+t;this.off("dispose",n);return t};l.prototype.requestAnimationFrame=function W(e){var t=this;if(this.supportsRaf_){e=gt(this,e);var n=Ye.requestAnimationFrame(e);var r=function r(){return t.cancelAnimationFrame(n)};r.guid="vjs-raf-"+n;this.on("dispose",r);return n}return this.setTimeout(e,1e3/60)};l.prototype.cancelAnimationFrame=function z(e){if(this.supportsRaf_){Ye.cancelAnimationFrame(e);var t=function t(){};t.guid="vjs-raf-"+e;this.off("dispose",t);return e}return this.clearTimeout(e)};l.registerComponent=function G(e,t){if(typeof e!=="string"||!e){throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.')}var n=l.getComponent("Tech");var r=n&&n.isTech(t);var i=l===t||l.prototype.isPrototypeOf(t.prototype);if(r||!i){var a=void 0;if(r){a="techs must be registered using Tech.registerTech()"}else{a="must be a Component subclass"}throw new Error('Illegal component, "'+e+'"; '+a+".")}e=_t(e);if(!l.components_){l.components_={}}var o=l.getComponent("Player");if(e==="Player"&&o&&o.players){var s=o.players;var u=Object.keys(s);if(s&&u.length>0&&u.map(function(e){return s[e]}).every(Boolean)){throw new Error("Can not register Player component after player has been created.")}}l.components_[e]=t;return t};l.getComponent=function X(e){if(!e){return}e=_t(e);if(l.components_&&l.components_[e]){return l.components_[e]}};return l}();wt.prototype.supportsRaf_=typeof Ye.requestAnimationFrame==="function"&&typeof Ye.cancelAnimationFrame==="function";wt.registerComponent("Component",wt);function ze(e,t,n){if(typeof t!=="number"||t<0||t>n){throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}}function Ge(e,t,n,r){ze(e,r,n.length-1);return n[r][t]}function Xe(e){if(e===undefined||e.length===0){return{length:0,start:function t(){throw new Error("This TimeRanges object is empty")},end:function n(){throw new Error("This TimeRanges object is empty")}}}return{length:e.length,start:Ge.bind(null,"start",0,e),end:Ge.bind(null,"end",1,e)}}function kt(e,t){if(Array.isArray(e)){return Xe(e)}else if(e===undefined||t===undefined){return Xe()}return Xe([[e,t]])}function St(e,t){var n=0;var r=void 0;var i=void 0;if(!t){return 0}if(!e||!e.length){e=kt(0,0)}for(var a=0;a<e.length;a++){r=e.start(a);i=e.end(a);if(i>t){i=t}n+=i-r}return n/t}var Ct={};var Et=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];var Ot=Et[0];var Pt=void 0;for(var At=0;At<Et.length;At++){if(Et[At][1]in Ke){Pt=Et[At];break}}if(Pt){for(var jt=0;jt<Pt.length;jt++){Ct[Ot[jt]]=Pt[jt]}}function xt(e){if(e instanceof xt){return e}if(typeof e==="number"){this.code=e}else if(typeof e==="string"){this.message=e}else if(I(e)){if(typeof e.code==="number"){this.code=e.code}rt(this,e)}if(!this.message){this.message=xt.defaultMessages[this.code]||""}}xt.prototype.code=0;xt.prototype.message="";xt.prototype.status=null;xt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];xt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Lt=0;Lt<xt.errorTypes.length;Lt++){xt[xt.errorTypes[Lt]]=Lt;xt.prototype[xt.errorTypes[Lt]]=Lt}function It(e){return e!==undefined&&e!==null&&typeof e.then==="function"}function Mt(e){if(It(e)){e.then(null,function(e){})}}var Dt=function Dt(r){var e=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,t,n){if(r[t]){e[t]=r[t]}return e},{cues:r.cues&&Array.prototype.map.call(r.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})});return e};var Rt=function Rt(e){var t=e.$$("track");var n=Array.prototype.map.call(t,function(e){return e.track});var r=Array.prototype.map.call(t,function(e){var t=Dt(e.track);if(e.src){t.src=e.src}return t});return r.concat(Array.prototype.filter.call(e.textTracks(),function(e){return n.indexOf(e)===-1}).map(Dt))};var Bt=function Bt(e,n){e.forEach(function(e){var t=n.addRemoteTextTrack(e).track;if(!e.src&&e.cues){e.cues.forEach(function(e){return t.addCue(e)})}});return n.textTracks()};var Nt={textTracksToJson:Rt,jsonToTextTracks:Bt,trackToJson_:Dt};var Ut="vjs-modal-dialog";var Ft=27;var Ht=function(r){tt(i,r);function i(e,t){et(this,i);var n=nt(this,r.call(this,e,t));n.opened_=n.hasBeenOpened_=n.hasBeenFilled_=false;n.closeable(!n.options_.uncloseable);n.content(n.options_.content);n.contentEl_=K("div",{className:Ut+"-content"},{role:"document"});n.descEl_=K("p",{className:Ut+"-description vjs-control-text",id:n.el().getAttribute("aria-describedby")});$(n.descEl_,n.description());n.el_.appendChild(n.descEl_);n.el_.appendChild(n.contentEl_);return n}i.prototype.createEl=function e(){return r.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})};i.prototype.dispose=function t(){this.contentEl_=null;this.descEl_=null;this.previouslyActiveEl_=null;r.prototype.dispose.call(this)};i.prototype.buildCSSClass=function n(){return Ut+" vjs-hidden "+r.prototype.buildCSSClass.call(this)};i.prototype.handleKeyPress=function a(e){if(e.which===Ft&&this.closeable()){this.close()}};i.prototype.label=function o(){return this.localize(this.options_.label||"Modal Window")};i.prototype.description=function s(){var e=this.options_.description||this.localize("This is a modal window.");if(this.closeable()){e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")}return e};i.prototype.open=function u(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen");this.opened_=true;if(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_){this.fill()}this.wasPlaying_=!e.paused();if(this.options_.pauseOnOpen&&this.wasPlaying_){e.pause()}if(this.closeable()){this.on(this.el_.ownerDocument,"keydown",gt(this,this.handleKeyPress))}this.hadControls_=e.controls();e.controls(false);this.show();this.conditionalFocus_();this.el().setAttribute("aria-hidden","false");this.trigger("modalopen");this.hasBeenOpened_=true}};i.prototype.opened=function l(e){if(typeof e==="boolean"){this[e?"open":"close"]()}return this.opened_};i.prototype.close=function c(){if(!this.opened_){return}var e=this.player();this.trigger("beforemodalclose");this.opened_=false;if(this.wasPlaying_&&this.options_.pauseOnOpen){e.play()}if(this.closeable()){this.off(this.el_.ownerDocument,"keydown",gt(this,this.handleKeyPress))}if(this.hadControls_){e.controls(true)}this.hide();this.el().setAttribute("aria-hidden","true");this.trigger("modalclose");this.conditionalBlur_();if(this.options_.temporary){this.dispose()}};i.prototype.closeable=function e(t){if(typeof t==="boolean"){var e=this.closeable_=!!t;var n=this.getChild("closeButton");if(e&&!n){var r=this.contentEl_;this.contentEl_=this.el_;n=this.addChild("closeButton",{controlText:"Close Modal Dialog"});this.contentEl_=r;this.on(n,"close",this.close)}if(!e&&n){this.off(n,"close",this.close);this.removeChild(n);n.dispose()}}return this.closeable_};i.prototype.fill=function d(){this.fillWith(this.content())};i.prototype.fillWith=function f(e){var t=this.contentEl();var n=t.parentNode;var r=t.nextSibling;this.trigger("beforemodalfill");this.hasBeenFilled_=true;n.removeChild(t);this.empty();de(t,e);this.trigger("modalfill");if(r){n.insertBefore(t,r)}else{n.appendChild(t)}var i=this.getChild("closeButton");if(i){n.appendChild(i.el_)}};i.prototype.empty=function h(){this.trigger("beforemodalempty");ue(this.contentEl());this.trigger("modalempty")};i.prototype.content=function p(e){if(typeof e!=="undefined"){this.content_=e}return this.content_};i.prototype.conditionalFocus_=function v(){var e=Ke.activeElement;var t=this.player_.el_;this.previouslyActiveEl_=null;if(t.contains(e)||t===e){this.previouslyActiveEl_=e;this.focus();this.on(Ke,"keydown",this.handleKeyDown)}};i.prototype.conditionalBlur_=function y(){if(this.previouslyActiveEl_){this.previouslyActiveEl_.focus();this.previouslyActiveEl_=null}this.off(Ke,"keydown",this.handleKeyDown)};i.prototype.handleKeyDown=function g(e){if(e.which!==9){return}var t=this.focusableEls_();var n=this.el_.querySelector(":focus");var r=void 0;for(var i=0;i<t.length;i++){if(n===t[i]){r=i;break}}if(Ke.activeElement===this.el_){r=0}if(e.shiftKey&&r===0){t[t.length-1].focus();e.preventDefault()}else if(!e.shiftKey&&r===t.length-1){t[0].focus();e.preventDefault()}};i.prototype.focusableEls_=function m(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof Ye.HTMLAnchorElement||e instanceof Ye.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof Ye.HTMLInputElement||e instanceof Ye.HTMLSelectElement||e instanceof Ye.HTMLTextAreaElement||e instanceof Ye.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof Ye.HTMLIFrameElement||e instanceof Ye.HTMLObjectElement||e instanceof Ye.HTMLEmbedElement||e.hasAttribute("tabindex")&&e.getAttribute("tabindex")!==-1||e.hasAttribute("contenteditable")})};return i}(wt);Ht.prototype.options_={pauseOnOpen:true,temporary:true};wt.registerComponent("ModalDialog",Ht);var Vt=function(s){tt(u,s);function u(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var t;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;et(this,u);var r=nt(this,s.call(this));if(!n){n=r;if(y){n=Ke.createElement("custom");for(var i in u.prototype){if(i!=="constructor"){n[i]=u.prototype[i]}}}}n.tracks_=[];Object.defineProperty(n,"length",{get:function o(){return this.tracks_.length}});for(var a=0;a<e.length;a++){n.addTrack(e[a])}return t=n,nt(r,t)}u.prototype.addTrack=function r(e){var t=this.tracks_.length;if(!(""+t in this)){Object.defineProperty(this,t,{get:function n(){return this.tracks_[t]}})}if(this.tracks_.indexOf(e)===-1){this.tracks_.push(e);this.trigger({track:e,type:"addtrack"})}};u.prototype.removeTrack=function i(e){var t=void 0;for(var n=0,r=this.length;n<r;n++){if(this[n]===e){t=this[n];if(t.off){t.off()}this.tracks_.splice(n,1);break}}if(!t){return}this.trigger({track:t,type:"removetrack"})};u.prototype.getTrackById=function a(e){var t=null;for(var n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t};return u}(Me);Vt.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var qt in Vt.prototype.allowedEvents_){Vt.prototype["on"+qt]=null}var Wt=function Wt(e,t){for(var n=0;n<e.length;n++){if(!Object.keys(e[n]).length||t.id===e[n].id){continue}e[n].enabled=false}};var zt=function(s){tt(u,s);function u(){var e,t;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];et(this,u);var r=void 0;for(var i=n.length-1;i>=0;i--){if(n[i].enabled){Wt(n,n[i]);break}}if(y){r=Ke.createElement("custom");for(var a in Vt.prototype){if(a!=="constructor"){r[a]=Vt.prototype[a]}}for(var o in u.prototype){if(o!=="constructor"){r[o]=u.prototype[o]}}}r=(e=nt(this,s.call(this,n,r)),e);r.changing_=false;return t=r,nt(e,t)}u.prototype.addTrack=function n(e){var t=this;if(e.enabled){Wt(this,e)}s.prototype.addTrack.call(this,e);if(!e.addEventListener){return}e.addEventListener("enabledchange",function(){if(t.changing_){return}t.changing_=true;Wt(t,e);t.changing_=false;t.trigger("change")})};return u}(Vt);var Gt=function Wt(e,t){for(var n=0;n<e.length;n++){if(!Object.keys(e[n]).length||t.id===e[n].id){continue}e[n].selected=false}};var Xt=function(l){tt(c,l);function c(){var e,t;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];et(this,c);var r=void 0;for(var i=n.length-1;i>=0;i--){if(n[i].selected){Gt(n,n[i]);break}}if(y){r=Ke.createElement("custom");for(var a in Vt.prototype){if(a!=="constructor"){r[a]=Vt.prototype[a]}}for(var o in c.prototype){if(o!=="constructor"){r[o]=c.prototype[o]}}}r=(e=nt(this,l.call(this,n,r)),e);r.changing_=false;Object.defineProperty(r,"selectedIndex",{get:function s(){for(var e=0;e<this.length;e++){if(this[e].selected){return e}}return-1},set:function u(){}});return t=r,nt(e,t)}c.prototype.addTrack=function n(e){var t=this;if(e.selected){Gt(this,e)}l.prototype.addTrack.call(this,e);if(!e.addEventListener){return}e.addEventListener("selectedchange",function(){if(t.changing_){return}t.changing_=true;Gt(t,e);t.changing_=false;t.trigger("change")})};return c}(Vt);var Yt=function(o){tt(s,o);function s(){var e,t;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];et(this,s);var r=void 0;if(y){r=Ke.createElement("custom");for(var i in Vt.prototype){if(i!=="constructor"){r[i]=Vt.prototype[i]}}for(var a in s.prototype){if(a!=="constructor"){r[a]=s.prototype[a]}}}r=(e=nt(this,o.call(this,n,r)),e);return t=r,nt(e,t)}s.prototype.addTrack=function n(e){o.prototype.addTrack.call(this,e);e.addEventListener("modechange",gt(this,function(){this.trigger("change")}));var t=["metadata","chapters"];if(t.indexOf(e.kind)===-1){e.addEventListener("modechange",gt(this,function(){this.trigger("selectedlanguagechange")}))}};return s}(Vt);var Kt=function(){function o(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];et(this,o);var t=this;if(y){t=Ke.createElement("custom");for(var n in o.prototype){if(n!=="constructor"){t[n]=o.prototype[n]}}}t.trackElements_=[];Object.defineProperty(t,"length",{get:function a(){return this.trackElements_.length}});for(var r=0,i=e.length;r<i;r++){t.addTrackElement_(e[r])}if(y){return t}}o.prototype.addTrackElement_=function r(e){var t=this.trackElements_.length;if(!(""+t in this)){Object.defineProperty(this,t,{get:function n(){return this.trackElements_[t]}})}if(this.trackElements_.indexOf(e)===-1){this.trackElements_.push(e)}};o.prototype.getTrackElementByTrack_=function i(e){var t=void 0;for(var n=0,r=this.trackElements_.length;n<r;n++){if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}}return t};o.prototype.removeTrackElement_=function a(e){for(var t=0,n=this.trackElements_.length;t<n;t++){if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}}};return o}();var $t=function(){function i(e){et(this,i);var t=this;if(y){t=Ke.createElement("custom");for(var n in i.prototype){if(n!=="constructor"){t[n]=i.prototype[n]}}}i.prototype.setCues_.call(t,e);Object.defineProperty(t,"length",{get:function r(){return this.length_}});if(y){return t}}i.prototype.setCues_=function a(e){var t=this.length||0;var n=0;var r=e.length;this.cues_=e;this.length_=e.length;var i=function i(e){if(!(""+e in this)){Object.defineProperty(this,""+e,{get:function t(){return this.cues_[e]}})}};if(t<r){n=t;for(;n<r;n++){i.call(this,n)}}};i.prototype.getCueById=function o(e){var t=null;for(var n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t};return i}();var Jt={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"};var Qt={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"};var Zt={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"};var en={disabled:"disabled",hidden:"hidden",showing:"showing"};var tn=function(u){tt(l,u);function l(){var e;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};et(this,l);var n=nt(this,u.call(this));var r=n;if(y){r=Ke.createElement("custom");for(var i in l.prototype){if(i!=="constructor"){r[i]=l.prototype[i]}}}var a={id:t.id||"vjs_track_"+ft(),kind:t.kind||"",label:t.label||"",language:t.language||""};var o=function o(e){Object.defineProperty(r,e,{get:function t(){return a[e]},set:function n(){}})};for(var s in a){o(s)}return e=r,nt(n,e)}return l}(Me);var nn=function nn(e){var t=["protocol","hostname","port","pathname","search","hash","host"];var n=Ke.createElement("a");n.href=e;var r=n.host===""&&n.protocol!=="file:";var i=void 0;if(r){i=Ke.createElement("div");i.innerHTML='<a href="'+e+'"></a>';n=i.firstChild;i.setAttribute("style","display:none; position:absolute;");Ke.body.appendChild(i)}var a={};for(var o=0;o<t.length;o++){a[t[o]]=n[t[o]]}if(a.protocol==="http:"){a.host=a.host.replace(/:80$/,"")}if(a.protocol==="https:"){a.host=a.host.replace(/:443$/,"")}if(!a.protocol){a.protocol=Ye.location.protocol}if(r){Ke.body.removeChild(i)}return a};var rn=function rn(e){if(!e.match(/^https?:\/\//)){var t=Ke.createElement("div");t.innerHTML='<a href="'+e+'">x</a>';e=t.firstChild.href}return e};var an=function an(e){if(typeof e==="string"){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i;var n=t.exec(e);if(n){return n.pop().toLowerCase()}}return""};var on=function on(e){var t=Ye.location;var n=nn(e);var r=n.protocol===":"?t.protocol:n.protocol;var i=r+n.host!==t.protocol+t.host;return i};var sn=(Object.freeze||Object)({parseUrl:nn,getAbsoluteURL:rn,getFileExtension:an,isCrossOrigin:on});var un=function un(e,t){var n=new Ye.WebVTT.Parser(Ye,Ye.vttjs,Ye.WebVTT.StringDecoder());var r=[];n.oncue=function(e){t.addCue(e)};n.onparsingerror=function(e){r.push(e)};n.onflush=function(){t.trigger({type:"loadeddata",target:t})};n.parse(e);if(r.length>0){if(Ye.console&&Ye.console.groupCollapsed){Ye.console.groupCollapsed("Text Track parsing errors for "+t.src)}r.forEach(function(e){return it.error(e)});if(Ye.console&&Ye.console.groupEnd){Ye.console.groupEnd()}}n.flush()};var ln=function ln(e,i){var t={uri:e};var n=on(e);if(n){t.cors=n}a(t,gt(this,function(e,t,n){if(e){return it.error(e,t)}i.loaded_=true;if(typeof Ye.WebVTT!=="function"){if(i.tech_){var r=function r(){return un(n,i)};i.tech_.on("vttjsloaded",r);i.tech_.on("vttjserror",function(){it.error("vttjs failed to load, stopping trying to process "+i.src);i.tech_.off("vttjsloaded",r)})}}else{un(n,i)}}))};var cn=function(p){tt(v,p);function v(){var e,t;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};et(this,v);if(!n.tech){throw new Error("A tech was not provided.")}var r=Tt(n,{kind:Zt[n.kind]||"subtitles",language:n.language||n.srclang||""});var i=en[r.mode]||"disabled";var a=r["default"];if(r.kind==="metadata"||r.kind==="chapters"){i="hidden"}var o=(e=nt(this,p.call(this,r)),e);o.tech_=r.tech;if(y){for(var s in v.prototype){if(s!=="constructor"){o[s]=v.prototype[s]}}}o.cues_=[];o.activeCues_=[];var u=new $t(o.cues_);var l=new $t(o.activeCues_);var c=false;var d=gt(o,function(){this.activeCues;if(c){this.trigger("cuechange");c=false}});if(i!=="disabled"){o.tech_.ready(function(){o.tech_.on("timeupdate",d)},true)}Object.defineProperty(o,"default",{get:function f(){return a},set:function h(){}});Object.defineProperty(o,"mode",{get:function f(){return i},set:function h(e){var t=this;if(!en[e]){return}i=e;if(i==="showing"){this.tech_.ready(function(){t.tech_.on("timeupdate",d)},true)}this.trigger("modechange")}});Object.defineProperty(o,"cues",{get:function f(){if(!this.loaded_){return null}return u},set:function h(){}});Object.defineProperty(o,"activeCues",{get:function f(){if(!this.loaded_){return null}if(this.cues.length===0){return l}var e=this.tech_.currentTime();var t=[];for(var n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];if(i.startTime<=e&&i.endTime>=e){t.push(i)}else if(i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e){t.push(i)}}c=false;if(t.length!==this.activeCues_.length){c=true}else{for(var a=0;a<t.length;a++){if(this.activeCues_.indexOf(t[a])===-1){c=true}}}this.activeCues_=t;l.setCues_(this.activeCues_);return l},set:function h(){}});if(r.src){o.src=r.src;ln(r.src,o)}else{o.loaded_=true}return t=o,nt(e,t)}v.prototype.addCue=function a(e){var t=e;if(Ye.vttjs&&!(e instanceof Ye.vttjs.VTTCue)){t=new Ye.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(var n in e){if(!(n in t)){t[n]=e[n]}}t.id=e.id;t.originalCue_=e}var r=this.tech_.textTracks();for(var i=0;i<r.length;i++){if(r[i]!==this){r[i].removeCue(t)}}this.cues_.push(t);this.cues.setCues_(this.cues_)};v.prototype.removeCue=function r(e){var t=this.cues_.length;while(t--){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1);this.cues.setCues_(this.cues_);break}}};return v}(tn);cn.prototype.allowedEvents_={cuechange:"cuechange"};var dn=function(l){tt(c,l);function c(){var e,t;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};et(this,c);var r=Tt(n,{kind:Qt[n.kind]||""});var i=(e=nt(this,l.call(this,r)),e);var a=false;if(y){for(var o in c.prototype){if(o!=="constructor"){i[o]=c.prototype[o]}}}Object.defineProperty(i,"enabled",{get:function s(){return a},set:function u(e){if(typeof e!=="boolean"||e===a){return}a=e;this.trigger("enabledchange")}});if(r.enabled){i.enabled=r.enabled}i.loaded_=true;return t=i,nt(e,t)}return c}(tn);var fn=function(l){tt(c,l);function c(){var e,t;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};et(this,c);var r=Tt(n,{kind:Jt[n.kind]||""});var i=(e=nt(this,l.call(this,r)),e);var a=false;if(y){for(var o in c.prototype){if(o!=="constructor"){i[o]=c.prototype[o]}}}Object.defineProperty(i,"selected",{get:function s(){return a},set:function u(e){if(typeof e!=="boolean"||e===a){return}a=e;this.trigger("selectedchange")}});if(r.selected){i.selected=r.selected}return t=i,nt(e,t)}return c}(tn);var hn=0;var pn=1;var vn=2;var yn=3;var gn=function(u){tt(l,u);function l(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};et(this,l);var t=nt(this,u.call(this));var n=void 0;var r=t;if(y){r=Ke.createElement("custom");for(var i in l.prototype){if(i!=="constructor"){r[i]=l.prototype[i]}}}var a=new cn(e);r.kind=a.kind;r.src=a.src;r.srclang=a.language;r.label=a.label;r["default"]=a["default"];Object.defineProperty(r,"readyState",{get:function s(){return n}});Object.defineProperty(r,"track",{get:function s(){return a}});n=hn;a.addEventListener("loadeddata",function(){n=vn;r.trigger({type:"load",target:r})});if(y){var o;return o=r,nt(t,o)}return t}return l}(Me);gn.prototype.allowedEvents_={load:"load"};gn.NONE=hn;gn.LOADING=pn;gn.LOADED=vn;gn.ERROR=yn;var mn={audio:{ListClass:zt,TrackClass:dn,capitalName:"Audio"},video:{ListClass:Xt,TrackClass:fn,capitalName:"Video"},text:{ListClass:Yt,TrackClass:cn,capitalName:"Text"}};Object.keys(mn).forEach(function(e){mn[e].getterName=e+"Tracks";mn[e].privateName=e+"Tracks_"});var _n={remoteText:{ListClass:Yt,TrackClass:cn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Kt,TrackClass:gn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}};var bn=Tt(mn,_n);_n.names=Object.keys(_n);mn.names=Object.keys(mn);bn.names=[].concat(_n.names).concat(mn.names);function Tn(e,t,n,r){var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{};var a=e.textTracks();i.kind=t;if(n){i.label=n}if(r){i.language=r}i.tech=e;var o=new bn.text.TrackClass(i);a.addTrack(o);return o}var wn=function(t){tt(i,t);function i(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){};et(this,i);n.reportTouchActivity=false;var r=nt(this,t.call(this,null,n,e));r.hasStarted_=false;r.on("playing",function(){this.hasStarted_=true});r.on("loadstart",function(){this.hasStarted_=false});bn.names.forEach(function(e){var t=bn[e];if(n&&n[t.getterName]){r[t.privateName]=n[t.getterName]}});if(!r.featuresProgressEvents){r.manualProgressOn()}if(!r.featuresTimeupdateEvents){r.manualTimeUpdatesOn()}["Text","Audio","Video"].forEach(function(e){if(n["native"+e+"Tracks"]===false){r["featuresNative"+e+"Tracks"]=false}});if(n.nativeCaptions===false||n.nativeTextTracks===false){r.featuresNativeTextTracks=false}else if(n.nativeCaptions===true||n.nativeTextTracks===true){r.featuresNativeTextTracks=true}if(!r.featuresNativeTextTracks){r.emulateTextTracks()}r.autoRemoteTextTracks_=new bn.text.ListClass;r.initTrackListeners();if(!n.nativeControlsForTouch){r.emitTapEvents()}if(r.constructor){r.name_=r.constructor.name||"Unknown Tech"}return r}i.prototype.triggerSourceset=function n(e){var t=this;if(!this.isReady_){this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)})}this.trigger({src:e,type:"sourceset"})};i.prototype.manualProgressOn=function e(){this.on("durationchange",this.onDurationChange);this.manualProgress=true;this.one("ready",this.trackProgress)};i.prototype.manualProgressOff=function r(){this.manualProgress=false;this.stopTrackingProgress();this.off("durationchange",this.onDurationChange)};i.prototype.trackProgress=function a(e){this.stopTrackingProgress();this.progressInterval=this.setInterval(gt(this,function(){var e=this.bufferedPercent();if(this.bufferedPercent_!==e){this.trigger("progress")}this.bufferedPercent_=e;if(e===1){this.stopTrackingProgress()}}),500)};i.prototype.onDurationChange=function o(e){this.duration_=this.duration()};i.prototype.buffered=function s(){return kt(0,0)};i.prototype.bufferedPercent=function u(){return St(this.buffered(),this.duration_)};i.prototype.stopTrackingProgress=function l(){this.clearInterval(this.progressInterval)};i.prototype.manualTimeUpdatesOn=function c(){this.manualTimeUpdates=true;this.on("play",this.trackCurrentTime);this.on("pause",this.stopTrackingCurrentTime)};i.prototype.manualTimeUpdatesOff=function d(){this.manualTimeUpdates=false;this.stopTrackingCurrentTime();this.off("play",this.trackCurrentTime);this.off("pause",this.stopTrackingCurrentTime)};i.prototype.trackCurrentTime=function f(){if(this.currentTimeInterval){this.stopTrackingCurrentTime()}this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:true})},250)};i.prototype.stopTrackingCurrentTime=function h(){this.clearInterval(this.currentTimeInterval);this.trigger({type:"timeupdate",target:this,manuallyTriggered:true})};i.prototype.dispose=function p(){this.clearTracks(mn.names);if(this.manualProgress){this.manualProgressOff()}if(this.manualTimeUpdates){this.manualTimeUpdatesOff()}t.prototype.dispose.call(this)};i.prototype.clearTracks=function v(e){var i=this;e=[].concat(e);e.forEach(function(e){var t=i[e+"Tracks"]()||[];var n=t.length;while(n--){var r=t[n];if(e==="text"){i.removeRemoteTextTrack(r)}t.removeTrack(r)}})};i.prototype.cleanupAutoTextTracks=function y(){var e=this.autoRemoteTextTracks_||[];var t=e.length;while(t--){var n=e[t];this.removeRemoteTextTrack(n)}};i.prototype.reset=function g(){};i.prototype.error=function m(e){if(e!==undefined){this.error_=new xt(e);this.trigger("error")}return this.error_};i.prototype.played=function _(){if(this.hasStarted_){return kt(0,0)}return kt()};i.prototype.setCurrentTime=function b(){if(this.manualTimeUpdates){this.trigger({type:"timeupdate",target:this,manuallyTriggered:true})}};i.prototype.initTrackListeners=function T(){var i=this;mn.names.forEach(function(e){var t=mn[e];var n=function n(){i.trigger(e+"trackchange")};var r=i[t.getterName]();r.addEventListener("removetrack",n);r.addEventListener("addtrack",n);i.on("dispose",function(){r.removeEventListener("removetrack",n);r.removeEventListener("addtrack",n)})})};i.prototype.addWebVttScript_=function w(){var e=this;if(Ye.WebVTT){return}if(Ke.body.contains(this.el())){if(!this.options_["vtt.js"]&&B(R)&&Object.keys(R).length>0){this.trigger("vttjsloaded");return}var t=Ke.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js";t.onload=function(){e.trigger("vttjsloaded")};t.onerror=function(){e.trigger("vttjserror")};this.on("dispose",function(){t.onload=null;t.onerror=null});Ye.WebVTT=true;this.el().parentNode.appendChild(t)}else{this.ready(this.addWebVttScript_)}};i.prototype.emulateTextTracks=function k(){var e=this;var n=this.textTracks();var r=this.remoteTextTracks();var i=function i(e){return n.addTrack(e.track)};var a=function a(e){return n.removeTrack(e.track)};r.on("addtrack",i);r.on("removetrack",a);this.addWebVttScript_();var o=function o(){return e.trigger("texttrackchange")};var s=function s(){o();for(var e=0;e<n.length;e++){var t=n[e];t.removeEventListener("cuechange",o);if(t.mode==="showing"){t.addEventListener("cuechange",o)}}};s();n.addEventListener("change",s);n.addEventListener("addtrack",s);n.addEventListener("removetrack",s);this.on("dispose",function(){r.off("addtrack",i);r.off("removetrack",a);n.removeEventListener("change",s);n.removeEventListener("addtrack",s);n.removeEventListener("removetrack",s);for(var e=0;e<n.length;e++){var t=n[e];t.removeEventListener("cuechange",o)}})};i.prototype.addTextTrack=function S(e,t,n){if(!e){throw new Error("TextTrack kind is required but was not provided")}return Tn(this,e,t,n)};i.prototype.createRemoteTextTrack=function C(e){var t=Tt(e,{tech:this});return new _n.remoteTextEl.TrackClass(t)};i.prototype.addRemoteTextTrack=function E(){var e=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=arguments[1];var r=this.createRemoteTextTrack(t);if(n!==true&&n!==false){it.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js');n=true}this.remoteTextTrackEls().addTrackElement_(r);this.remoteTextTracks().addTrack(r.track);if(n!==true){this.ready(function(){return e.autoRemoteTextTracks_.addTrack(r.track)})}return r};i.prototype.removeRemoteTextTrack=function O(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t);this.remoteTextTracks().removeTrack(e);this.autoRemoteTextTracks_.removeTrack(e)};i.prototype.getVideoPlaybackQuality=function P(){return{}};i.prototype.setPoster=function A(){};i.prototype.playsinline=function j(){};i.prototype.setPlaysinline=function x(){};i.prototype.canPlayType=function Ci(){return""};i.canPlayType=function Ci(){return""};i.canPlaySource=function L(e,t){return i.canPlayType(e.type)};i.isTech=function I(e){return e.prototype instanceof i||e instanceof i||e===i};i.registerTech=function M(e,t){if(!i.techs_){i.techs_={}}if(!i.isTech(t)){throw new Error("Tech "+e+" must be a Tech")}if(!i.canPlayType){throw new Error("Techs must have a static canPlayType method on them")}if(!i.canPlaySource){throw new Error("Techs must have a static canPlaySource method on them")}e=_t(e);i.techs_[e]=t;if(e!=="Tech"){i.defaultTechOrder_.push(e)}return t};i.getTech=function D(e){if(!e){return}e=_t(e);if(i.techs_&&i.techs_[e]){return i.techs_[e]}if(Ye&&Ye.videojs&&Ye.videojs[e]){it.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)");return Ye.videojs[e]}};return i}(wt);bn.names.forEach(function(e){var t=bn[e];wn.prototype[t.getterName]=function(){this[t.privateName]=this[t.privateName]||new t.ListClass;return this[t.privateName]}});wn.prototype.featuresVolumeControl=true;wn.prototype.featuresFullscreenResize=false;wn.prototype.featuresPlaybackRate=false;wn.prototype.featuresProgressEvents=false;wn.prototype.featuresSourceset=false;wn.prototype.featuresTimeupdateEvents=false;wn.prototype.featuresNativeTextTracks=false;wn.withSourceHandlers=function(a){a.registerSourceHandler=function(e,t){var n=a.sourceHandlers;if(!n){n=a.sourceHandlers=[]}if(t===undefined){t=n.length}n.splice(t,0,e)};a.canPlayType=function(e){var t=a.sourceHandlers||[];var n=void 0;for(var r=0;r<t.length;r++){n=t[r].canPlayType(e);if(n){return n}}return""};a.selectSourceHandler=function(e,t){var n=a.sourceHandlers||[];var r=void 0;for(var i=0;i<n.length;i++){r=n[i].canHandleSource(e,t);if(r){return n[i]}}return null};a.canPlaySource=function(e,t){var n=a.selectSourceHandler(e,t);if(n){return n.canHandleSource(e,t)}return""};var e=["seekable","seeking","duration"];e.forEach(function(e){var t=this[e];if(typeof t!=="function"){return}this[e]=function(){if(this.sourceHandler_&&this.sourceHandler_[e]){return this.sourceHandler_[e].apply(this.sourceHandler_,arguments)}return t.apply(this,arguments)}},a.prototype);a.prototype.setSource=function(e){var t=a.selectSourceHandler(e,this.options_);if(!t){if(a.nativeSourceHandler){t=a.nativeSourceHandler}else{it.error("No source hander found for the current source.")}}this.disposeSourceHandler();this.off("dispose",this.disposeSourceHandler);if(t!==a.nativeSourceHandler){this.currentSource_=e}this.sourceHandler_=t.handleSource(e,this,this.options_);this.on("dispose",this.disposeSourceHandler)};a.prototype.disposeSourceHandler=function(){if(this.currentSource_){this.clearTracks(["audio","video"]);this.currentSource_=null}this.cleanupAutoTextTracks();if(this.sourceHandler_){if(this.sourceHandler_.dispose){this.sourceHandler_.dispose()}this.sourceHandler_=null}}};wt.registerComponent("Tech",wn);wn.registerTech("Tech",wn);wn.defaultTechOrder_=[];var kn={};var Sn={};var Cn={};function En(e,t){kn[e]=kn[e]||[];kn[e].push(t)}function On(e,t,n){e.setTimeout(function(){return Un(t,kn[t.type],n,e)},1)}function Pn(e,t){e.forEach(function(e){return e.setTech&&e.setTech(t)})}function An(e,t,n){return e.reduceRight(Dn(n),t[n]())}function jn(e,t,n,r){return t[n](e.reduce(Dn(n),r))}function xn(e,t,n){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var i="call"+_t(n);var a=e.reduce(Dn(i),r);var o=a===Cn;var s=o?null:t[n](a);Rn(e,n,s,o);return s}var Ln={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1};var In={setCurrentTime:1};var Mn={play:1,pause:1};function Dn(n){return function(e,t){if(e===Cn){return Cn}if(t[n]){return t[n](e)}return e}}function Rn(e,t,n,r){for(var i=e.length-1;i>=0;i--){var a=e[i];if(a[t]){a[t](r,n)}}}function Bn(e){Sn[e.id()]=null}function Nn(e,t){var n=Sn[e.id()];var r=null;if(n===undefined||n===null){r=t(e);Sn[e.id()]=[[t,r]];return r}for(var i=0;i<n.length;i++){var a=n[i],o=a[0],s=a[1];if(o!==t){continue}r=s}if(r===null){r=t(e);n.push([t,r])}return r}function Un(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var r=arguments[2];var i=arguments[3];var a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:[];var o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;var t=e[0],s=e.slice(1);if(typeof t==="string"){Un(n,kn[t],r,i,a,o)}else if(t){var u=Nn(i,t);u.setSource(rt({},n),function(e,t){if(e){return Un(n,s,r,i,a,o)}a.push(u);Un(t,n.type===t.type?s:kn[t.type],r,i,a,o)})}else if(s.length){Un(n,s,r,i,a,o)}else if(o){r(n,a)}else{Un(n,kn["*"],r,i,a,true)}}var Fn={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"};var Hn=function Hn(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){e=Hn(e);if(Array.isArray(e)){t=t.concat(e)}else if(I(e)){t.push(e)}});e=t}else if(typeof e==="string"&&e.trim()){e=[Vn({src:e})]}else if(I(e)&&typeof e.src==="string"&&e.src&&e.src.trim()){e=[Vn(e)]}else{e=[]}return e};function Vn(e){var t=an(e.src);var n=Fn[t.toLowerCase()];if(!e.type&&n){e.type=n}return e}var qn=function(l){tt(c,l);function c(e,t,n){et(this,c);var r=Tt({createEl:false},t);var i=nt(this,l.call(this,e,r,n));if(!t.playerOptions.sources||t.playerOptions.sources.length===0){for(var a=0,o=t.playerOptions.techOrder;a<o.length;a++){var s=_t(o[a]);var u=wn.getTech(s);if(!s){u=wt.getComponent(s)}if(u&&u.isSupported()){e.loadTech_(s);break}}}else{e.src(t.playerOptions.sources)}return i}return c}(wt);wt.registerComponent("MediaLoader",qn);var Wn=function(i){tt(r,i);function r(e,t){et(this,r);var n=nt(this,i.call(this,e,t));n.emitTapEvents();n.enable();return n}r.prototype.createEl=function a(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"div";var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};t=rt({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},t);if(e==="button"){it.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead.")}n=rt({role:"button","aria-live":"polite"},n);this.tabIndex_=t.tabIndex;var r=i.prototype.createEl.call(this,e,t,n);this.createControlTextEl(r);return r};r.prototype.dispose=function e(){this.controlTextEl_=null;i.prototype.dispose.call(this)};r.prototype.createControlTextEl=function t(e){this.controlTextEl_=K("span",{className:"vjs-control-text"});if(e){e.appendChild(this.controlTextEl_)}this.controlText(this.controlText_,e);return this.controlTextEl_};r.prototype.controlText=function o(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.el();if(e===undefined){return this.controlText_||"Need Text"}var n=this.localize(e);this.controlText_=e;$(this.controlTextEl_,n);if(!this.nonIconControl){t.setAttribute("title",n)}};r.prototype.buildCSSClass=function n(){return"vjs-control vjs-button "+i.prototype.buildCSSClass.call(this)};r.prototype.enable=function s(){if(!this.enabled_){this.enabled_=true;this.removeClass("vjs-disabled");this.el_.setAttribute("aria-disabled","false");if(typeof this.tabIndex_!=="undefined"){this.el_.setAttribute("tabIndex",this.tabIndex_)}this.on(["tap","click"],this.handleClick);this.on("focus",this.handleFocus);this.on("blur",this.handleBlur)}};r.prototype.disable=function u(){this.enabled_=false;this.addClass("vjs-disabled");this.el_.setAttribute("aria-disabled","true");if(typeof this.tabIndex_!=="undefined"){this.el_.removeAttribute("tabIndex")}this.off(["tap","click"],this.handleClick);this.off("focus",this.handleFocus);this.off("blur",this.handleBlur)};r.prototype.handleClick=function l(e){};r.prototype.handleFocus=function c(e){ht(Ke,"keydown",gt(this,this.handleKeyPress))};r.prototype.handleKeyPress=function d(e){if(e.which===32||e.which===13){e.preventDefault();this.trigger("click")}else if(i.prototype.handleKeyPress){i.prototype.handleKeyPress.call(this,e)}};r.prototype.handleBlur=function f(e){pt(Ke,"keydown",gt(this,this.handleKeyPress))};return r}(wt);wt.registerComponent("ClickableComponent",Wn);var zn=function(r){tt(i,r);function i(e,t){et(this,i);var n=nt(this,r.call(this,e,t));n.update();e.on("posterchange",gt(n,n.update));return n}i.prototype.dispose=function e(){this.player().off("posterchange",this.update);r.prototype.dispose.call(this)};i.prototype.createEl=function t(){var e=K("div",{className:"vjs-poster",tabIndex:-1});if(!b){this.fallbackImg_=K("img");e.appendChild(this.fallbackImg_)}return e};i.prototype.update=function n(e){var t=this.player().poster();this.setSrc(t);if(t){this.show()}else{this.hide()}};i.prototype.setSrc=function a(e){if(this.fallbackImg_){this.fallbackImg_.src=e}else{var t="";if(e){t='url("'+e+'")'}this.el_.style.backgroundImage=t}};i.prototype.handleClick=function o(e){if(!this.player_.controls()){return}if(this.player_.paused()){this.player_.play()}else{this.player_.pause()}};return i}(Wn);wt.registerComponent("PosterImage",zn);var Gn="#222";var Xn="#ccc";var Yn={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Kn(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function $n(e,t,n){try{e.style[t]=n}catch(r){return}}var Jn=function(i){tt(a,i);function a(n,e,t){et(this,a);var r=nt(this,i.call(this,n,e,t));n.on("loadstart",gt(r,r.toggleDisplay));n.on("texttrackchange",gt(r,r.updateDisplay));n.on("loadstart",gt(r,r.preselectTrack));n.ready(gt(r,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks){this.hide();return}n.on("fullscreenchange",gt(this,this.updateDisplay));var e=this.options_.playerOptions.tracks||[];for(var t=0;t<e.length;t++){this.player_.addRemoteTextTrack(e[t],true)}this.preselectTrack()}));return r}a.prototype.preselectTrack=function u(){var e={captions:1,subtitles:1};var t=this.player_.textTracks();var n=this.player_.cache_.selectedLanguage;var r=void 0;var i=void 0;var a=void 0;for(var o=0;o<t.length;o++){var s=t[o];if(n&&n.enabled&&n.language===s.language){if(s.kind===n.kind){a=s}else if(!a){a=s}}else if(n&&!n.enabled){a=null;r=null;i=null}else if(s["default"]){if(s.kind==="descriptions"&&!r){r=s}else if(s.kind in e&&!i){i=s}}}if(a){a.mode="showing"}else if(i){i.mode="showing"}else if(r){r.mode="showing"}};a.prototype.toggleDisplay=function e(){if(this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks){this.hide()}else{this.show()}};a.prototype.createEl=function K(){return i.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})};a.prototype.clearDisplay=function t(){if(typeof Ye.WebVTT==="function"){Ye.WebVTT.processCues(Ye,[],this.el_)}};a.prototype.updateDisplay=function o(){var e=this.player_.textTracks();this.clearDisplay();var t=null;var n=null;var r=e.length;while(r--){var i=e[r];if(i.mode==="showing"){if(i.kind==="descriptions"){t=i}else{n=i}}}if(n){if(this.getAttribute("aria-live")!=="off"){this.setAttribute("aria-live","off")}this.updateForTrack(n)}else if(t){if(this.getAttribute("aria-live")!=="assertive"){this.setAttribute("aria-live","assertive")}this.updateForTrack(t)}};a.prototype.updateForTrack=function l(e){if(typeof Ye.WebVTT!=="function"||!e.activeCues){return}var t=[];for(var n=0;n<e.activeCues.length;n++){t.push(e.activeCues[n])}Ye.WebVTT.processCues(Ye,t,this.el_);if(!this.player_.textTrackSettings){return}var r=this.player_.textTrackSettings.getValues();var i=t.length;while(i--){var a=t[i];if(!a){continue}var o=a.displayState;if(r.color){o.firstChild.style.color=r.color}if(r.textOpacity){$n(o.firstChild,"color",Kn(r.color||"#fff",r.textOpacity))}if(r.backgroundColor){o.firstChild.style.backgroundColor=r.backgroundColor}if(r.backgroundOpacity){$n(o.firstChild,"backgroundColor",Kn(r.backgroundColor||"#000",r.backgroundOpacity))}if(r.windowColor){if(r.windowOpacity){$n(o,"backgroundColor",Kn(r.windowColor,r.windowOpacity))}else{o.style.backgroundColor=r.windowColor}}if(r.edgeStyle){if(r.edgeStyle==="dropshadow"){o.firstChild.style.textShadow="2px 2px 3px "+Gn+", 2px 2px 4px "+Gn+", 2px 2px 5px "+Gn}else if(r.edgeStyle==="raised"){o.firstChild.style.textShadow="1px 1px "+Gn+", 2px 2px "+Gn+", 3px 3px "+Gn}else if(r.edgeStyle==="depressed"){o.firstChild.style.textShadow="1px 1px "+Xn+", 0 1px "+Xn+", -1px -1px "+Gn+", 0 -1px "+Gn}else if(r.edgeStyle==="uniform"){o.firstChild.style.textShadow="0 0 4px "+Gn+", 0 0 4px "+Gn+", 0 0 4px "+Gn+", 0 0 4px "+Gn}}if(r.fontPercent&&r.fontPercent!==1){var s=Ye.parseFloat(o.style.fontSize);o.style.fontSize=s*r.fontPercent+"px";o.style.height="auto";o.style.top="auto";o.style.bottom="2px"}if(r.fontFamily&&r.fontFamily!=="default"){if(r.fontFamily==="small-caps"){o.firstChild.style.fontVariant="small-caps"}else{o.firstChild.style.fontFamily=Yn[r.fontFamily]}}}};return a}(wt);wt.registerComponent("TextTrackDisplay",Jn);var Qn=function(i){tt(e,i);function e(){et(this,e);return nt(this,i.apply(this,arguments))}e.prototype.createEl=function a(){var e=this.player_.isAudio();var t=this.localize(e?"Audio Player":"Video Player");var n=K("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[t])});var r=i.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});r.appendChild(n);return r};return e}(wt);wt.registerComponent("LoadingSpinner",Qn);var Zn=function(t){tt(e,t);function e(){et(this,e);return nt(this,t.apply(this,arguments))}e.prototype.createEl=function K(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};t="button";n=rt({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},n);r=rt({type:"button","aria-live":"polite"},r);var i=wt.prototype.createEl.call(this,t,n,r);this.createControlTextEl(i);return i};e.prototype.addChild=function r(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=this.constructor.name;it.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead.");return wt.prototype.addChild.call(this,e,t)};e.prototype.enable=function n(){t.prototype.enable.call(this);this.el_.removeAttribute("disabled")};e.prototype.disable=function i(){t.prototype.disable.call(this);this.el_.setAttribute("disabled","disabled")};e.prototype.handleKeyPress=function a(e){if(e.which===32||e.which===13){return}t.prototype.handleKeyPress.call(this,e)};return e}(Wn);wt.registerComponent("Button",Zn);var er=function(r){tt(i,r);function i(e,t){et(this,i);var n=nt(this,r.call(this,e,t));n.mouseused_=false;n.on("mousedown",n.handleMouseDown);return n}i.prototype.buildCSSClass=function e(){return"vjs-big-play-button"};i.prototype.handleClick=function a(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){return}var n=this.player_.getChild("controlBar");var r=n&&n.getChild("playToggle");if(!r){this.player_.focus();return}var i=function i(){return r.focus()};if(It(t)){t.then(i,function(){})}else{this.setTimeout(i,1)}};i.prototype.handleKeyPress=function t(e){this.mouseused_=false;r.prototype.handleKeyPress.call(this,e)};i.prototype.handleMouseDown=function n(e){this.mouseused_=true};return i}(Zn);er.prototype.controlText_="Play Video";wt.registerComponent("BigPlayButton",er);var tr=function(r){tt(i,r);function i(e,t){et(this,i);var n=nt(this,r.call(this,e,t));n.controlText(t&&t.controlText||n.localize("Close"));return n}i.prototype.buildCSSClass=function e(){return"vjs-close-button "+r.prototype.buildCSSClass.call(this)};i.prototype.handleClick=function t(e){this.trigger({type:"close",bubbles:false})};return i}(Zn);wt.registerComponent("CloseButton",tr);var nr=function(r){tt(i,r);function i(e,t){et(this,i);var n=nt(this,r.call(this,e,t));n.on(e,"play",n.handlePlay);n.on(e,"pause",n.handlePause);n.on(e,"ended",n.handleEnded);return n}i.prototype.buildCSSClass=function e(){return"vjs-play-control "+r.prototype.buildCSSClass.call(this)};i.prototype.handleClick=function t(e){if(this.player_.paused()){this.player_.play()}else{this.player_.pause()}};i.prototype.handleSeeked=function n(e){this.removeClass("vjs-ended");if(this.player_.paused()){this.handlePause(e)}else{this.handlePlay(e)}};i.prototype.handlePlay=function a(e){this.removeClass("vjs-ended");this.removeClass("vjs-paused");this.addClass("vjs-playing");this.controlText("Pause")};i.prototype.handlePause=function o(e){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.controlText("Play")};i.prototype.handleEnded=function s(e){this.removeClass("vjs-playing");this.addClass("vjs-ended");this.controlText("Replay");this.one(this.player_,"seeked",this.handleSeeked)};return i}(Zn);nr.prototype.controlText_="Play";wt.registerComponent("PlayToggle",nr);var rr=function rr(e,t){e=e<0?0:e;var n=Math.floor(e%60);var r=Math.floor(e/60%60);var i=Math.floor(e/3600);var a=Math.floor(t/60%60);var o=Math.floor(t/3600);if(isNaN(e)||e===Infinity){i=r=n="-"}i=i>0||o>0?i+":":"";r=((i||a>=10)&&r<10?"0"+r:r)+":";n=n<10?"0"+n:n;return i+r+n};var ir=rr;function ar(e){ir=e}function or(){ir=rr}var sr=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e;return ir(e,t)};var ur=function(r){tt(i,r);function i(e,t){et(this,i);var n=nt(this,r.call(this,e,t));n.throttledUpdateContent=Le(gt(n,n.updateContent),25);n.on(e,"timeupdate",n.throttledUpdateContent);return n}i.prototype.createEl=function a(e){var t=this.buildCSSClass();var n=r.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"});this.contentEl_=K("div",{className:t+"-display"},{"aria-live":"off"},K("span",{className:"vjs-control-text",textContent:this.localize(this.controlText_)}));this.updateTextNode_();n.appendChild(this.contentEl_);return n};i.prototype.dispose=function e(){this.contentEl_=null;this.textNode_=null;r.prototype.dispose.call(this)};i.prototype.updateTextNode_=function t(){if(!this.contentEl_){return}while(this.contentEl_.firstChild){this.contentEl_.removeChild(this.contentEl_.firstChild)}this.textNode_=Ke.createTextNode(this.formattedTime_||this.formatTime_(0));this.contentEl_.appendChild(this.textNode_)};i.prototype.formatTime_=function n(e){return sr(e)};i.prototype.updateFormattedTime_=function o(e){var t=this.formatTime_(e);if(t===this.formattedTime_){return}this.formattedTime_=t;this.requestAnimationFrame(this.updateTextNode_)};i.prototype.updateContent=function s(e){};return i}(wt);ur.prototype.controlText_="Time";wt.registerComponent("TimeDisplay",ur);var lr=function(r){tt(i,r);function i(e,t){et(this,i);var n=nt(this,r.call(this,e,t));n.on(e,"ended",n.handleEnded);return n}i.prototype.buildCSSClass=function e(){return"vjs-current-time"};i.prototype.updateContent=function n(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t)};i.prototype.handleEnded=function t(e){if(!this.player_.duration()){return}this.updateFormattedTime_(this.player_.duration())};return i}(ur);lr.prototype.controlText_="Current Time";wt.registerComponent("CurrentTimeDisplay",lr);var cr=function(r){tt(i,r);function i(e,t){et(this,i);var n=nt(this,r.call(this,e,t));n.on(e,"durationchange",n.updateContent);n.on(e,"loadedmetadata",n.throttledUpdateContent);return n}i.prototype.buildCSSClass=function e(){return"vjs-duration"};i.prototype.updateContent=function n(e){var t=this.player_.duration();if(t&&this.duration_!==t){this.duration_=t;this.updateFormattedTime_(t)}};return i}(ur);cr.prototype.controlText_="Duration Time";wt.registerComponent("DurationDisplay",cr);var dr=function(t){tt(e,t);function e(){et(this,e);return nt(this,t.apply(this,arguments))}e.prototype.createEl=function K(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};return e}(wt);wt.registerComponent("TimeDivider",dr);var fr=function(r){tt(i,r);function i(e,t){et(this,i);var n=nt(this,r.call(this,e,t));n.on(e,"durationchange",n.throttledUpdateContent);n.on(e,"ended",n.handleEnded);return n}i.prototype.buildCSSClass=function e(){return"vjs-remaining-time"};i.prototype.formatTime_=function t(e){return"-"+r.prototype.formatTime_.call(this,e)};i.prototype.updateContent=function n(e){if(!this.player_.duration()){return}if(this.player_.remainingTimeDisplay){this.updateFormattedTime_(this.player_.remainingTimeDisplay())}else{this.updateFormattedTime_(this.player_.remainingTime())}};i.prototype.handleEnded=function a(e){if(!this.player_.duration()){return}this.updateFormattedTime_(0)};return i}(ur);fr.prototype.controlText_="Remaining Time";wt.registerComponent("RemainingTimeDisplay",fr);var hr=function(r){tt(i,r);function i(e,t){et(this,i);var n=nt(this,r.call(this,e,t));n.updateShowing();n.on(n.player(),"durationchange",n.updateShowing);return n}i.prototype.createEl=function t(){var e=r.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});this.contentEl_=K("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"});e.appendChild(this.contentEl_);return e};i.prototype.dispose=function e(){this.contentEl_=null;r.prototype.dispose.call(this)};i.prototype.updateShowing=function n(e){if(this.player().duration()===Infinity){this.show()}else{this.hide()}};return i}(wt);wt.registerComponent("LiveDisplay",hr);var pr=function(r){tt(i,r);function i(e,t){et(this,i);var n=nt(this,r.call(this,e,t));n.bar=n.getChild(n.options_.barName);n.vertical(!!n.options_.vertical);n.enable();return n}i.prototype.enabled=function e(){return this.enabled_};i.prototype.enable=function t(){if(this.enabled()){return}this.on("mousedown",this.handleMouseDown);this.on("touchstart",this.handleMouseDown);this.on("focus",this.handleFocus);this.on("blur",this.handleBlur);this.on("click",this.handleClick);this.on(this.player_,"controlsvisible",this.update);if(this.playerEvent){this.on(this.player_,this.playerEvent,this.update)}this.removeClass("disabled");this.setAttribute("tabindex",0);this.enabled_=true};i.prototype.disable=function n(){if(!this.enabled()){return}var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown);this.off("touchstart",this.handleMouseDown);this.off("focus",this.handleFocus);this.off("blur",this.handleBlur);this.off("click",this.handleClick);this.off(this.player_,"controlsvisible",this.update);this.off(e,"mousemove",this.handleMouseMove);this.off(e,"mouseup",this.handleMouseUp);this.off(e,"touchmove",this.handleMouseMove);this.off(e,"touchend",this.handleMouseUp);this.removeAttribute("tabindex");this.addClass("disabled");if(this.playerEvent){this.off(this.player_,this.playerEvent,this.update)}this.enabled_=false};i.prototype.createEl=function a(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};t.className=t.className+" vjs-slider";t=rt({tabIndex:0},t);n=rt({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n);return r.prototype.createEl.call(this,e,t,n)};i.prototype.handleMouseDown=function o(e){var t=this.bar.el_.ownerDocument;e.preventDefault();ne();this.addClass("vjs-sliding");this.trigger("slideractive");this.on(t,"mousemove",this.handleMouseMove);this.on(t,"mouseup",this.handleMouseUp);this.on(t,"touchmove",this.handleMouseMove);this.on(t,"touchend",this.handleMouseUp);this.handleMouseMove(e)};i.prototype.handleMouseMove=function s(e){};i.prototype.handleMouseUp=function u(){var e=this.bar.el_.ownerDocument;re();this.removeClass("vjs-sliding");this.trigger("sliderinactive");this.off(e,"mousemove",this.handleMouseMove);this.off(e,"mouseup",this.handleMouseUp);this.off(e,"touchmove",this.handleMouseMove);this.off(e,"touchend",this.handleMouseUp);this.update()};i.prototype.update=function l(){if(!this.el_){return}var e=this.getPercent();var t=this.bar;if(!t){return}if(typeof e!=="number"||e!==e||e<0||e===Infinity){e=0}var n=(e*100).toFixed(2)+"%";var r=t.el().style;if(this.vertical()){r.height=n}else{r.width=n}return e};i.prototype.calculateDistance=function c(e){var t=oe(this.el_,e);if(this.vertical()){return t.y}return t.x};i.prototype.handleFocus=function d(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)};i.prototype.handleKeyPress=function f(e){if(e.which===37||e.which===40){e.preventDefault();this.stepBack()}else if(e.which===38||e.which===39){e.preventDefault();this.stepForward()}};i.prototype.handleBlur=function h(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)};i.prototype.handleClick=function p(e){e.stopImmediatePropagation();e.preventDefault()};i.prototype.vertical=function v(e){if(e===undefined){return this.vertical_||false}this.vertical_=!!e;if(this.vertical_){this.addClass("vjs-slider-vertical")}else{this.addClass("vjs-slider-horizontal")}};return i}(wt);wt.registerComponent("Slider",pr);var vr=function(r){tt(i,r);function i(e,t){et(this,i);var n=nt(this,r.call(this,e,t));n.partEls_=[];n.on(e,"progress",n.update);return n}i.prototype.createEl=function e(){return r.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})};i.prototype.dispose=function t(){this.partEls_=null;r.prototype.dispose.call(this)};i.prototype.update=function d(e){var t=this.player_.buffered();var n=this.player_.duration();var r=this.player_.bufferedEnd();var i=this.partEls_;var a=function a(e,t){var n=e/t||0;return(n>=1?1:n)*100+"%"};this.el_.style.width=a(r,n);for(var o=0;o<t.length;o++){var s=t.start(o);var u=t.end(o);var l=i[o];if(!l){l=this.el_.appendChild(K());i[o]=l}l.style.left=a(s,r);l.style.width=a(u-s,r)}for(var c=i.length;c>t.length;c--){this.el_.removeChild(i[c-1])}i.length=t.length};return i}(wt);wt.registerComponent("LoadProgressBar",vr);var yr=function(e){tt(t,e);function t(){et(this,t);return nt(this,e.apply(this,arguments))}t.prototype.createEl=function n(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})};t.prototype.update=function l(e,t,n){var r=ie(this.el_);var i=ie(this.player_.el());var a=e.width*t;if(!i||!r){return}var o=e.left-i.left+a;var s=e.width-a+(i.right-e.right);var u=r.width/2;if(o<u){u+=u-o}else if(s<u){u=s}if(u<0){u=0}else if(u>r.width){u=r.width}this.el_.style.right="-"+u+"px";$(this.el_,n)};return t}(wt);wt.registerComponent("TimeTooltip",yr);var gr=function(t){tt(e,t);function e(){et(this,e);return nt(this,t.apply(this,arguments))}e.prototype.createEl=function K(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})};e.prototype.update=function n(r,i){var a=this;if(this.rafId_){this.cancelAnimationFrame(this.rafId_)}this.rafId_=this.requestAnimationFrame(function(){var e=a.player_.scrubbing()?a.player_.getCache().currentTime:a.player_.currentTime();var t=sr(e,a.player_.duration());var n=a.getChild("timeTooltip");if(n){n.update(r,i,t)}})};return e}(wt);gr.prototype.options_={children:[]};if((!g||g>8)&&!Ze&&!E){gr.prototype.options_.children.push("timeTooltip")}wt.registerComponent("PlayProgressBar",gr);var mr=function(r){tt(i,r);function i(e,t){et(this,i);var n=nt(this,r.call(this,e,t));n.update=Le(gt(n,n.update),25);return n}i.prototype.createEl=function K(){return r.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})};i.prototype.update=function e(n,r){var i=this;if(this.rafId_){this.cancelAnimationFrame(this.rafId_)}this.rafId_=this.requestAnimationFrame(function(){var e=i.player_.duration();var t=sr(r*e,e);i.el_.style.left=n.width*r+"px";i.getChild("timeTooltip").update(n,r,t)})};return i}(wt);mr.prototype.options_={children:["timeTooltip"]};wt.registerComponent("MouseTimeDisplay",mr);var _r=5;var br=30;var Tr=function(r){tt(i,r);function i(e,t){et(this,i);var n=nt(this,r.call(this,e,t));n.setEventHandlers_();return n}i.prototype.setEventHandlers_=function t(){var e=this;this.update=Le(gt(this,this.update),br);this.on(this.player_,"timeupdate",this.update);this.on(this.player_,"ended",this.handleEnded);this.updateInterval=null;this.on(this.player_,["playing"],function(){e.clearInterval(e.updateInterval);e.updateInterval=e.setInterval(function(){e.requestAnimationFrame(function(){e.update()})},br)});this.on(this.player_,["ended","pause","waiting"],function(){e.clearInterval(e.updateInterval)});this.on(this.player_,["timeupdate","ended"],this.update)};i.prototype.createEl=function e(){return r.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})};i.prototype.update_=function a(e,t){var n=this.player_.duration();this.el_.setAttribute("aria-valuenow",(t*100).toFixed(2));this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[sr(e,n),sr(n,n)],"{1} of {2}"));this.bar.update(ie(this.el_),t)};i.prototype.update=function n(e){var t=r.prototype.update.call(this);this.update_(this.getCurrentTime_(),t);return t};i.prototype.getCurrentTime_=function o(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()};i.prototype.handleEnded=function s(e){this.update_(this.player_.duration(),1)};i.prototype.getPercent=function u(){var e=this.getCurrentTime_()/this.player_.duration();return e>=1?1:e};i.prototype.handleMouseDown=function l(e){if(!ct(e)){return}e.stopPropagation();this.player_.scrubbing(true);this.videoWasPlaying=!this.player_.paused();this.player_.pause();r.prototype.handleMouseDown.call(this,e)};i.prototype.handleMouseMove=function c(e){if(!ct(e)){return}var t=this.calculateDistance(e)*this.player_.duration();if(t===this.player_.duration()){t=t-.1}this.player_.currentTime(t)};i.prototype.enable=function d(){r.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");if(!e){return}e.show()};i.prototype.disable=function f(){r.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");if(!e){return}e.hide()};i.prototype.handleMouseUp=function h(e){r.prototype.handleMouseUp.call(this,e);if(e){e.stopPropagation()}this.player_.scrubbing(false);this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:true});if(this.videoWasPlaying){Mt(this.player_.play())}};i.prototype.stepForward=function p(){this.player_.currentTime(this.player_.currentTime()+_r)};i.prototype.stepBack=function v(){this.player_.currentTime(this.player_.currentTime()-_r)};i.prototype.handleAction=function y(e){if(this.player_.paused()){this.player_.play()}else{this.player_.pause()}};i.prototype.handleKeyPress=function g(e){if(e.which===32||e.which===13){e.preventDefault();this.handleAction(e)}else if(r.prototype.handleKeyPress){r.prototype.handleKeyPress.call(this,e)}};return i}(pr);Tr.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};if((!g||g>8)&&!Ze&&!E){Tr.prototype.options_.children.splice(1,0,"mouseTimeDisplay")}Tr.prototype.playerEvent="timeupdate";wt.registerComponent("SeekBar",Tr);var wr=function(r){tt(i,r);function i(e,t){et(this,i);var n=nt(this,r.call(this,e,t));n.handleMouseMove=Le(gt(n,n.handleMouseMove),25);n.throttledHandleMouseSeek=Le(gt(n,n.handleMouseSeek),25);n.enable();return n}i.prototype.createEl=function e(){return r.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})};i.prototype.handleMouseMove=function o(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("mouseTimeDisplay");var r=t.el();var i=ie(r);var a=oe(r,e).x;if(a>1){a=1}else if(a<0){a=0}if(n){n.update(i,a)}}};i.prototype.handleMouseSeek=function n(e){var t=this.getChild("seekBar");if(t){t.handleMouseMove(e)}};i.prototype.enabled=function t(){return this.enabled_};i.prototype.disable=function a(){this.children().forEach(function(e){return e.disable&&e.disable()});if(!this.enabled()){return}this.off(["mousedown","touchstart"],this.handleMouseDown);this.off(this.el_,"mousemove",this.handleMouseMove);this.handleMouseUp();this.addClass("disabled");this.enabled_=false};i.prototype.enable=function s(){this.children().forEach(function(e){return e.enable&&e.enable()});if(this.enabled()){return}this.on(["mousedown","touchstart"],this.handleMouseDown);this.on(this.el_,"mousemove",this.handleMouseMove);this.removeClass("disabled");this.enabled_=true};i.prototype.handleMouseDown=function u(e){var t=this.el_.ownerDocument;var n=this.getChild("seekBar");if(n){n.handleMouseDown(e)}this.on(t,"mousemove",this.throttledHandleMouseSeek);this.on(t,"touchmove",this.throttledHandleMouseSeek);this.on(t,"mouseup",this.handleMouseUp);this.on(t,"touchend",this.handleMouseUp)};i.prototype.handleMouseUp=function l(e){var t=this.el_.ownerDocument;var n=this.getChild("seekBar");if(n){n.handleMouseUp(e)}this.off(t,"mousemove",this.throttledHandleMouseSeek);this.off(t,"touchmove",this.throttledHandleMouseSeek);this.off(t,"mouseup",this.handleMouseUp);this.off(t,"touchend",this.handleMouseUp)};return i}(wt);wr.prototype.options_={children:["seekBar"]};wt.registerComponent("ProgressControl",wr);var kr=function(r){tt(i,r);function i(e,t){et(this,i);var n=nt(this,r.call(this,e,t));n.on(e,"fullscreenchange",n.handleFullscreenChange);return n}i.prototype.buildCSSClass=function e(){return"vjs-fullscreen-control "+r.prototype.buildCSSClass.call(this)};i.prototype.handleFullscreenChange=function t(e){if(this.player_.isFullscreen()){this.controlText("Non-Fullscreen")}else{this.controlText("Fullscreen")}};i.prototype.handleClick=function n(e){if(!this.player_.isFullscreen()){this.player_.requestFullscreen()}else{this.player_.exitFullscreen()}};return i}(Zn);kr.prototype.controlText_="Fullscreen";wt.registerComponent("FullscreenToggle",kr);var Sr=function Sr(e,t){if(t.tech_&&!t.tech_.featuresVolumeControl){e.addClass("vjs-hidden")}e.on(t,"loadstart",function(){if(!t.tech_.featuresVolumeControl){e.addClass("vjs-hidden")}else{e.removeClass("vjs-hidden")}})};var Cr=function(t){tt(e,t);function e(){et(this,e);return nt(this,t.apply(this,arguments))}e.prototype.createEl=function K(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};return e}(wt);wt.registerComponent("VolumeLevel",Cr);var Er=function(r){tt(i,r);function i(e,t){et(this,i);var n=nt(this,r.call(this,e,t));n.on("slideractive",n.updateLastVolume_);n.on(e,"volumechange",n.updateARIAAttributes);e.ready(function(){return n.updateARIAAttributes()});return n}i.prototype.createEl=function e(){return r.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})};i.prototype.handleMouseDown=function t(e){if(!ct(e)){return}r.prototype.handleMouseDown.call(this,e)};i.prototype.handleMouseMove=function n(e){if(!ct(e)){return}this.checkMuted();this.player_.volume(this.calculateDistance(e))};i.prototype.checkMuted=function a(){if(this.player_.muted()){this.player_.muted(false)}};i.prototype.getPercent=function o(){if(this.player_.muted()){return 0}return this.player_.volume()};i.prototype.stepForward=function s(){this.checkMuted();this.player_.volume(this.player_.volume()+.1)};i.prototype.stepBack=function u(){this.checkMuted();this.player_.volume(this.player_.volume()-.1)};i.prototype.updateARIAAttributes=function l(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t);this.el_.setAttribute("aria-valuetext",t+"%")};i.prototype.volumeAsPercentage_=function c(){return Math.round(this.player_.volume()*100)};i.prototype.updateLastVolume_=function d(){var e=this;var t=this.player_.volume();this.one("sliderinactive",function(){if(e.player_.volume()===0){e.player_.lastVolume_(t)}})};return i}(pr);Er.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};Er.prototype.playerEvent="volumechange";wt.registerComponent("VolumeBar",Er);var Or=function(r){tt(i,r);function i(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};et(this,i);t.vertical=t.vertical||false;if(typeof t.volumeBar==="undefined"||B(t.volumeBar)){t.volumeBar=t.volumeBar||{};t.volumeBar.vertical=t.vertical}var n=nt(this,r.call(this,e,t));Sr(n,e);n.throttledHandleMouseMove=Le(gt(n,n.handleMouseMove),25);n.on("mousedown",n.handleMouseDown);n.on("touchstart",n.handleMouseDown);n.on(n.volumeBar,["focus","slideractive"],function(){n.volumeBar.addClass("vjs-slider-active");n.addClass("vjs-slider-active");n.trigger("slideractive")});n.on(n.volumeBar,["blur","sliderinactive"],function(){n.volumeBar.removeClass("vjs-slider-active");n.removeClass("vjs-slider-active");n.trigger("sliderinactive")});return n}i.prototype.createEl=function K(){var t="vjs-volume-horizontal";if(this.options_.vertical){t="vjs-volume-vertical"}return r.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})};i.prototype.handleMouseDown=function n(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove);this.on(t,"touchmove",this.throttledHandleMouseMove);this.on(t,"mouseup",this.handleMouseUp);this.on(t,"touchend",this.handleMouseUp)};i.prototype.handleMouseUp=function a(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove);this.off(t,"touchmove",this.throttledHandleMouseMove);this.off(t,"mouseup",this.handleMouseUp);this.off(t,"touchend",this.handleMouseUp)};i.prototype.handleMouseMove=function t(e){this.volumeBar.handleMouseMove(e)};return i}(wt);Or.prototype.options_={children:["volumeBar"]};wt.registerComponent("VolumeControl",Or);var Pr=function(r){tt(i,r);function i(e,t){et(this,i);var n=nt(this,r.call(this,e,t));Sr(n,e);n.on(e,["loadstart","volumechange"],n.update);return n}i.prototype.buildCSSClass=function e(){return"vjs-mute-control "+r.prototype.buildCSSClass.call(this)};i.prototype.handleClick=function a(e){var t=this.player_.volume();var n=this.player_.lastVolume_();if(t===0){var r=n<.1?.1:n;this.player_.volume(r);this.player_.muted(false)}else{this.player_.muted(this.player_.muted()?false:true)}};i.prototype.update=function t(e){this.updateIcon_();this.updateControlText_()};i.prototype.updateIcon_=function o(){var e=this.player_.volume();var t=3;if(e===0||this.player_.muted()){t=0}else if(e<.33){t=1}else if(e<.67){t=2}for(var n=0;n<4;n++){ut(this.el_,"vjs-vol-"+n)}st(this.el_,"vjs-vol-"+t)};i.prototype.updateControlText_=function n(){var e=this.player_.muted()||this.player_.volume()===0;var t=e?"Unmute":"Mute";if(this.controlText()!==t){this.controlText(t)}};return i}(Zn);Pr.prototype.controlText_="Mute";wt.registerComponent("MuteToggle",Pr);var Ar=function(r){tt(i,r);function i(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};et(this,i);if(typeof t.inline!=="undefined"){t.inline=t.inline}else{t.inline=true}if(typeof t.volumeControl==="undefined"||B(t.volumeControl)){t.volumeControl=t.volumeControl||{};t.volumeControl.vertical=!t.inline}var n=nt(this,r.call(this,e,t));Sr(n,e);n.on(n.volumeControl,["slideractive"],n.sliderActive_);n.on(n.volumeControl,["sliderinactive"],n.sliderInactive_);return n}i.prototype.sliderActive_=function e(){this.addClass("vjs-slider-active")};i.prototype.sliderInactive_=function t(){this.removeClass("vjs-slider-active")};i.prototype.createEl=function K(){var t="vjs-volume-panel-horizontal";if(!this.options_.inline){t="vjs-volume-panel-vertical"}return r.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})};return i}(wt);Ar.prototype.options_={children:["muteToggle","volumeControl"]};wt.registerComponent("VolumePanel",Ar);var jr=function(r){tt(i,r);function i(e,t){et(this,i);var n=nt(this,r.call(this,e,t));if(t){n.menuButton_=t.menuButton}n.focusedChild_=-1;n.on("keydown",n.handleKeyPress);return n}i.prototype.addItem=function e(t){this.addChild(t);t.on("click",gt(this,function(e){if(this.menuButton_){this.menuButton_.unpressButton();if(t.name()!=="CaptionSettingsMenuItem"){this.menuButton_.focus()}}}))};i.prototype.createEl=function n(){var e=this.options_.contentElType||"ul";this.contentEl_=K(e,{className:"vjs-menu-content"});this.contentEl_.setAttribute("role","menu");var t=r.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});t.appendChild(this.contentEl_);ht(t,"click",function(e){e.preventDefault();e.stopImmediatePropagation()});return t};i.prototype.dispose=function t(){this.contentEl_=null;r.prototype.dispose.call(this)};i.prototype.handleKeyPress=function a(e){if(e.which===37||e.which===40){e.preventDefault();this.stepForward()}else if(e.which===38||e.which===39){e.preventDefault();this.stepBack()}};i.prototype.stepForward=function o(){var e=0;if(this.focusedChild_!==undefined){e=this.focusedChild_+1}this.focus(e)};i.prototype.stepBack=function s(){var e=0;if(this.focusedChild_!==undefined){e=this.focusedChild_-1}this.focus(e)};i.prototype.focus=function u(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var t=this.children().slice();var n=t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className);if(n){t.shift()}if(t.length>0){if(e<0){e=0}else if(e>=t.length){e=t.length-1}this.focusedChild_=e;t[e].el_.focus()}};return i}(wt);wt.registerComponent("Menu",jr);var xr=function(i){tt(a,i);function a(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};et(this,a);var n=nt(this,i.call(this,e,t));n.menuButton_=new Zn(e,t);n.menuButton_.controlText(n.controlText_);n.menuButton_.el_.setAttribute("aria-haspopup","true");var r=Zn.prototype.buildCSSClass();n.menuButton_.el_.className=n.buildCSSClass()+" "+r;n.menuButton_.removeClass("vjs-control");n.addChild(n.menuButton_);n.update();n.enabled_=true;n.on(n.menuButton_,"tap",n.handleClick);n.on(n.menuButton_,"click",n.handleClick);n.on(n.menuButton_,"focus",n.handleFocus);n.on(n.menuButton_,"blur",n.handleBlur);n.on("keydown",n.handleSubmenuKeyPress);return n}a.prototype.update=function t(){var e=this.createMenu();if(this.menu){this.menu.dispose();this.removeChild(this.menu)}this.menu=e;this.addChild(e);this.buttonPressed_=false;this.menuButton_.el_.setAttribute("aria-expanded","false");if(this.items&&this.items.length<=this.hideThreshold_){this.hide()}else{this.show()}};a.prototype.createMenu=function r(){var e=new jr(this.player_,{menuButton:this});this.hideThreshold_=0;if(this.options_.title){var t=K("li",{className:"vjs-menu-title",innerHTML:_t(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;e.children_.unshift(t);at(t,e.contentEl())}this.items=this.createItems();if(this.items){for(var n=0;n<this.items.length;n++){e.addItem(this.items[n])}}return e};a.prototype.createItems=function e(){};a.prototype.createEl=function n(){return i.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})};a.prototype.buildWrapperCSSClass=function o(){var e="vjs-menu-button";if(this.options_.inline===true){e+="-inline"}else{e+="-popup"}var t=Zn.prototype.buildCSSClass();return"vjs-menu-button "+e+" "+t+" "+i.prototype.buildCSSClass.call(this)};a.prototype.buildCSSClass=function s(){var e="vjs-menu-button";if(this.options_.inline===true){e+="-inline"}else{e+="-popup"}return"vjs-menu-button "+e+" "+i.prototype.buildCSSClass.call(this)};a.prototype.controlText=function u(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(e,t)};a.prototype.handleClick=function l(e){this.one(this.menu.contentEl(),"mouseleave",gt(this,function(e){this.unpressButton();this.el_.blur()}));if(this.buttonPressed_){this.unpressButton()}else{this.pressButton()}};a.prototype.focus=function c(){this.menuButton_.focus()};a.prototype.blur=function d(){this.menuButton_.blur()};a.prototype.handleFocus=function f(){ht(Ke,"keydown",gt(this,this.handleKeyPress))};a.prototype.handleBlur=function h(){pt(Ke,"keydown",gt(this,this.handleKeyPress))};a.prototype.handleKeyPress=function p(e){if(e.which===27||e.which===9){if(this.buttonPressed_){this.unpressButton()}if(e.which!==9){e.preventDefault();this.menuButton_.el_.focus()}}else if(e.which===38||e.which===40){if(!this.buttonPressed_){this.pressButton();e.preventDefault()}}};a.prototype.handleSubmenuKeyPress=function v(e){if(e.which===27||e.which===9){if(this.buttonPressed_){this.unpressButton()}if(e.which!==9){e.preventDefault();this.menuButton_.el_.focus()}}};a.prototype.pressButton=function y(){if(this.enabled_){this.buttonPressed_=true;this.menu.lockShowing();this.menuButton_.el_.setAttribute("aria-expanded","true");if(Ze&&X()){return}this.menu.focus()}};a.prototype.unpressButton=function g(){if(this.enabled_){this.buttonPressed_=false;this.menu.unlockShowing();this.menuButton_.el_.setAttribute("aria-expanded","false")}};a.prototype.disable=function m(){this.unpressButton();this.enabled_=false;this.addClass("vjs-disabled");this.menuButton_.disable()};a.prototype.enable=function _(){this.enabled_=true;this.removeClass("vjs-disabled");this.menuButton_.enable()};return a}(wt);wt.registerComponent("MenuButton",xr);var Lr=function(a){tt(o,a);function o(e,t){et(this,o);var n=t.tracks;var r=nt(this,a.call(this,e,t));if(r.items.length<=1){r.hide()}if(!n){return nt(r)}var i=gt(r,r.update);n.addEventListener("removetrack",i);n.addEventListener("addtrack",i);r.player_.on("ready",i);r.player_.on("dispose",function(){n.removeEventListener("removetrack",i);n.removeEventListener("addtrack",i)});return r}return o}(xr);wt.registerComponent("TrackButton",Lr);var Ir=function(i){tt(r,i);function r(e,t){et(this,r);var n=nt(this,i.call(this,e,t));n.selectable=t.selectable;n.isSelected_=t.selected||false;n.selected(n.isSelected_);if(n.selectable){n.el_.setAttribute("role","menuitemcheckbox")}else{n.el_.setAttribute("role","menuitem")}return n}r.prototype.createEl=function K(t,n,r){this.nonIconControl=true;return i.prototype.createEl.call(this,"li",rt({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),r)};r.prototype.handleClick=function t(e){this.selected(true)};r.prototype.selected=function n(e){if(this.selectable){if(e){this.addClass("vjs-selected");this.el_.setAttribute("aria-checked","true");this.controlText(", selected");this.isSelected_=true}else{this.removeClass("vjs-selected");this.el_.setAttribute("aria-checked","false");this.controlText("");this.isSelected_=false}}};return r}(Wn);wt.registerComponent("MenuItem",Ir);var Mr=function(u){tt(l,u);function l(e,t){et(this,l);var n=t.track;var r=e.textTracks();t.label=n.label||n.language||"Unknown";t.selected=n.mode==="showing";var i=nt(this,u.call(this,e,t));i.track=n;var a=function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}i.handleTracksChange.apply(i,t)};var o=function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}i.handleSelectedLanguageChange.apply(i,t)};e.on(["loadstart","texttrackchange"],a);r.addEventListener("change",a);r.addEventListener("selectedlanguagechange",o);i.on("dispose",function(){e.off(["loadstart","texttrackchange"],a);r.removeEventListener("change",a);r.removeEventListener("selectedlanguagechange",o)});if(r.onchange===undefined){var s=void 0;i.on(["tap","click"],function(){if(w(Ye.Event)!=="object"){try{s=new Ye.Event("change")}catch(e){}}if(!s){s=Ke.createEvent("Event");s.initEvent("change",true,true)}r.dispatchEvent(s)})}i.handleTracksChange();return i}l.prototype.handleClick=function o(e){var t=this.track.kind;var n=this.track.kinds;var r=this.player_.textTracks();if(!n){n=[t]}u.prototype.handleClick.call(this,e);if(!r){return}for(var i=0;i<r.length;i++){var a=r[i];if(a===this.track&&n.indexOf(a.kind)>-1){if(a.mode!=="showing"){a.mode="showing"}}else if(a.mode!=="disabled"){a.mode="disabled"}}};l.prototype.handleTracksChange=function n(e){var t=this.track.mode==="showing";if(t!==this.isSelected_){this.selected(t)}};l.prototype.handleSelectedLanguageChange=function r(e){if(this.track.mode==="showing"){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind){return}this.player_.cache_.selectedLanguage={enabled:true,language:this.track.language,kind:this.track.kind}}};l.prototype.dispose=function e(){this.track=null;u.prototype.dispose.call(this)};return l}(Ir);wt.registerComponent("TextTrackMenuItem",Mr);var Dr=function(n){tt(r,n);function r(e,t){et(this,r);t.track={player:e,kind:t.kind,kinds:t.kinds,"default":false,mode:"disabled"};if(!t.kinds){t.kinds=[t.kind]}if(t.label){t.track.label=t.label}else{t.track.label=t.kinds.join(" and ")+" off"}t.selectable=true;return nt(this,n.call(this,e,t))}r.prototype.handleTracksChange=function o(e){var t=this.player().textTracks();var n=true;for(var r=0,i=t.length;r<i;r++){var a=t[r];if(this.options_.kinds.indexOf(a.kind)>-1&&a.mode==="showing"){n=false;break}}if(n!==this.isSelected_){this.selected(n)}};r.prototype.handleSelectedLanguageChange=function s(e){var t=this.player().textTracks();var n=true;for(var r=0,i=t.length;r<i;r++){var a=t[r];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&a.mode==="showing"){n=false;break}}if(n){this.player_.cache_.selectedLanguage={enabled:false}}};return r}(Mr);wt.registerComponent("OffTextTrackMenuItem",Dr);var Rr=function(n){tt(r,n);function r(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};et(this,r);t.tracks=e.textTracks();return nt(this,n.call(this,e,t))}r.prototype.createItems=function s(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Mr;var n=void 0;if(this.label_){n=this.label_+" off"}e.push(new Dr(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n}));this.hideThreshold_+=1;var r=this.player_.textTracks();if(!Array.isArray(this.kinds_)){this.kinds_=[this.kind_]}for(var i=0;i<r.length;i++){var a=r[i];if(this.kinds_.indexOf(a.kind)>-1){var o=new t(this.player_,{track:a,selectable:true});o.addClass("vjs-"+a.kind+"-menu-item");e.push(o)}}return e};return r}(Lr);wt.registerComponent("TextTrackButton",Rr);var Br=function(o){tt(s,o);function s(e,t){et(this,s);var n=t.track;var r=t.cue;var i=e.currentTime();t.selectable=true;t.label=r.text;t.selected=r.startTime<=i&&i<r.endTime;var a=nt(this,o.call(this,e,t));a.track=n;a.cue=r;n.addEventListener("cuechange",gt(a,a.update));return a}s.prototype.handleClick=function t(e){o.prototype.handleClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)};s.prototype.update=function r(e){var t=this.cue;var n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)};return s}(Ir);wt.registerComponent("ChaptersTrackMenuItem",Br);var Nr=function(r){tt(i,r);function i(e,t,n){et(this,i);return nt(this,r.call(this,e,t,n))}i.prototype.buildCSSClass=function e(){return"vjs-chapters-button "+r.prototype.buildCSSClass.call(this)};i.prototype.buildWrapperCSSClass=function t(){return"vjs-chapters-button "+r.prototype.buildWrapperCSSClass.call(this)};i.prototype.update=function n(e){if(!this.track_||e&&(e.type==="addtrack"||e.type==="removetrack")){this.setTrack(this.findChaptersTrack())}r.prototype.update.call(this)};i.prototype.setTrack=function a(e){if(this.track_===e){return}if(!this.updateHandler_){this.updateHandler_=this.update.bind(this)}if(this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);if(t){t.removeEventListener("load",this.updateHandler_)}this.track_=null}this.track_=e;if(this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);if(n){n.addEventListener("load",this.updateHandler_)}}};i.prototype.findChaptersTrack=function o(){var e=this.player_.textTracks()||[];for(var t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_){return n}}};i.prototype.getMenuCaption=function s(){if(this.track_&&this.track_.label){return this.track_.label}return this.localize(_t(this.kind_))};i.prototype.createMenu=function u(){this.options_.title=this.getMenuCaption();return r.prototype.createMenu.call(this)};i.prototype.createItems=function l(){var e=[];if(!this.track_){return e}var t=this.track_.cues;if(!t){return e}for(var n=0,r=t.length;n<r;n++){var i=t[n];var a=new Br(this.player_,{track:this.track_,cue:i});e.push(a)}return e};return i}(Rr);Nr.prototype.kind_="chapters";Nr.prototype.controlText_="Chapters";wt.registerComponent("ChaptersButton",Nr);var Ur=function(o){tt(s,o);function s(e,t,n){et(this,s);var r=nt(this,o.call(this,e,t,n));var i=e.textTracks();var a=gt(r,r.handleTracksChange);i.addEventListener("change",a);r.on("dispose",function(){i.removeEventListener("change",a)});return r}s.prototype.handleTracksChange=function u(e){var t=this.player().textTracks();var n=false;for(var r=0,i=t.length;r<i;r++){var a=t[r];if(a.kind!==this.kind_&&a.mode==="showing"){n=true;break}}if(n){this.disable()}else{this.enable()}};s.prototype.buildCSSClass=function e(){return"vjs-descriptions-button "+o.prototype.buildCSSClass.call(this)};s.prototype.buildWrapperCSSClass=function t(){return"vjs-descriptions-button "+o.prototype.buildWrapperCSSClass.call(this)};return s}(Rr);Ur.prototype.kind_="descriptions";Ur.prototype.controlText_="Descriptions";wt.registerComponent("DescriptionsButton",Ur);var Fr=function(r){tt(i,r);function i(e,t,n){et(this,i);return nt(this,r.call(this,e,t,n))}i.prototype.buildCSSClass=function e(){return"vjs-subtitles-button "+r.prototype.buildCSSClass.call(this)};i.prototype.buildWrapperCSSClass=function t(){return"vjs-subtitles-button "+r.prototype.buildWrapperCSSClass.call(this)};return i}(Rr);Fr.prototype.kind_="subtitles";Fr.prototype.controlText_="Subtitles";wt.registerComponent("SubtitlesButton",Fr);var Hr=function(r){tt(i,r);function i(e,t){et(this,i);t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:false,"default":false,mode:"disabled"};t.selectable=false;t.name="CaptionSettingsMenuItem";var n=nt(this,r.call(this,e,t));n.addClass("vjs-texttrack-settings");n.controlText(", opens "+t.kind+" settings dialog");return n}i.prototype.handleClick=function t(e){this.player().getChild("textTrackSettings").open()};return i}(Mr);wt.registerComponent("CaptionSettingsMenuItem",Hr);var Vr=function(r){tt(i,r);function i(e,t,n){et(this,i);return nt(this,r.call(this,e,t,n))}i.prototype.buildCSSClass=function e(){return"vjs-captions-button "+r.prototype.buildCSSClass.call(this)};i.prototype.buildWrapperCSSClass=function t(){return"vjs-captions-button "+r.prototype.buildWrapperCSSClass.call(this)};i.prototype.createItems=function n(){var e=[];if(!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")){e.push(new Hr(this.player_,{kind:this.kind_}));this.hideThreshold_+=1}return r.prototype.createItems.call(this,e)};return i}(Rr);Vr.prototype.kind_="captions";Vr.prototype.controlText_="Captions";wt.registerComponent("CaptionsButton",Vr);var qr=function(o){tt(e,o);function e(){et(this,e);return nt(this,o.apply(this,arguments))}e.prototype.createEl=function K(t,n,r){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);if(this.options_.track.kind==="captions"){i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "}i+="</span>";var a=o.prototype.createEl.call(this,t,rt({innerHTML:i},n),r);return a};return e}(Mr);wt.registerComponent("SubsCapsMenuItem",qr);var Wr=function(r){tt(i,r);function i(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};et(this,i);var n=nt(this,r.call(this,e,t));n.label_="subtitles";if(["en","en-us","en-ca","fr-ca"].indexOf(n.player_.language_)>-1){n.label_="captions"}n.menuButton_.controlText(_t(n.label_));return n}i.prototype.buildCSSClass=function e(){return"vjs-subs-caps-button "+r.prototype.buildCSSClass.call(this)};i.prototype.buildWrapperCSSClass=function t(){return"vjs-subs-caps-button "+r.prototype.buildWrapperCSSClass.call(this)};i.prototype.createItems=function n(){var e=[];if(!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")){e.push(new Hr(this.player_,{kind:this.label_}));this.hideThreshold_+=1}e=r.prototype.createItems.call(this,e,qr);return e};return i}(Rr);Wr.prototype.kinds_=["captions","subtitles"];Wr.prototype.controlText_="Subtitles";wt.registerComponent("SubsCapsButton",Wr);var zr=function(o){tt(s,o);function s(e,t){et(this,s);var n=t.track;var r=e.audioTracks();t.label=n.label||n.language||"Unknown";t.selected=n.enabled;var i=nt(this,o.call(this,e,t));i.track=n;var a=function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}i.handleTracksChange.apply(i,t)};r.addEventListener("change",a);i.on("dispose",function(){r.removeEventListener("change",a)});return i}s.prototype.handleClick=function i(e){var t=this.player_.audioTracks();o.prototype.handleClick.call(this,e);for(var n=0;n<t.length;n++){var r=t[n];r.enabled=r===this.track}};s.prototype.handleTracksChange=function t(e){this.selected(this.track.enabled)};return s}(Ir);wt.registerComponent("AudioTrackMenuItem",zr);var Gr=function(n){tt(r,n);function r(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};et(this,r);t.tracks=e.audioTracks();return nt(this,n.call(this,e,t))}r.prototype.buildCSSClass=function e(){return"vjs-audio-button "+n.prototype.buildCSSClass.call(this)};r.prototype.buildWrapperCSSClass=function t(){return"vjs-audio-button "+n.prototype.buildWrapperCSSClass.call(this)};r.prototype.createItems=function i(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];this.hideThreshold_=1;var t=this.player_.audioTracks();for(var n=0;n<t.length;n++){var r=t[n];e.push(new zr(this.player_,{track:r,selectable:true}))}return e};return r}(Lr);Gr.prototype.controlText_="Audio Track";wt.registerComponent("AudioTrackButton",Gr);var Xr=function(a){tt(o,a);function o(e,t){et(this,o);var n=t.rate;var r=parseFloat(n,10);t.label=n;t.selected=r===1;t.selectable=true;var i=nt(this,a.call(this,e,t));i.label=n;i.rate=r;i.on(e,"ratechange",i.update);return i}o.prototype.handleClick=function t(e){a.prototype.handleClick.call(this);this.player().playbackRate(this.rate)};o.prototype.update=function n(e){this.selected(this.player().playbackRate()===this.rate)};return o}(Ir);Xr.prototype.contentElType="button";wt.registerComponent("PlaybackRateMenuItem",Xr);var Yr=function(r){tt(i,r);function i(e,t){et(this,i);var n=nt(this,r.call(this,e,t));n.updateVisibility();n.updateLabel();n.on(e,"loadstart",n.updateVisibility);n.on(e,"ratechange",n.updateLabel);return n}i.prototype.createEl=function t(){var e=r.prototype.createEl.call(this);this.labelEl_=K("div",{className:"vjs-playback-rate-value",innerHTML:"1x"});e.appendChild(this.labelEl_);return e};i.prototype.dispose=function e(){this.labelEl_=null;r.prototype.dispose.call(this)};i.prototype.buildCSSClass=function n(){return"vjs-playback-rate "+r.prototype.buildCSSClass.call(this)};i.prototype.buildWrapperCSSClass=function a(){return"vjs-playback-rate "+r.prototype.buildWrapperCSSClass.call(this)};i.prototype.createMenu=function o(){var e=new jr(this.player());var t=this.playbackRates();if(t){for(var n=t.length-1;n>=0;n--){e.addChild(new Xr(this.player(),{rate:t[n]+"x"}))}}return e};i.prototype.updateARIAAttributes=function s(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())};i.prototype.handleClick=function u(e){var t=this.player().playbackRate();var n=this.playbackRates();var r=n[0];for(var i=0;i<n.length;i++){if(n[i]>t){r=n[i];break}}this.player().playbackRate(r)};i.prototype.playbackRates=function l(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates};i.prototype.playbackRateSupported=function c(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0};i.prototype.updateVisibility=function d(e){if(this.playbackRateSupported()){this.removeClass("vjs-hidden")}else{this.addClass("vjs-hidden")}};i.prototype.updateLabel=function f(e){if(this.playbackRateSupported()){this.labelEl_.innerHTML=this.player().playbackRate()+"x"}};return i}(xr);Yr.prototype.controlText_="Playback Rate";wt.registerComponent("PlaybackRateMenuButton",Yr);var Kr=function(t){tt(e,t);function e(){et(this,e);return nt(this,t.apply(this,arguments))}e.prototype.buildCSSClass=function n(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)};e.prototype.createEl=function K(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})};return e}(wt);wt.registerComponent("Spacer",Kr);var $r=function(n){tt(e,n);function e(){et(this,e);return nt(this,n.apply(this,arguments))}e.prototype.buildCSSClass=function t(){return"vjs-custom-control-spacer "+n.prototype.buildCSSClass.call(this)};e.prototype.createEl=function K(){var t=n.prototype.createEl.call(this,{className:this.buildCSSClass()});t.innerHTML=" ";return t};return e}(Kr);wt.registerComponent("CustomControlSpacer",$r);var Jr=function(t){tt(e,t);function e(){et(this,e);return nt(this,t.apply(this,arguments))}e.prototype.createEl=function K(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})};return e}(wt);Jr.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};wt.registerComponent("ControlBar",Jr);var Qr=function(r){tt(i,r);function i(e,t){et(this,i);var n=nt(this,r.call(this,e,t));n.on(e,"error",n.open);return n}i.prototype.buildCSSClass=function e(){return"vjs-error-display "+r.prototype.buildCSSClass.call(this)};i.prototype.content=function t(){var e=this.player().error();return e?this.localize(e.message):""};return i}(Ht);Qr.prototype.options_=Tt(Ht.prototype.options_,{pauseOnOpen:false,fillAlways:true,temporary:false,uncloseable:true});wt.registerComponent("ErrorDisplay",Qr);var Zr="vjs-text-track-settings";var ei=["#000","Black"];var ti=["#00F","Blue"];var ni=["#0FF","Cyan"];var ri=["#0F0","Green"];var ii=["#F0F","Magenta"];var ai=["#F00","Red"];var oi=["#FFF","White"];var si=["#FF0","Yellow"];var ui=["1","Opaque"];var li=["0.5","Semi-Transparent"];var ci=["0","Transparent"];var di={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[ei,oi,ai,ri,ti,si,ii,ni]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[ui,li,ci]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[oi,ei,ai,ri,ti,si,ii,ni]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],"default":2,parser:function ea(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[ui,li]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[ci,li,ui]}};di.windowColor.options=di.backgroundColor.options;function fi(e,t){if(t){e=t(e)}if(e&&e!=="none"){return e}}function hi(e,t){var n=e.options[e.options.selectedIndex].value;return fi(n,t)}function pi(e,t,n){if(!t){return}for(var r=0;r<e.options.length;r++){if(fi(e.options[r].value,n)===t){e.selectedIndex=r;break}}}var vi=function(r){tt(i,r);function i(e,t){et(this,i);t.temporary=false;var n=nt(this,r.call(this,e,t));n.updateDisplay=gt(n,n.updateDisplay);n.fill();n.hasBeenOpened_=n.hasBeenFilled_=true;n.endDialog=K("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")});n.el().appendChild(n.endDialog);n.setDefaults();if(t.persistTextTrackSettings===undefined){n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings}n.on(n.$(".vjs-done-button"),"click",function(){n.saveSettings();n.close()});n.on(n.$(".vjs-default-button"),"click",function(){n.setDefaults();n.updateDisplay()});x(di,function(e){n.on(n.$(e.selector),"change",n.updateDisplay)});if(n.options_.persistTextTrackSettings){n.restoreSettings()}return n}i.prototype.dispose=function e(){this.endDialog=null;r.prototype.dispose.call(this)};i.prototype.createElSelect_=function o(e){var n=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"label";var i=di[e];var a=i.id.replace("%s",this.id_);return["<"+t+' id="'+a+'" class="'+(t==="label"?"vjs-label":"")+'">',this.localize(i.label),"</"+t+">",'<select aria-labelledby="'+(r!==""?r+" ":"")+a+'">'].concat(i.options.map(function(e){var t=a+"-"+e[1];return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+(r!==""?r+" ":"")+a+" "+t+'">',n.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")};i.prototype.createElFgColor_=function t(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")};i.prototype.createElBgColor_=function n(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")};i.prototype.createElWinColor_=function a(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")};i.prototype.createElColors_=function s(){return K("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})};i.prototype.createElFont_=function u(){return K("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})};i.prototype.createElControls_=function l(){var e=this.localize("restore all settings to the default values");return K("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})};i.prototype.content=function c(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]};i.prototype.label=function d(){return this.localize("Caption Settings Dialog")};i.prototype.description=function f(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")};i.prototype.buildCSSClass=function h(){return r.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"};i.prototype.getValues=function p(){var i=this;return L(di,function(e,t,n){var r=hi(i.$(t.selector),t.parser);if(r!==undefined){e[n]=r}return e},{})};i.prototype.setValues=function v(n){var r=this;x(di,function(e,t){pi(r.$(e.selector),n[t],e.parser)})};i.prototype.setDefaults=function y(){var n=this;x(di,function(e){var t=e.hasOwnProperty("default")?e["default"]:0;n.$(e.selector).selectedIndex=t})};i.prototype.restoreSettings=function g(){var e=void 0;try{e=JSON.parse(Ye.localStorage.getItem(Zr))}catch(t){it.warn(t)}if(e){this.setValues(e)}};i.prototype.saveSettings=function m(){if(!this.options_.persistTextTrackSettings){return}var e=this.getValues();try{if(Object.keys(e).length){Ye.localStorage.setItem(Zr,JSON.stringify(e))}else{Ye.localStorage.removeItem(Zr)}}catch(t){it.warn(t)}};i.prototype.updateDisplay=function _(){var e=this.player_.getChild("textTrackDisplay");if(e){e.updateDisplay()}};i.prototype.conditionalBlur_=function b(){this.previouslyActiveEl_=null;this.off(Ke,"keydown",this.handleKeyDown);var e=this.player_.controlBar;var t=e&&e.subsCapsButton;var n=e&&e.captionsButton;if(t){t.focus()}else if(n){n.focus()}};return i}(Ht);wt.registerComponent("TextTrackSettings",vi);var yi=function(a){tt(o,a);function o(e,t){et(this,o);var n=t.ResizeObserver||Ye.ResizeObserver;if(t.ResizeObserver===null){n=false}var r=Tt({createEl:!n},t);var i=nt(this,a.call(this,e,r));i.ResizeObserver=t.ResizeObserver||Ye.ResizeObserver;i.loadListener_=null;i.resizeObserver_=null;i.debouncedHandler_=Ie(function(){i.resizeHandler()},100,false,e);if(n){i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_);i.resizeObserver_.observe(e.el())}else{i.loadListener_=function(){if(i.el_.contentWindow){ht(i.el_.contentWindow,"resize",i.debouncedHandler_)}i.off("load",i.loadListener_)};i.on("load",i.loadListener_)}return i}o.prototype.createEl=function K(){return a.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})};o.prototype.resizeHandler=function e(){this.player_.trigger("playerresize")};o.prototype.dispose=function t(){if(this.resizeObserver_){this.resizeObserver_.unobserve(this.player_.el());this.resizeObserver_.disconnect()}if(this.el_&&this.el_.contentWindow){pt(this.el_.contentWindow,"resize",this.debouncedHandler_)}if(this.loadListener_){this.off("load",this.loadListener_)}this.ResizeObserver=null;this.resizeObserver=null;this.debouncedHandler_=null;this.loadListener_=null};return o}(wt);wt.registerComponent("ResizeManager",yi);var gi=function gi(e){var t=e.el();if(t.src){e.triggerSourceset(t.src);return true}var n=e.$$("source");var r=[];var i="";if(!n.length){return false}for(var a=0;a<n.length;a++){var o=n[a].src;if(o&&r.indexOf(o)===-1){r.push(o)}}if(!r.length){return}if(r.length===1){i=r[0]}e.triggerSourceset(i);return true};var mi=function mi(r){var e=Ye.Element.prototype;var t={};if(Object.getOwnPropertyDescriptor(r,"innerHTML")){t=Object.getOwnPropertyDescriptor(r,"innerHTML")}else if(Object.getOwnPropertyDescriptor(e,"innerHTML")){t=Object.getOwnPropertyDescriptor(e,"innerHTML")}if(!t.get){t.get=function(){return r.cloneNode().innerHTML}}if(!t.set){t.set=function(e){r.innerText="";var t=Ke.createElement(r.nodeName.toLowerCase());t.innerHTML=e;var n=Ke.createDocumentFragment();while(t.childNodes.length){n.appendChild(t.childNodes[0])}Ye.Element.prototype.appendChild.call(r,n);return r.innerHTML}}if(typeof t.enumerable==="undefined"){t.enumerable=true}t.configurable=true;return t};var _i=function _i(t){var n=Ye.HTMLMediaElement.prototype;var e={};if(Object.getOwnPropertyDescriptor(t,"src")){e=Object.getOwnPropertyDescriptor(t,"src")}else if(Object.getOwnPropertyDescriptor(n,"src")){e=Tt(e,Object.getOwnPropertyDescriptor(n,"src"))}if(!e.get){e.get=function(){return n.getAttribute.call(t,"src")}}if(!e.set){e.set=function(e){return n.setAttribute.call(t,"src",e)}}if(typeof e.enumerable==="undefined"){e.enumerable=true}e.configurable=true;return e};var bi=function bi(n){var r=n.el();if(r.firstSourceWatch_){return}r.firstSourceWatch_=true;var t=r.append;var i=r.appendChild;var a=r.insertAdjacentHTML;var o=mi(r);r.appendChild=function(){var e=i.apply(r,arguments);gi(n);return e};if(t){r.append=function(){var e=t.apply(r,arguments);gi(n);return e}}if(a){r.insertAdjacentHTML=function(){var e=a.apply(r,arguments);gi(n);return e}}Object.defineProperty(r,"innerHTML",{get:o.get.bind(r),set:function s(e){var t=o.set.call(r,e);gi(n);return t},configurable:true,enumerable:o.enumerable});n.one("sourceset",function(e){r.firstSourceWatch_=false;r.appendChild=i;if(t){r.append=t}if(a){r.insertAdjacentHTML=a}Object.defineProperty(r,"innerHTML",o)})};var Ti=function Ti(r){if(!r.featuresSourceset){return}var i=r.el();if(i.setupSourceset_){return}i.setupSourceset_=true;var n=_i(i);var a=i.setAttribute;var t=i.load;if(i.src||i.currentSrc&&i.initNetworkState_!==3){if(i.currentSrc){r.triggerSourceset(i.currentSrc)}else{gi(r)}}if(!i.src&&!i.currentSrc&&!r.$$("source").length){bi(r)}Object.defineProperty(i,"src",{get:n.get.bind(i),set:function o(e){var t=n.set.call(i,e);r.triggerSourceset(i.src);return t},configurable:true,enumerable:n.enumerable});i.setAttribute=function(e,t){var n=a.call(i,e,t);if(e==="src"){r.triggerSourceset(i.getAttribute("src"))}return n};i.load=function(){var e=t.call(i);if(!gi(r)){bi(r)}return e}};var wi=k(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]);var ki=function(d){tt(f,d);function f(e,t){et(this,f);var n=nt(this,d.call(this,e,t));if(e.enableSourceset){n.setupSourcesetHandling_()}var r=e.source;var i=false;if(r&&(n.el_.currentSrc!==r.src||e.tag&&e.tag.initNetworkState_===3)){n.setSource(r)}else{n.handleLateInit_(n.el_)}if(n.el_.hasChildNodes()){var a=n.el_.childNodes;var o=a.length;var s=[];while(o--){var u=a[o];var l=u.nodeName.toLowerCase();if(l==="track"){if(!n.featuresNativeTextTracks){s.push(u)}else{n.remoteTextTrackEls().addTrackElement_(u);n.remoteTextTracks().addTrack(u.track);n.textTracks().addTrack(u.track);if(!i&&!n.el_.hasAttribute("crossorigin")&&on(u.src)){i=true}}}}for(var c=0;c<s.length;c++){n.el_.removeChild(s[c])}}n.proxyNativeTracks_();if(n.featuresNativeTextTracks&&i){it.warn($e(wi))}n.restoreMetadataTracksInIOSNativePlayer_();if((A||C||O)&&e.nativeControlsForTouch===true){n.setControls(true)}n.proxyWebkitFullscreen_();n.triggerReady();return n}f.prototype.dispose=function e(){f.disposeMediaElement(this.el_);this.options_=null;d.prototype.dispose.call(this)};f.prototype.setupSourcesetHandling_=function t(){Ti(this)};f.prototype.restoreMetadataTracksInIOSNativePlayer_=function o(){var n=this.textTracks();var r=void 0;var i=function i(){r=[];for(var e=0;e<n.length;e++){var t=n[e];if(t.kind==="metadata"){r.push({track:t,storedMode:t.mode})}}};i();n.addEventListener("change",i);this.on("dispose",function(){return n.removeEventListener("change",i)});var a=function a(){for(var e=0;e<r.length;e++){var t=r[e];if(t.track.mode==="disabled"&&t.track.mode!==t.storedMode){t.track.mode=t.storedMode}}n.removeEventListener("change",a)};this.on("webkitbeginfullscreen",function(){n.removeEventListener("change",i);n.removeEventListener("change",a);n.addEventListener("change",a)});this.on("webkitendfullscreen",function(){n.removeEventListener("change",i);n.addEventListener("change",i);n.removeEventListener("change",a)})};f.prototype.proxyNativeTracks_=function n(){var l=this;mn.names.forEach(function(e){var t=mn[e];var i=l.el()[t.getterName];var a=l[t.getterName]();if(!l["featuresNative"+t.capitalName+"Tracks"]||!i||!i.addEventListener){return}var r={change:function n(e){a.trigger({type:"change",target:a,currentTarget:a,srcElement:a})},addtrack:function s(e){a.addTrack(e.track)},removetrack:function u(e){a.removeTrack(e.track)}};var o=function o(){var e=[];for(var t=0;t<a.length;t++){var n=false;for(var r=0;r<i.length;r++){if(i[r]===a[t]){n=true;break}}if(!n){e.push(a[t])}}while(e.length){a.removeTrack(e.shift())}};Object.keys(r).forEach(function(t){var n=r[t];i.addEventListener(t,n);l.on("dispose",function(e){return i.removeEventListener(t,n)})});l.on("loadstart",o);l.on("dispose",function(e){return l.off("loadstart",o)})})};f.prototype.createEl=function u(){var e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){var t=e.cloneNode(true);if(e.parentNode){e.parentNode.insertBefore(t,e)}f.disposeMediaElement(e);e=t}else{e=Ke.createElement("video");var n=this.options_.tag&&lt(this.options_.tag);var r=Tt({},n);if(!A||this.options_.nativeControlsForTouch!==true){delete r.controls}Q(e,rt(r,{id:this.options_.techId,"class":"vjs-tech"}))}e.playerId=this.options_.playerId}if(typeof this.options_.preload!=="undefined"){ee(e,"preload",this.options_.preload)}var i=["loop","muted","playsinline","autoplay"];for(var a=0;a<i.length;a++){var o=i[a];var s=this.options_[o];if(typeof s!=="undefined"){if(s){ee(e,o,o)}else{te(e,o)}e[o]=s}}return e};f.prototype.handleLateInit_=function a(e){if(e.networkState===0||e.networkState===3){return}if(e.readyState===0){var t=false;var n=function n(){t=true};this.on("loadstart",n);var r=function r(){if(!t){this.trigger("loadstart")}};this.on("loadedmetadata",r);this.ready(function(){this.off("loadstart",n);this.off("loadedmetadata",r);if(!t){this.trigger("loadstart")}});return}var i=["loadstart"];i.push("loadedmetadata");if(e.readyState>=2){i.push("loadeddata")}if(e.readyState>=3){i.push("canplay")}if(e.readyState>=4){i.push("canplaythrough")}this.ready(function(){i.forEach(function(e){this.trigger(e)},this)})};f.prototype.setCurrentTime=function r(e){try{this.el_.currentTime=e}catch(t){it(t,"Video is not ready. (Video.js)")}};f.prototype.duration=function i(){var e=this;if(this.el_.duration===Infinity&&E&&P&&this.el_.currentTime===0){var t=function t(){if(e.el_.currentTime>0){if(e.el_.duration===Infinity){e.trigger("durationchange")}e.off("timeupdate",t)}};this.on("timeupdate",t);return NaN}return this.el_.duration||NaN};f.prototype.width=function s(){return this.el_.offsetWidth};f.prototype.height=function l(){return this.el_.offsetHeight};f.prototype.proxyWebkitFullscreen_=function c(){var e=this;if(!("webkitDisplayingFullscreen"in this.el_)){return}var t=function t(){this.trigger("fullscreenchange",{isFullscreen:false})};var n=function n(){if("webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"){this.one("webkitendfullscreen",t);this.trigger("fullscreenchange",{isFullscreen:true})}};this.on("webkitbeginfullscreen",n);this.on("dispose",function(){e.off("webkitbeginfullscreen",n);e.off("webkitendfullscreen",t)})};f.prototype.supportsFullScreen=function h(){if(typeof this.el_.webkitEnterFullScreen==="function"){var e=Ye.navigator&&Ye.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e)){return true}}return false};f.prototype.enterFullScreen=function p(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA){this.el_.play();this.setTimeout(function(){e.pause();e.webkitEnterFullScreen()},0)}else{e.webkitEnterFullScreen()}};f.prototype.exitFullScreen=function v(){this.el_.webkitExitFullScreen()};f.prototype.src=function y(e){if(e===undefined){return this.el_.src}this.setSrc(e)};f.prototype.reset=function g(){f.resetMediaElement(this.el_)};f.prototype.currentSrc=function m(){if(this.currentSource_){return this.currentSource_.src}return this.el_.currentSrc};f.prototype.setControls=function _(e){this.el_.controls=!!e};f.prototype.addTextTrack=function b(e,t,n){if(!this.featuresNativeTextTracks){return d.prototype.addTextTrack.call(this,e,t,n)}return this.el_.addTextTrack(e,t,n)};f.prototype.createRemoteTextTrack=function T(e){if(!this.featuresNativeTextTracks){return d.prototype.createRemoteTextTrack.call(this,e)}var t=Ke.createElement("track");if(e.kind){t.kind=e.kind}if(e.label){t.label=e.label}if(e.language||e.srclang){t.srclang=e.language||e.srclang}if(e["default"]){t["default"]=e["default"]}if(e.id){t.id=e.id}if(e.src){t.src=e.src}return t};f.prototype.addRemoteTextTrack=function w(e,t){var n=d.prototype.addRemoteTextTrack.call(this,e,t);if(this.featuresNativeTextTracks){this.el().appendChild(n)}return n};f.prototype.removeRemoteTextTrack=function k(e){d.prototype.removeRemoteTextTrack.call(this,e);if(this.featuresNativeTextTracks){var t=this.$$("track");var n=t.length;while(n--){if(e===t[n]||e===t[n].track){this.el().removeChild(t[n])}}}};f.prototype.getVideoPlaybackQuality=function S(){if(typeof this.el().getVideoPlaybackQuality==="function"){return this.el().getVideoPlaybackQuality()}var e={};if(typeof this.el().webkitDroppedFrameCount!=="undefined"&&typeof this.el().webkitDecodedFrameCount!=="undefined"){e.droppedVideoFrames=this.el().webkitDroppedFrameCount;e.totalVideoFrames=this.el().webkitDecodedFrameCount}if(Ye.performance&&typeof Ye.performance.now==="function"){e.creationTime=Ye.performance.now()}else if(Ye.performance&&Ye.performance.timing&&typeof Ye.performance.timing.navigationStart==="number"){e.creationTime=Ye.Date.now()-Ye.performance.timing.navigationStart}return e};return f}(wn);if(z()){ki.TEST_VID=Ke.createElement("video");var Si=Ke.createElement("track");Si.kind="captions";Si.srclang="en";Si.label="English";ki.TEST_VID.appendChild(Si)}ki.isSupported=function(){try{ki.TEST_VID.volume=.5}catch(e){return false}return!!(ki.TEST_VID&&ki.TEST_VID.canPlayType)};ki.canPlayType=function(e){return ki.TEST_VID.canPlayType(e)};ki.canPlaySource=function(e,t){return ki.canPlayType(e.type)};ki.canControlVolume=function(){try{var e=ki.TEST_VID.volume;ki.TEST_VID.volume=e/2+.1;return e!==ki.TEST_VID.volume}catch(t){return false}};ki.canControlPlaybackRate=function(){if(E&&P&&v<58){return false}try{var e=ki.TEST_VID.playbackRate;ki.TEST_VID.playbackRate=e/2+.1;return e!==ki.TEST_VID.playbackRate}catch(t){return false}};ki.canOverrideAttributes=function(){if(y){return false}try{var e=function e(){};Object.defineProperty(Ke.createElement("video"),"src",{get:e,set:e});Object.defineProperty(Ke.createElement("audio"),"src",{get:e,set:e});Object.defineProperty(Ke.createElement("video"),"innerHTML",{get:e,set:e});Object.defineProperty(Ke.createElement("audio"),"innerHTML",{get:e,set:e})}catch(t){return false}return true};ki.supportsNativeTextTracks=function(){return _};ki.supportsNativeVideoTracks=function(){return!!(ki.TEST_VID&&ki.TEST_VID.videoTracks)};ki.supportsNativeAudioTracks=function(){return!!(ki.TEST_VID&&ki.TEST_VID.audioTracks)};ki.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];ki.prototype.featuresVolumeControl=ki.canControlVolume();ki.prototype.featuresPlaybackRate=ki.canControlPlaybackRate();ki.prototype.featuresSourceset=ki.canOverrideAttributes();ki.prototype.movingMediaElementInDOM=!Ze;ki.prototype.featuresFullscreenResize=true;ki.prototype.featuresProgressEvents=true;ki.prototype.featuresTimeupdateEvents=true;ki.prototype.featuresNativeTextTracks=ki.supportsNativeTextTracks();ki.prototype.featuresNativeVideoTracks=ki.supportsNativeVideoTracks();ki.prototype.featuresNativeAudioTracks=ki.supportsNativeAudioTracks();var Ci=ki.TEST_VID&&ki.TEST_VID.constructor.prototype.canPlayType;var Ei=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;var Oi=/^video\/mp4/i;ki.patchCanPlayType=function(){if(d>=4&&!h&&!P){ki.TEST_VID.constructor.prototype.canPlayType=function(e){if(e&&Ei.test(e)){return"maybe"}return Ci.call(this,e)}}else if(f){ki.TEST_VID.constructor.prototype.canPlayType=function(e){if(e&&Oi.test(e)){return"maybe"}return Ci.call(this,e)}}};ki.unpatchCanPlayType=function(){var e=ki.TEST_VID.constructor.prototype.canPlayType;ki.TEST_VID.constructor.prototype.canPlayType=Ci;return e};ki.patchCanPlayType();ki.disposeMediaElement=function(t){if(!t){return}if(t.parentNode){t.parentNode.removeChild(t)}while(t.hasChildNodes()){t.removeChild(t.firstChild)}t.removeAttribute("src");if(typeof t.load==="function"){(function(){try{t.load()}catch(e){}})()}};ki.resetMediaElement=function(t){if(!t){return}var e=t.querySelectorAll("source");var n=e.length;while(n--){t.removeChild(e[n])}t.removeAttribute("src");if(typeof t.load==="function"){(function(){try{t.load()}catch(e){}})()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){ki.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){ki.prototype["set"+_t(t)]=function(e){this.el_[t]=e;if(e){this.el_.setAttribute(t,t)}else{this.el_.removeAttribute(t)}}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){ki.prototype[e]=function(){return this.el_[e]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(t){ki.prototype["set"+_t(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(e){ki.prototype[e]=function(){return this.el_[e]()}});wn.withSourceHandlers(ki);ki.nativeSourceHandler={};ki.nativeSourceHandler.canPlayType=function(e){try{return ki.TEST_VID.canPlayType(e)}catch(t){return""}};ki.nativeSourceHandler.canHandleSource=function(e,t){if(e.type){return ki.nativeSourceHandler.canPlayType(e.type)}else if(e.src){var n=an(e.src);return ki.nativeSourceHandler.canPlayType("video/"+n)}return""};ki.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)};ki.nativeSourceHandler.dispose=function(){};ki.registerSourceHandler(ki.nativeSourceHandler);wn.registerTech("Html5",ki);var Pi=k(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]);var Ai=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"];var ji={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"};var xi=function(c){tt(d,c);function d(e,t,n){et(this,d);e.id=e.id||t.id||"vjs_video_"+ft();t=rt(d.getTagSettings(e),t);t.initChildren=false;t.createEl=false;t.evented=false;t.reportTouchActivity=false;if(!t.language){if(typeof e.closest==="function"){var r=e.closest("[lang]");if(r&&r.getAttribute){t.language=r.getAttribute("lang")}}else{var i=e;while(i&&i.nodeType===1){if(lt(i).hasOwnProperty("lang")){t.language=i.getAttribute("lang");break}i=i.parentNode}}}var a=nt(this,c.call(this,null,t,n));a.isPosterFromTech_=false;a.queuedCallbacks_=[];a.isReady_=false;a.hasStarted_=false;a.userActive_=false;if(!a.options_||!a.options_.techOrder||!a.options_.techOrder.length){throw new Error("No techOrder specified. Did you overwrite "+"videojs.options instead of just changing the "+"properties you want to override?")}a.tag=e;a.tagAttributes=e&&lt(e);a.language(a.options_.language);if(t.languages){var o={};Object.getOwnPropertyNames(t.languages).forEach(function(e){o[e.toLowerCase()]=t.languages[e]});a.languages_=o}else{a.languages_=d.prototype.options_.languages}a.cache_={};a.poster_=t.poster||"";a.controls_=!!t.controls;a.cache_.lastVolume=1;e.controls=false;e.removeAttribute("controls");a.scrubbing_=false;a.el_=a.createEl();a.cache_.lastPlaybackRate=a.defaultPlaybackRate();mt(a,{eventBusKey:"el_"});var s=Tt(a.options_);if(t.plugins){var u=t.plugins;Object.keys(u).forEach(function(e){if(typeof this[e]==="function"){this[e](u[e])}else{throw new Error('plugin "'+e+'" does not exist')}},a)}a.options_.playerOptions=s;a.middleware_=[];a.initChildren();a.isAudio(e.nodeName.toLowerCase()==="audio");if(a.controls()){a.addClass("vjs-controls-enabled")}else{a.addClass("vjs-controls-disabled")}a.el_.setAttribute("role","region");if(a.isAudio()){a.el_.setAttribute("aria-label",a.localize("Audio Player"))}else{a.el_.setAttribute("aria-label",a.localize("Video Player"))}if(a.isAudio()){a.addClass("vjs-audio")}if(a.flexNotSupported_()){a.addClass("vjs-no-flex")}if(!Ze){a.addClass("vjs-workinghover")}d.players[a.id_]=a;var l=Qe.split(".")[0];a.addClass("vjs-v"+l);a.userActive(true);a.reportUserActivity();a.one("play",a.listenForUserActivity_);a.on("fullscreenchange",a.handleFullscreenChange_);a.on("stageclick",a.handleStageClick_);a.changingSrc_=false;a.playWaitingForReady_=false;a.playOnLoadstart_=null;return a}d.prototype.dispose=function e(){this.trigger("dispose");this.off("dispose");if(this.styleEl_&&this.styleEl_.parentNode){this.styleEl_.parentNode.removeChild(this.styleEl_);this.styleEl_=null}d.players[this.id_]=null;if(this.tag&&this.tag.player){this.tag.player=null}if(this.el_&&this.el_.player){this.el_.player=null}if(this.tech_){this.tech_.dispose();this.isPosterFromTech_=false;this.poster_=""}if(this.playerElIngest_){this.playerElIngest_=null}if(this.tag){this.tag=null}Bn(this);c.prototype.dispose.call(this)};d.prototype.createEl=function f(){var t=this.tag;var n=void 0;var e=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player");var r=this.tag.tagName.toLowerCase()==="video-js";if(e){n=this.el_=t.parentNode}else if(!r){n=this.el_=c.prototype.createEl.call(this,"div")}var i=lt(t);if(r){n=this.el_=t;t=this.tag=Ke.createElement("video");while(n.children.length){t.appendChild(n.firstChild)}if(!ot(n,"video-js")){st(n,"video-js")}n.appendChild(t);e=this.playerElIngest_=n}t.setAttribute("tabindex","-1");t.removeAttribute("width");t.removeAttribute("height");Object.getOwnPropertyNames(i).forEach(function(e){if(e==="class"){n.className+=" "+i[e];if(r){t.className+=" "+i[e]}}else{n.setAttribute(e,i[e]);if(r){t.setAttribute(e,i[e])}}});t.playerId=t.id;t.id+="_html5_api";t.className="vjs-tech";t.player=n.player=this;this.addClass("vjs-paused");if(Ye.VIDEOJS_NO_DYNAMIC_STYLE!==true){this.styleEl_=vt("vjs-styles-dimensions");var a=dt(".vjs-styles-defaults");var o=dt("head");o.insertBefore(this.styleEl_,a?a.nextSibling:o.firstChild)}this.width(this.options_.width);this.height(this.options_.height);this.fluid(this.options_.fluid);this.aspectRatio(this.options_.aspectRatio);var s=t.getElementsByTagName("a");for(var u=0;u<s.length;u++){var l=s.item(u);st(l,"vjs-hidden");l.setAttribute("hidden","hidden")}t.initNetworkState_=t.networkState;if(t.parentNode&&!e){t.parentNode.insertBefore(n,t)}at(t,n);this.children_.unshift(t);this.el_.setAttribute("lang",this.language_);this.el_=n;return n};d.prototype.width=function t(e){return this.dimension("width",e)};d.prototype.height=function n(e){return this.dimension("height",e)};d.prototype.dimension=function i(e,t){var n=e+"_";if(t===undefined){return this[n]||0}if(t===""){this[n]=undefined;this.updateStyleEl_();return}var r=parseFloat(t);if(isNaN(r)){it.error('Improper value "'+t+'" supplied for for '+e);return}this[n]=r;this.updateStyleEl_()};d.prototype.fluid=function r(e){if(e===undefined){return!!this.fluid_}this.fluid_=!!e;if(e){this.addClass("vjs-fluid")}else{this.removeClass("vjs-fluid")}this.updateStyleEl_()};d.prototype.aspectRatio=function a(e){if(e===undefined){return this.aspectRatio_}if(!/^\d+\:\d+$/.test(e)){throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.")}this.aspectRatio_=e;this.fluid(true);this.updateStyleEl_()};d.prototype.updateStyleEl_=function l(){if(Ye.VIDEOJS_NO_DYNAMIC_STYLE===true){var e=typeof this.width_==="number"?this.width_:this.options_.width;var t=typeof this.height_==="number"?this.height_:this.options_.height;var n=this.tech_&&this.tech_.el();if(n){if(e>=0){n.width=e}if(t>=0){n.height=t}}return}var r=void 0;var i=void 0;var a=void 0;var o=void 0;if(this.aspectRatio_!==undefined&&this.aspectRatio_!=="auto"){a=this.aspectRatio_}else if(this.videoWidth()>0){a=this.videoWidth()+":"+this.videoHeight()}else{a="16:9"}var s=a.split(":");var u=s[1]/s[0];if(this.width_!==undefined){r=this.width_}else if(this.height_!==undefined){r=this.height_/u}else{r=this.videoWidth()||300}if(this.height_!==undefined){i=this.height_}else{i=r*u}if(/^[^a-zA-Z]/.test(this.id())){o="dimensions-"+this.id()}else{o=this.id()+"-dimensions"}this.addClass(o);yt(this.styleEl_,"\n      ."+o+" {\n        width: "+r+"px;\n        height: "+i+"px;\n      }\n\n      ."+o+".vjs-fluid {\n        padding-top: "+u*100+"%;\n      }\n    ")};d.prototype.loadTech_=function s(e,t){var n=this;if(this.tech_){this.unloadTech_()}var r=_t(e);var i=e.charAt(0).toLowerCase()+e.slice(1);if(r!=="Html5"&&this.tag){wn.getTech("Html5").disposeMediaElement(this.tag);this.tag.player=null;this.tag=null}this.techName_=r;this.isReady_=false;var a={source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||false,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};bn.names.forEach(function(e){var t=bn[e];a[t.getterName]=n[t.privateName]});rt(a,this.options_[r]);rt(a,this.options_[i]);rt(a,this.options_[e.toLowerCase()]);if(this.tag){a.tag=this.tag}if(t&&t.src===this.cache_.src&&this.cache_.currentTime>0){a.startTime=this.cache_.currentTime}var o=wn.getTech(e);if(!o){throw new Error("No Tech named '"+r+"' exists! '"+r+"' should be registered using videojs.registerTech()'")}this.tech_=new o(a);this.tech_.ready(gt(this,this.handleTechReady_),true);Nt.jsonToTextTracks(this.textTracksJson_||[],this.tech_);Ai.forEach(function(e){n.on(n.tech_,e,n["handleTech"+_t(e)+"_"])});Object.keys(ji).forEach(function(t){n.on(n.tech_,t,function(e){if(n.tech_.playbackRate()===0&&n.tech_.seeking()){n.queuedCallbacks_.push({callback:n["handleTech"+ji[t]+"_"].bind(n),event:e});return}n["handleTech"+ji[t]+"_"](e)})});this.on(this.tech_,"loadstart",this.handleTechLoadStart_);this.on(this.tech_,"sourceset",this.handleTechSourceset_);this.on(this.tech_,"waiting",this.handleTechWaiting_);this.on(this.tech_,"ended",this.handleTechEnded_);this.on(this.tech_,"seeking",this.handleTechSeeking_);this.on(this.tech_,"play",this.handleTechPlay_);this.on(this.tech_,"firstplay",this.handleTechFirstPlay_);this.on(this.tech_,"pause",this.handleTechPause_);this.on(this.tech_,"durationchange",this.handleTechDurationChange_);this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_);this.on(this.tech_,"error",this.handleTechError_);this.on(this.tech_,"loadedmetadata",this.updateStyleEl_);this.on(this.tech_,"posterchange",this.handleTechPosterChange_);this.on(this.tech_,"textdata",this.handleTechTextData_);this.on(this.tech_,"ratechange",this.handleTechRateChange_);this.usingNativeControls(this.techGet_("controls"));if(this.controls()&&!this.usingNativeControls()){this.addTechControlsListeners_()}if(this.tech_.el().parentNode!==this.el()&&(r!=="Html5"||!this.tag)){at(this.tech_.el(),this.el())}if(this.tag){this.tag.player=null;this.tag=null}};d.prototype.unloadTech_=function o(){var n=this;bn.names.forEach(function(e){var t=bn[e];n[t.privateName]=n[t.getterName]()});this.textTracksJson_=Nt.textTracksToJson(this.tech_);this.isReady_=false;this.tech_.dispose();this.tech_=false;if(this.isPosterFromTech_){this.poster_="";this.trigger("posterchange")}this.isPosterFromTech_=false};d.prototype.tech=function u(e){if(e===undefined){it.warn($e(Pi))}return this.tech_};d.prototype.addTechControlsListeners_=function h(){this.removeTechControlsListeners_();this.on(this.tech_,"mousedown",this.handleTechClick_);this.on(this.tech_,"touchstart",this.handleTechTouchStart_);this.on(this.tech_,"touchmove",this.handleTechTouchMove_);this.on(this.tech_,"touchend",this.handleTechTouchEnd_);this.on(this.tech_,"tap",this.handleTechTap_)};d.prototype.removeTechControlsListeners_=function p(){this.off(this.tech_,"tap",this.handleTechTap_);this.off(this.tech_,"touchstart",this.handleTechTouchStart_);this.off(this.tech_,"touchmove",this.handleTechTouchMove_);this.off(this.tech_,"touchend",this.handleTechTouchEnd_);this.off(this.tech_,"mousedown",this.handleTechClick_)};d.prototype.handleTechReady_=function v(){this.triggerReady();if(this.cache_.volume){this.techCall_("setVolume",this.cache_.volume)}this.handleTechPosterChange_();this.handleTechDurationChange_();if((this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){it("deleting tag.poster throws in some browsers",e)}}};d.prototype.handleTechLoadStart_=function y(){this.removeClass("vjs-ended");this.removeClass("vjs-seeking");this.error(null);if(!this.paused()){this.trigger("loadstart");this.trigger("firstplay")}else{this.hasStarted(false);this.trigger("loadstart")}};d.prototype.handleTechSourceset_=function g(e){this.trigger({src:e.src,type:"sourceset"})};d.prototype.hasStarted=function m(e){if(e===undefined){return this.hasStarted_}if(e===this.hasStarted_){return}this.hasStarted_=e;if(this.hasStarted_){this.addClass("vjs-has-started");this.trigger("firstplay")}else{this.removeClass("vjs-has-started")}};d.prototype.handleTechPlay_=function _(){this.removeClass("vjs-ended");this.removeClass("vjs-paused");this.addClass("vjs-playing");this.hasStarted(true);this.trigger("play")};d.prototype.handleTechRateChange_=function b(){if(this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0){this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)});this.queuedCallbacks_=[]}this.cache_.lastPlaybackRate=this.tech_.playbackRate();this.trigger("ratechange")};d.prototype.handleTechWaiting_=function T(){var e=this;this.addClass("vjs-waiting");this.trigger("waiting");this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})};d.prototype.handleTechCanPlay_=function w(){this.removeClass("vjs-waiting");this.trigger("canplay")};d.prototype.handleTechCanPlayThrough_=function k(){this.removeClass("vjs-waiting");this.trigger("canplaythrough")};d.prototype.handleTechPlaying_=function S(){this.removeClass("vjs-waiting");this.trigger("playing")};d.prototype.handleTechSeeking_=function C(){this.addClass("vjs-seeking");this.trigger("seeking")};d.prototype.handleTechSeeked_=function E(){this.removeClass("vjs-seeking");this.trigger("seeked")};d.prototype.handleTechFirstPlay_=function O(){if(this.options_.starttime){it.warn("Passing the `starttime` option to the player will be deprecated in 6.0");this.currentTime(this.options_.starttime)}this.addClass("vjs-has-started");this.trigger("firstplay")};d.prototype.handleTechPause_=function P(){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.trigger("pause")};d.prototype.handleTechEnded_=function A(){this.addClass("vjs-ended");if(this.options_.loop){this.currentTime(0);this.play()}else if(!this.paused()){this.pause()}this.trigger("ended")};d.prototype.handleTechDurationChange_=function j(){this.duration(this.techGet_("duration"))};d.prototype.handleTechClick_=function x(e){if(!ct(e)){return}if(!this.controls_){return}if(this.paused()){this.play()}else{this.pause()}};d.prototype.handleTechTap_=function L(){this.userActive(!this.userActive())};d.prototype.handleTechTouchStart_=function I(){this.userWasActive=this.userActive()};d.prototype.handleTechTouchMove_=function M(){if(this.userWasActive){this.reportUserActivity()}};d.prototype.handleTechTouchEnd_=function D(e){e.preventDefault()};d.prototype.handleFullscreenChange_=function R(){if(this.isFullscreen()){this.addClass("vjs-fullscreen")}else{this.removeClass("vjs-fullscreen")}};d.prototype.handleStageClick_=function B(){this.reportUserActivity()};d.prototype.handleTechFullscreenChange_=function N(e,t){if(t){this.isFullscreen(t.isFullscreen)}this.trigger("fullscreenchange")};d.prototype.handleTechError_=function U(){var e=this.tech_.error();this.error(e)};d.prototype.handleTechTextData_=function F(){var e=null;if(arguments.length>1){e=arguments[1]}this.trigger("textdata",e)};d.prototype.getCache=function H(){return this.cache_};d.prototype.techCall_=function V(t,n){this.ready(function(){if(t in In){return jn(this.middleware_,this.tech_,t,n)}else if(t in Mn){return xn(this.middleware_,this.tech_,t,n)}try{if(this.tech_){this.tech_[t](n)}}catch(e){it(e);throw e}},true)};d.prototype.techGet_=function q(e){if(!this.tech_||!this.tech_.isReady_){return}if(e in Ln){return An(this.middleware_,this.tech_,e)}else if(e in Mn){return xn(this.middleware_,this.tech_,e)}try{return this.tech_[e]()}catch(t){if(this.tech_[e]===undefined){it("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t);throw t}if(t.name==="TypeError"){it("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t);this.tech_.isReady_=false;throw t}it(t);throw t}};d.prototype.play=function W(){var e=this;if(this.playOnLoadstart_){this.off("loadstart",this.playOnLoadstart_)}if(!this.isReady_){if(this.playWaitingForReady_){return}this.playWaitingForReady_=true;this.ready(function(){e.playWaitingForReady_=false;Mt(e.play())})}else if(!this.changingSrc_&&(this.src()||this.currentSrc())){return this.techGet_("play")}else{this.playOnLoadstart_=function(){e.playOnLoadstart_=null;Mt(e.play())};this.one("loadstart",this.playOnLoadstart_)}};d.prototype.pause=function z(){this.techCall_("pause")};d.prototype.paused=function G(){return this.techGet_("paused")===false?false:true};d.prototype.played=function X(){return this.techGet_("played")||kt(0,0)};d.prototype.scrubbing=function Y(e){if(typeof e==="undefined"){return this.scrubbing_}this.scrubbing_=!!e;if(e){this.addClass("vjs-scrubbing")}else{this.removeClass("vjs-scrubbing")}};d.prototype.currentTime=function K(e){if(typeof e!=="undefined"){if(e<0){e=0}this.techCall_("setCurrentTime",e);return}this.cache_.currentTime=this.techGet_("currentTime")||0;return this.cache_.currentTime};d.prototype.duration=function $(e){if(e===undefined){return this.cache_.duration!==undefined?this.cache_.duration:NaN}e=parseFloat(e);if(e<0){e=Infinity}if(e!==this.cache_.duration){this.cache_.duration=e;if(e===Infinity){this.addClass("vjs-live")}else{this.removeClass("vjs-live")}this.trigger("durationchange")}};d.prototype.remainingTime=function J(){return this.duration()-this.currentTime()};d.prototype.remainingTimeDisplay=function Q(){return Math.floor(this.duration())-Math.floor(this.currentTime())};d.prototype.buffered=function e(){var e=this.techGet_("buffered");if(!e||!e.length){e=kt(0,0)}return e};d.prototype.bufferedPercent=function Z(){return St(this.buffered(),this.duration())};d.prototype.bufferedEnd=function ee(){var e=this.buffered();var t=this.duration();var n=e.end(e.length-1);if(n>t){n=t}return n};d.prototype.volume=function te(e){var t=void 0;if(e!==undefined){t=Math.max(0,Math.min(1,parseFloat(e)));this.cache_.volume=t;this.techCall_("setVolume",t);if(t>0){this.lastVolume_(t)}return}t=parseFloat(this.techGet_("volume"));return isNaN(t)?1:t};d.prototype.muted=function ne(e){if(e!==undefined){this.techCall_("setMuted",e);return}return this.techGet_("muted")||false};d.prototype.defaultMuted=function re(e){if(e!==undefined){return this.techCall_("setDefaultMuted",e)}return this.techGet_("defaultMuted")||false};d.prototype.lastVolume_=function ie(e){if(e!==undefined&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume};d.prototype.supportsFullScreen=function ae(){return this.techGet_("supportsFullScreen")||false};d.prototype.isFullscreen=function oe(e){if(e!==undefined){this.isFullscreen_=!!e;return}return!!this.isFullscreen_};d.prototype.requestFullscreen=function se(){var t=Ct;this.isFullscreen(true);if(t.requestFullscreen){ht(Ke,t.fullscreenchange,gt(this,function n(e){this.isFullscreen(Ke[t.fullscreenElement]);if(this.isFullscreen()===false){pt(Ke,t.fullscreenchange,n)}this.trigger("fullscreenchange")}));this.el_[t.requestFullscreen]()}else if(this.tech_.supportsFullScreen()){this.techCall_("enterFullScreen")}else{this.enterFullWindow();this.trigger("fullscreenchange")}};d.prototype.exitFullscreen=function ue(){var e=Ct;this.isFullscreen(false);if(e.requestFullscreen){Ke[e.exitFullscreen]()}else if(this.tech_.supportsFullScreen()){this.techCall_("exitFullScreen")}else{this.exitFullWindow();this.trigger("fullscreenchange")}};d.prototype.enterFullWindow=function le(){this.isFullWindow=true;this.docOrigOverflow=Ke.documentElement.style.overflow;ht(Ke,"keydown",gt(this,this.fullWindowOnEscKey));Ke.documentElement.style.overflow="hidden";st(Ke.body,"vjs-full-window");this.trigger("enterFullWindow")};d.prototype.fullWindowOnEscKey=function ce(e){if(e.keyCode===27){if(this.isFullscreen()===true){this.exitFullscreen()}else{this.exitFullWindow()}}};d.prototype.exitFullWindow=function de(){this.isFullWindow=false;pt(Ke,"keydown",this.fullWindowOnEscKey);Ke.documentElement.style.overflow=this.docOrigOverflow;ut(Ke.body,"vjs-full-window");this.trigger("exitFullWindow")};d.prototype.canPlayType=function Ci(t){var n=void 0;for(var r=0,i=this.options_.techOrder;r<i.length;r++){var a=i[r];var o=wn.getTech(a);if(!o){o=wt.getComponent(a)}if(!o){it.error('The "'+a+'" tech is undefined. Skipped browser support check for that tech.');continue}if(o.isSupported()){n=o.canPlayType(t);if(n){return n}}}return""};d.prototype.selectSource=function fe(e){var i=this;var t=this.options_.techOrder.map(function(e){return[e,wn.getTech(e)]}).filter(function(e){var t=e[0],n=e[1];if(n){return n.isSupported()}it.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.');return false});var a=function a(e,n,r){var i=void 0;e.some(function(t){return n.some(function(e){i=r(t,e);if(i){return true}})});return i};var n=void 0;var r=function r(n){return function(e,t){return n(t,e)}};var o=function o(e,t){var n=e[0],r=e[1];if(r.canPlaySource(t,i.options_[n.toLowerCase()])){return{source:t,tech:n}}};if(this.options_.sourceOrder){n=a(e,t,r(o))}else{n=a(t,e,o)}return n||false};d.prototype.src=function he(e){var r=this;if(typeof e==="undefined"){return this.cache_.src||""}var i=Hn(e);if(!i.length){this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);return}this.cache_.sources=i;this.changingSrc_=true;this.cache_.source=i[0];On(this,i[0],function(e,t){r.middleware_=t;var n=r.src_(e);if(n){if(i.length>1){return r.src(i.slice(1))}r.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);r.triggerReady();return}r.changingSrc_=false;r.cache_.src=e.src;Pn(t,r.tech_)})};d.prototype.src_=function pe(e){var t=this.selectSource([e]);if(!t){return true}if(!bt(t.tech,this.techName_)){this.changingSrc_=true;this.loadTech_(t.tech,t.source);return false}this.ready(function(){if(this.tech_.constructor.prototype.hasOwnProperty("setSource")){this.techCall_("setSource",e)}else{this.techCall_("src",e.src)}},true);return false};d.prototype.load=function ve(){this.techCall_("load")};d.prototype.reset=function ye(){this.loadTech_(this.options_.techOrder[0],null);this.techCall_("reset")};d.prototype.currentSources=function ge(){var e=this.currentSource();var t=[];if(Object.keys(e).length!==0){t.push(e)}return this.cache_.sources||t};d.prototype.currentSource=function me(){return this.cache_.source||{}};d.prototype.currentSrc=function _e(){return this.currentSource()&&this.currentSource().src||""};d.prototype.currentType=function be(){return this.currentSource()&&this.currentSource().type||""};d.prototype.preload=function Te(e){if(e!==undefined){this.techCall_("setPreload",e);this.options_.preload=e;return}return this.techGet_("preload")};d.prototype.autoplay=function we(e){if(e!==undefined){this.techCall_("setAutoplay",e);this.options_.autoplay=e;return}return this.techGet_("autoplay",e)};d.prototype.playsinline=function ke(e){if(e!==undefined){this.techCall_("setPlaysinline",e);this.options_.playsinline=e;return this}return this.techGet_("playsinline")};d.prototype.loop=function Se(e){if(e!==undefined){this.techCall_("setLoop",e);this.options_.loop=e;return}return this.techGet_("loop")};d.prototype.poster=function Ce(e){if(e===undefined){return this.poster_}if(!e){e=""}if(e===this.poster_){return}this.poster_=e;this.techCall_("setPoster",e);this.isPosterFromTech_=false;this.trigger("posterchange")};d.prototype.handleTechPosterChange_=function Ee(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";if(e!==this.poster_){this.poster_=e;this.isPosterFromTech_=true;this.trigger("posterchange")}}};d.prototype.controls=function Oe(e){if(e===undefined){return!!this.controls_}e=!!e;if(this.controls_===e){return}this.controls_=e;if(this.usingNativeControls()){this.techCall_("setControls",e)}if(this.controls_){this.removeClass("vjs-controls-disabled");this.addClass("vjs-controls-enabled");this.trigger("controlsenabled");if(!this.usingNativeControls()){this.addTechControlsListeners_()}}else{this.removeClass("vjs-controls-enabled");this.addClass("vjs-controls-disabled");this.trigger("controlsdisabled");if(!this.usingNativeControls()){this.removeTechControlsListeners_()}}};d.prototype.usingNativeControls=function Pe(e){if(e===undefined){return!!this.usingNativeControls_}e=!!e;if(this.usingNativeControls_===e){return}this.usingNativeControls_=e;if(this.usingNativeControls_){this.addClass("vjs-using-native-controls");this.trigger("usingnativecontrols")}else{this.removeClass("vjs-using-native-controls");this.trigger("usingcustomcontrols")}};d.prototype.error=function Ae(e){if(e===undefined){return this.error_||null}if(e===null){this.error_=e;this.removeClass("vjs-error");if(this.errorDisplay){this.errorDisplay.close()}return}this.error_=new xt(e);this.addClass("vjs-error");it.error("(CODE:"+this.error_.code+" "+xt.errorTypes[this.error_.code]+")",this.error_.message,this.error_);this.trigger("error");return};d.prototype.reportUserActivity=function je(e){this.userActivity_=true};d.prototype.userActive=function xe(e){if(e===undefined){return this.userActive_}e=!!e;if(e===this.userActive_){return}this.userActive_=e;if(this.userActive_){this.userActivity_=true;this.removeClass("vjs-user-inactive");this.addClass("vjs-user-active");this.trigger("useractive");return}if(this.tech_){this.tech_.one("mousemove",function(e){e.stopPropagation();e.preventDefault()})}this.userActivity_=false;this.removeClass("vjs-user-active");this.addClass("vjs-user-inactive");this.trigger("userinactive")};d.prototype.listenForUserActivity_=function Le(){var t=void 0;var n=void 0;var r=void 0;var i=gt(this,this.reportUserActivity);var a=function a(e){if(e.screenX!==n||e.screenY!==r){n=e.screenX;r=e.screenY;i()}};var e=function e(){i();this.clearInterval(t);t=this.setInterval(i,250)};var o=function o(e){i();this.clearInterval(t)};this.on("mousedown",e);this.on("mousemove",a);this.on("mouseup",o);this.on("keydown",i);this.on("keyup",i);var s=void 0;this.setInterval(function(){if(!this.userActivity_){return}this.userActivity_=false;this.userActive(true);this.clearTimeout(s);var e=this.options_.inactivityTimeout;if(e<=0){return}s=this.setTimeout(function(){if(!this.userActivity_){this.userActive(false)}},e)},250)};d.prototype.playbackRate=function Ie(e){if(e!==undefined){this.techCall_("setPlaybackRate",e);return}if(this.tech_&&this.tech_.featuresPlaybackRate){return this.cache_.lastPlaybackRate||this.techGet_("playbackRate")}return 1};d.prototype.defaultPlaybackRate=function Me(e){if(e!==undefined){return this.techCall_("setDefaultPlaybackRate",e)}if(this.tech_&&this.tech_.featuresPlaybackRate){return this.techGet_("defaultPlaybackRate")}return 1};d.prototype.isAudio=function De(e){if(e!==undefined){this.isAudio_=!!e;return}return!!this.isAudio_};d.prototype.addTextTrack=function Re(e,t,n){if(this.tech_){return this.tech_.addTextTrack(e,t,n)}};d.prototype.addRemoteTextTrack=function Be(e,t){if(this.tech_){return this.tech_.addRemoteTextTrack(e,t)}};d.prototype.removeRemoteTextTrack=function Ne(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.track,n=t===undefined?arguments[0]:t;if(this.tech_){return this.tech_.removeRemoteTextTrack(n)}};d.prototype.getVideoPlaybackQuality=function Ue(){return this.techGet_("getVideoPlaybackQuality")};d.prototype.videoWidth=function Fe(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0};d.prototype.videoHeight=function He(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0};d.prototype.language=function Ve(e){if(e===undefined){return this.language_}this.language_=String(e).toLowerCase()};d.prototype.languages=function qe(){return Tt(d.prototype.options_.languages,this.languages_)};d.prototype.toJSON=function We(){var e=Tt(this.options_);var t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];r=Tt(r);r.player=undefined;e.tracks[n]=r}return e};d.prototype.createModal=function ze(e,t){var n=this;t=t||{};t.content=e||"";var r=new Ht(this,t);this.addChild(r);r.on("dispose",function(){n.removeChild(r)});r.open();return r};d.getTagSettings=function Ge(e){var t={sources:[],tracks:[]};var n=lt(e);var r=n["data-setup"];if(ot(e,"vjs-fluid")){n.fluid=true}if(r!==null){var i=Je(r||"{}"),a=i[0],o=i[1];if(a){it.error(a)}rt(n,o)}rt(t,n);if(e.hasChildNodes()){var s=e.childNodes;for(var u=0,l=s.length;u<l;u++){var c=s[u];var d=c.nodeName.toLowerCase();if(d==="source"){t.sources.push(lt(c))}else if(d==="track"){t.tracks.push(lt(c))}}}return t};d.prototype.flexNotSupported_=function Xe(){var e=Ke.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)};return d}(wt);bn.names.forEach(function(e){var t=bn[e];xi.prototype[t.getterName]=function(){if(this.tech_){return this.tech_[t.getterName]()}this[t.privateName]=this[t.privateName]||new t.ListClass;return this[t.privateName]}});xi.players={};var Li=Ye.navigator;xi.prototype.options_={techOrder:wn.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:Li&&(Li.languages&&Li.languages[0]||Li.userLanguage||Li.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."};if(!y){xi.prototype.options_.children.push("resizeManager")}["ended","seeking","seekable","networkState","readyState"].forEach(function(e){xi.prototype[e]=function(){return this.techGet_(e)}});Ai.forEach(function(e){xi.prototype["handleTech"+_t(e)+"_"]=function(){return this.trigger(e)}});wt.registerComponent("Player",xi);var Ii="plugin";var Mi="activePlugins_";var Di={};var Ri=function Ri(e){return Di.hasOwnProperty(e)};var Bi=function Bi(e){return Ri(e)?Di[e]:undefined};var Ni=function Ni(e,t){e[Mi]=e[Mi]||{};e[Mi][t]=true};var Ui=function Ui(e,t,n){var r=(n?"before":"")+"pluginsetup";e.trigger(r,t);e.trigger(r+":"+t.name,t)};var Fi=function Fi(t,n){var r=function r(){Ui(this,{name:t,plugin:n,instance:null},true);var e=n.apply(this,arguments);Ni(this,t);Ui(this,{name:t,plugin:n,instance:e});return e};Object.keys(n).forEach(function(e){r[e]=n[e]});return r};var Hi=function Hi(i,a){a.prototype.name=i;return function(){Ui(this,{name:i,plugin:a,instance:null},true);for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}var r=new(Function.prototype.bind.apply(a,[null].concat([this].concat(t))));this[i]=function(){return r};Ui(this,r.getEventHash());return r}};var Vi=function(){function n(e){et(this,n);if(this.constructor===n){throw new Error("Plugin must be sub-classed; not directly instantiated.")}this.player=e;mt(this);delete this.trigger;We(this,this.constructor.defaultState);Ni(e,this.name);this.dispose=gt(this,this.dispose);e.on("dispose",this.dispose)}n.prototype.version=function Qe(){return this.constructor.VERSION};n.prototype.getEventHash=function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};e.name=this.name;e.plugin=this.constructor;e.instance=this;return e};n.prototype.trigger=function Qi(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return Ce(this.eventBusEl_,t,this.getEventHash(n))};n.prototype.handleStateChanged=function r(e){};n.prototype.dispose=function i(){var e=this.name,t=this.player;this.trigger("dispose");this.off();t.off("dispose",this.dispose);t[Mi][e]=false;this.player=this.state=null;t[e]=Hi(e,Di[e])};n.isBasic=function a(e){var t=typeof e==="string"?Bi(e):e;return typeof t==="function"&&!n.prototype.isPrototypeOf(t.prototype)};n.registerPlugin=function o(e,t){if(typeof e!=="string"){throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+(typeof e==="undefined"?"undefined":w(e))+".")}if(Ri(e)){it.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!')}else if(xi.prototype.hasOwnProperty(e)){throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!')}if(typeof t!=="function"){throw new Error('Illegal plugin for "'+e+'", must be a function, was '+(typeof t==="undefined"?"undefined":w(t))+".")}Di[e]=t;if(e!==Ii){if(n.isBasic(t)){xi.prototype[e]=Fi(e,t)}else{xi.prototype[e]=Hi(e,t)}}return t};n.deregisterPlugin=function s(e){if(e===Ii){throw new Error("Cannot de-register base plugin.")}if(Ri(e)){delete Di[e];delete xi.prototype[e]}};n.getPlugins=function u(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Object.keys(Di);var n=void 0;e.forEach(function(e){var t=Bi(e);if(t){n=n||{};n[e]=t}});return n};n.getPluginVersion=function l(e){var t=Bi(e);return t&&t.VERSION||""};return n}();Vi.getPlugin=Bi;Vi.BASE_PLUGIN_NAME=Ii;Vi.registerPlugin(Ii,Vi);xi.prototype.usingPlugin=function(e){return!!this[Mi]&&this[Mi][e]===true};xi.prototype.hasPlugin=function(e){return!!Ri(e)};var qi=function qi(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof t==="undefined"?"undefined":w(t)))}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t){e.super_=t}};var Wi=function Wi(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=function n(){e.apply(this,arguments)};var r={};if((typeof t==="undefined"?"undefined":w(t))==="object"){if(t.constructor!==Object.prototype.constructor){n=t.constructor}r=t}else if(typeof t==="function"){n=t}qi(n,e);for(var i in r){if(r.hasOwnProperty(i)){n.prototype[i]=r[i]}}return n};if(typeof HTMLVideoElement==="undefined"&&z()){Ke.createElement("video");Ke.createElement("audio");Ke.createElement("track");Ke.createElement("video-js")}var zi=function zi(e){return e.indexOf("#")===0?e.slice(1):e};function Gi(e,n,t){var r=Gi.getPlayer(e);if(r){if(n){it.warn('Player "'+e+'" is already initialised. Options will not be applied.')}if(t){r.ready(t)}return r}var i=typeof e==="string"?dt("#"+zi(e)):e;if(!G(i)){throw new TypeError("The element or ID supplied is not valid. (videojs)")}if(!Ke.body.contains(i)){it.warn("The element supplied is not included in the DOM")}n=n||{};Gi.hooks("beforesetup").forEach(function(e){var t=e(i,Tt(n));if(!I(t)||Array.isArray(t)){it.error("please return an object in beforesetup hooks");return}n=Tt(n,t)});var a=wt.getComponent("Player");r=new a(i,n,t);Gi.hooks("setup").forEach(function(e){return e(r)});return r}Gi.hooks_={};Gi.hooks=function(e,t){Gi.hooks_[e]=Gi.hooks_[e]||[];if(t){Gi.hooks_[e]=Gi.hooks_[e].concat(t)}return Gi.hooks_[e]};Gi.hook=function(e,t){Gi.hooks(e,t)};Gi.hookOnce=function(n,e){Gi.hooks(n,[].concat(e).map(function(e){var t=function t(){Gi.removeHook(n,t);return e.apply(undefined,arguments)};return t}))};Gi.removeHook=function(e,t){var n=Gi.hooks(e).indexOf(t);if(n<=-1){return false}Gi.hooks_[e]=Gi.hooks_[e].slice();Gi.hooks_[e].splice(n,1);return true};if(Ye.VIDEOJS_NO_DYNAMIC_STYLE!==true&&z()){var Xi=dt(".vjs-styles-defaults");if(!Xi){Xi=vt("vjs-styles-defaults");var Yi=dt("head");if(Yi){Yi.insertBefore(Xi,Yi.firstChild)}yt(Xi,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}xe(1,Gi);Gi.VERSION=Qe;Gi.options=xi.prototype.options_;Gi.getPlayers=function(){return xi.players};Gi.getPlayer=function(e){var t=xi.players;var n=void 0;if(typeof e==="string"){var r=zi(e);var i=t[r];if(i){return i}n=dt("#"+r)}else{n=e}if(G(n)){var a=n,o=a.player,s=a.playerId;if(o||t[s]){return o||t[s]}}};Gi.getAllPlayers=function(){return Object.keys(xi.players).map(function(e){return xi.players[e]}).filter(Boolean)};Gi.players=xi.players;Gi.getComponent=wt.getComponent;Gi.registerComponent=function(e,t){if(wn.isTech(t)){it.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)")}wt.registerComponent.call(wt,e,t)};Gi.getTech=wn.getTech;Gi.registerTech=wn.registerTech;Gi.use=En;if(!y&&Object.defineProperty){Object.defineProperty(Gi,"middleware",{value:{},writeable:false,enumerable:true});Object.defineProperty(Gi.middleware,"TERMINATOR",{value:Cn,writeable:false,enumerable:true})}else{Gi.middleware={TERMINATOR:Cn}}Gi.browser=T;Gi.TOUCH_ENABLED=A;Gi.extend=Wi;Gi.mergeOptions=Tt;Gi.bind=gt;Gi.registerPlugin=Vi.registerPlugin;Gi.plugin=function(e,t){it.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead");return Vi.registerPlugin(e,t)};Gi.getPlugins=Vi.getPlugins;Gi.getPlugin=Vi.getPlugin;Gi.getPluginVersion=Vi.getPluginVersion;Gi.addLanguage=function(e,t){var n;e=(""+e).toLowerCase();Gi.options.languages=Tt(Gi.options.languages,(n={},n[e]=t,n));return Gi.options.languages[e]};Gi.log=it;Gi.createTimeRange=Gi.createTimeRanges=kt;Gi.formatTime=sr;Gi.setFormatTime=ar;Gi.resetFormatTime=or;Gi.parseUrl=nn;Gi.isCrossOrigin=on;Gi.EventTarget=Me;Gi.on=ht;Gi.one=Ee;Gi.off=pt;Gi.trigger=Ce;Gi.xhr=a;Gi.TextTrack=cn;Gi.AudioTrack=dn;Gi.VideoTrack=fn;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){Gi[e]=function(){it.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead");return he[e].apply(null,arguments)}});Gi.computedStyle=F;Gi.dom=he;Gi.url=sn;e.exports=Gi},function(i,e,a){(function(e){var t=typeof e!=="undefined"?e:typeof window!=="undefined"?window:{};var n=a(106);var r;if(typeof document!=="undefined"){r=document}else{r=t["__GLOBAL_DOCUMENT_CACHE@4"];if(!r){r=t["__GLOBAL_DOCUMENT_CACHE@4"]=n}}i.exports=r}).call(e,a(3))},function(n,e,t){(function(e){var t;if(typeof window!=="undefined"){t=window}else if(typeof e!=="undefined"){t=e}else if(typeof self!=="undefined"){t=self}else{t={}}n.exports=t}).call(e,t(3))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(e){return e&&e.__esModule?e:{"default":e}}var i=n(0);var a=r(i);var o=a["default"].registerPlugin||a["default"].plugin;var s={cancel:true,sensitivity:10,wait:500,disabled:false};var u="vjs-contextmenu";function l(e,t){if(e.contextmenu.options.disabled){return e}var n={target:e,type:u};["clientX","clientY","pageX","pageY","screenX","screenY"].forEach(function(e){n[e]=t[e]});return e.trigger(n)}function c(e){var t=this.contextmenu.current;if(!t){return}var n=this.contextmenu.options.wait;if(e.type==="touchend"&&Number(new Date)-t.time>=n){l(this,e)}this.contextmenu.current=null}function d(e){var t=this.contextmenu.current;if(!t){return}var n=e.touches[0];var r=this.contextmenu.options.sensitivity;if(n.screenX-t.screenX>r||n.screenY-t.screenY>r){this.contextmenu.current=null}}function f(e){if(this.contextmenu.current){return}var t=e.touches[0];this.contextmenu.current={screenX:t.screenX,screenY:t.screenY,time:Number(new Date)}}function h(e){if(this.contextmenu.options.cancel&&!this.contextmenu.options.disabled){e.preventDefault()}l(this,e);this.off(["touchcancel","touchend"],c);this.off("touchmove",d);this.off("touchstart",f)}function p(e){var t=this;this.contextmenu.options=a["default"].mergeOptions(s,e);this.contextmenu.VERSION="__VERSION__";this.on("contextmenu",h);this.on(["touchcancel","touchend"],c);this.on("touchmove",d);this.on("touchstart",f);this.ready(function(){return t.addClass(u)})}o("contextmenu",p);p.VERSION="__VERSION__";t["default"]=p;e.exports=t["default"]},function(u,l,p){(function(r,W){var c;var c;var o,s;!function d(a,o,s){function u(n,e){if(!o[n]){if(!a[n]){var t="function"==typeof c&&c;if(!e&&t)return c(n,!0);if(l)return l(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=o[n]={exports:{}};a[n][0].call(i.exports,function(e){var t=a[n][1][e];return u(t||e)},i,i.exports,d,a,o,s)}return o[n].exports}for(var l="function"==typeof c&&c,e=0;e<s.length;e++)u(s[e]);return u}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var d=function(){function n(e,t){var n=[],r=!0,i=!1,a=undefined;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw a}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=e(32),f=function(e){return e&&e.__esModule?e:{"default":e}}(r),h=function(e,t){for(var n=e.cues,r=0;r<n.length;r++){var i=n[r];if(t>=i.adStartTime&&t<=i.adEndTime)return i}return null},i=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?0:arguments[2];if(e.segments)for(var r=n,i=undefined,a=0;a<e.segments.length;a++){var o=e.segments[a];if(i||(i=h(t,r+o.duration/2)),i){if("cueIn"in o){i.endTime=r,i.adEndTime=r,r+=o.duration,i=null;continue}if(r<i.endTime){r+=o.duration;continue}i.endTime+=o.duration}else if("cueOut"in o&&(i=new f["default"].VTTCue(r,r+o.duration,o.cueOut),i.adStartTime=r,i.adEndTime=r+parseFloat(o.cueOut),t.addCue(i)),"cueOutCont"in o){var s=undefined,u=undefined,l=o.cueOutCont.split("/").map(parseFloat),c=d(l,2);s=c[0],u=c[1],i=new f["default"].VTTCue(r,r+o.duration,""),i.adStartTime=r-s,i.adEndTime=i.adStartTime+u,t.addCue(i)}r+=o.duration}};n["default"]={updateAdCues:i,findAdCue:h},t.exports=n["default"]},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t){return e.start(t)+"-"+e.end(t)},o=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},s=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},i=function(n){var r={};return Object.keys(n).forEach(function(e){var t=n[e];ArrayBuffer.isView(t)?r[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:r[e]=t}),r},a=function(e){var t=e.byterange||{length:Infinity,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},u={hexDump:function(e){for(var t=Array.prototype.slice.call(e),n="",r=undefined,i=undefined,a=0;a<t.length/16;a++)r=t.slice(16*a,16*a+16).map(o).join(""),i=t.slice(16*a,16*a+16).map(s).join(""),n+=r+" "+i+"\n";return n},tagDump:function(e){return u.hexDump(e.bytes)},textRanges:function(e){var t="",n=undefined;for(n=0;n<e.length;n++)t+=r(e,n)+" ";return t},createTransferableMessage:i,initSegmentId:a};n["default"]=u,t.exports=n["default"]},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},t.exports=n["default"]},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(32),a=function(e){return e&&e.__esModule?e:{"default":e}}(r),o=e(25),s=e(2),i=function(e){e.onmessage=function(e){var n=e.data,t=new Uint8Array(n.encrypted.bytes,n.encrypted.byteOffset,n.encrypted.byteLength),r=new Uint32Array(n.key.bytes,n.key.byteOffset,n.key.byteLength/4),i=new Uint32Array(n.iv.bytes,n.iv.byteOffset,n.iv.byteLength/4);new o.Decrypter(t,r,i,function(e,t){a["default"].postMessage((0,s.createTransferableMessage)({source:n.source,decrypted:t}),[t.buffer])})}};n["default"]=function(e){return new i(e)},t.exports=n["default"]},{}],5:[function(H,e,V){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(V,"__esModule",{value:!0});var t=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),p=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=a,n=o,r=!0,s=l=undefined}},n=H(9),v=r(n),o=H(11),i=H(16),y=r(i),s=H(20),g=r(s),u=H(12),l=r(u),c="undefined"!=typeof window?W:void 0!==e?e.videojs:null,m=r(c),d=H(1),_=r(d),f=H(18),b=r(f),T=H(65),w=H(76),k=r(w),S=H(4),C=r(S),E=H(3),O=r(E),P=H(19),A=H(6),j=undefined,x={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},L=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],I=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},M=function(){var e=undefined;try{e=H.resolve("./decrypter-worker")}catch(V){}return e},D=function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return(0,T.translateLegacyCodecs)([e])[0]})};V.mapLegacyAvcCodecs_=D;var R=function(e,t,n){return e+"/"+t+'; codecs="'+n.filter(function(e){return!!e}).join(", ")+'"'},B=function(e){return e.segments&&e.segments.length&&e.segments[0].map?"mp4":"mp2t"},N=function(e){var t=e.attributes||{};return t.CODECS?(0,P.parseCodecs)(t.CODECS):x},U=function(e,t){var n=B(t),r=N(t),i=t.attributes||{},a=!0,o=!1;if(!t)return[];if(e.mediaGroups.AUDIO&&i.AUDIO){var s=e.mediaGroups.AUDIO[i.AUDIO];if(s){o=!0,a=!1;for(var u in s)if(!s[u].uri){a=!0;break}}}o&&!r.audioProfile&&(m["default"].log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),r.audioProfile=x.audioProfile);var l={};r.videoCodec&&(l.video=""+r.videoCodec+r.videoObjectTypeIndicator),r.audioProfile&&(l.audio="mp4a.40."+r.audioProfile);var c=R("audio",n,[l.audio]),d=R("video",n,[l.video]),f=R("video",n,[l.video,l.audio]);return o?!a&&l.video?[d,c]:[f,c]:l.video?[f]:[c]};V.mimeTypesForPlaylist_=U;var F=function(e){function f(e){var t=this;h(this,f),p(Object.getPrototypeOf(f.prototype),"constructor",this).call(this);var n=e.url,r=e.withCredentials,i=e.mode,a=e.tech,o=e.bandwidth,s=e.externHls,u=e.useCueTags,l=e.blacklistDuration,c=e.enableLowInitialPlaylist;if(!n)throw new Error("A non-empty playlist URL is required");j=s,this.withCredentials=r,this.tech_=a,this.hls_=a.hls,this.mode_=i,this.useCueTags_=u,this.blacklistDuration=l,this.enableLowInitialPlaylist=c,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:this.withCredentials,timeout:null},this.mediaTypes_=(0,A.createMediaTypes)(),this.mediaSource=new m["default"].MediaSource({mode:i}),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_.bind(this)),this.seekable_=m["default"].createTimeRanges(),this.hasPlayed_=function(){return!1},this.syncController_=new b["default"](e),this.segmentMetadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=(0,k["default"])(C["default"],M());var d={hls:this.hls_,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:function(){return t.seekable()},seeking:function(){return t.tech_.seeking()},duration:function(){return t.mediaSource.duration},hasPlayed:function(){return t.hasPlayed_()},goalBufferLength:function(){return t.goalBufferLength()},bandwidth:o,syncController:this.syncController_,decrypter:this.decrypter_};this.masterPlaylistLoader_=new v["default"](n,this.hls_,this.withCredentials),this.setupMasterPlaylistLoaderListeners_(),this.mainSegmentLoader_=new y["default"](m["default"].mergeOptions(d,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new y["default"](m["default"].mergeOptions(d,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new g["default"](m["default"].mergeOptions(d,{loaderType:"vtt"}),e),this.setupSegmentLoaderListeners_(),L.forEach(function(e){t[e+"_"]=I.bind(t,e)}),this.masterPlaylistLoader_.load()}return a(f,e),t(f,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var n=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=n.masterPlaylistLoader_.media(),t=1.5*n.masterPlaylistLoader_.targetDuration*1e3;(0,o.isLowestEnabledRendition)(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=t,e.endList&&"none"!==n.tech_.preload()&&(n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.mainSegmentLoader_.load()),(0,A.setupMediaGroups)({segmentLoaders:{AUDIO:n.audioSegmentLoader_,SUBTITLES:n.subtitleSegmentLoader_,main:n.mainSegmentLoader_},tech:n.tech_,requestOptions:n.requestOptions_,masterPlaylistLoader:n.masterPlaylistLoader_,mode:n.mode_,hls:n.hls_,master:n.master(),mediaTypes:n.mediaTypes_,blacklistCurrentPlaylist:n.blacklistCurrentPlaylist.bind(n)}),n.triggerPresenceUsage_(n.master(),e);try{n.setupSourceBuffers_()}catch(r){return m["default"].log.warn("Failed to create SourceBuffers",r),n.mediaSource.endOfStream("decode")}n.setupFirstPlay(),n.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var e=n.masterPlaylistLoader_.media();if(!e){var t=undefined;return n.enableLowInitialPlaylist&&(t=n.selectInitialPlaylist()),t||(t=n.selectPlaylist()),n.initialMedia_=t,void n.masterPlaylistLoader_.media(n.initialMedia_)}n.useCueTags_&&n.updateAdCues_(e),n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.updateDuration(),n.tech_.paused()||n.mainSegmentLoader_.load(),e.endList||function(){var t=function(){var e=n.seekable();0!==e.length&&n.mediaSource.addSeekableRange_(e.start(0),e.end(0))};n.duration()!==Infinity?function(){var e=function r(){n.duration()===Infinity?t():n.tech_.one("durationchange",r)};n.tech_.one("durationchange",e)}():t()}()}),this.masterPlaylistLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){n.mainSegmentLoader_.abort(),n.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=n.masterPlaylistLoader_.media(),t=1.5*n.masterPlaylistLoader_.targetDuration*1e3;(0,o.isLowestEnabledRendition)(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=t,n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.mainSegmentLoader_.load(),n.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=n.masterPlaylistLoader_.media();n.stuckAtPlaylistEnd_(e)&&(n.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),n.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){n.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){n.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(e,t){var n=e.mediaGroups||{},r=!0,i=Object.keys(n.AUDIO);for(var a in n.AUDIO)for(var o in n.AUDIO[a]){var s=n.AUDIO[a][o];s.uri||(r=!1)}r&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),j.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),j.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),i.length&&Object.keys(n.AUDIO[i[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var a=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var e=a.selectPlaylist(),t=a.masterPlaylistLoader_.media(),n=a.tech_.buffered(),r=n.length?n.end(n.length-1)-a.tech_.currentTime():0,i=a.bufferLowWaterLine();(!t.endList||a.duration()<O["default"].MAX_BUFFER_LOW_WATER_LINE||e.attributes.BANDWIDTH<t.attributes.BANDWIDTH||r>=i)&&a.masterPlaylistLoader_.media(e),a.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){a.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){a.blacklistCurrentPlaylist(a.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){a.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){a.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){a.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){a.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(e){a.tech_.trigger({type:"hls-segment-time-mapping",mapping:e.mapping})}),this.audioSegmentLoader_.on("ended",function(){a.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"fastQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===Infinity&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var t=this,e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_())return!1;if(!e.endList){var n=function(){var e=t.seekable();return e.length?m["default"].browser.IE_VERSION&&"html5"===t.mode_&&0===t.tech_.readyState()?(t.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.tech_.setCurrentTime(e.end(0)),t.hasPlayed_=function(){return!0}}),{v:!1}):(t.trigger("firstplay"),void t.tech_.setCurrentTime(e.end(0))):{v:!1}}();if("object"==typeof n)return n.v}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(f){return m["default"].log.warn("Failed to create Source Buffers",f),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(e){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=e&&this.audioSegmentLoader_.ended_),e&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null===t)return!1;var n=j.Playlist.playlistEnd(e,t),r=this.tech_.currentTime(),i=this.tech_.buffered();if(!i.length)return n-r<=l["default"].SAFE_TIME_DELTA;var a=i.end(i.length-1);return a-r<=l["default"].SAFE_TIME_DELTA&&n-a<=l["default"].SAFE_TIME_DELTA}},{key:"blacklistCurrentPlaylist",value:function(e,t){e===undefined&&(e={});var n=undefined,r=undefined;if(n=e.playlist||this.masterPlaylistLoader_.media(),t=t||e.blacklistDuration||this.blacklistDuration,!n){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(a){return this.trigger("error")}}var i=1===this.masterPlaylistLoader_.master.playlists.filter(o.isEnabled).length;return i?(m["default"].log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(i)):(n.excludeUntil=Date.now()+1e3*t,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),r=this.selectPlaylist(),m["default"].log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(r))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=l["default"].findRange(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length&&"flash"!==this.mode_?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:j.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=undefined,t=undefined;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var r=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(null!==r&&(e=j.Playlist.seekable(n,r),0!==e.length)){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(r=this.syncController_.getExpiredTime(n,this.mediaSource.duration)))return;if(t=j.Playlist.seekable(n,r),0===t.length)return}t?t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=m["default"].createTimeRanges([[t.start(0)>e.start(0)?t.start(0):e.start(0),t.end(0)<e.end(0)?t.end(0):e.end(0)]]):this.seekable_=e,this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){var t=this,e=this.mediaSource.duration,n=j.Playlist.duration(this.masterPlaylistLoader_.media()),r=this.tech_.buffered(),i=function a(){t.mediaSource.duration=n,t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",a)};r.length>0&&(n=Math.max(n,r.end(r.length-1))),e!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",i):i())}},{key:"dispose",value:function(){var r=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(e){var t=r.mediaTypes_[e].groups;for(var n in t)t[n].forEach(function(e){e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e=this.masterPlaylistLoader_.media(),t=undefined;if(e&&"open"===this.mediaSource.readyState){if(t=U(this.masterPlaylistLoader_.master,e),t.length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+e.resolvedUri,this.mediaSource.endOfStream("decode");this.mainSegmentLoader_.mimeType(t[0]),t[1]&&this.audioSegmentLoader_.mimeType(t[1]),this.excludeIncompatibleVariants_(e)}}},{key:"excludeIncompatibleVariants_",value:function(e){var t=this.masterPlaylistLoader_.master,r=2,i=null,n=undefined;e.attributes.CODECS&&(n=(0,P.parseCodecs)(e.attributes.CODECS),i=n.videoCodec,r=n.codecCount),t.playlists.forEach(function(e){var t={codecCount:2,videoCodec:null};if(e.attributes.CODECS){var n=e.attributes.CODECS;t=(0,P.parseCodecs)(n),window.MediaSource&&window.MediaSource.isTypeSupported&&!window.MediaSource.isTypeSupported('video/mp4; codecs="'+D(n)+'"')&&(e.excludeUntil=Infinity)}t.codecCount!==r&&(e.excludeUntil=Infinity),t.videoCodec!==i&&(e.excludeUntil=Infinity)})}},{key:"updateAdCues_",value:function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),_["default"].updateAdCues(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=O["default"].GOAL_BUFFER_LENGTH,n=O["default"].GOAL_BUFFER_LENGTH_RATE,r=Math.max(t,O["default"].MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,r)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=O["default"].BUFFER_LOW_WATER_LINE,n=O["default"].BUFFER_LOW_WATER_LINE_RATE,r=Math.max(t,O["default"].MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,r)}}]),f}(m["default"].EventTarget);V.MasterPlaylistController=F}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(s,e,u){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(u,"__esModule",{value:!0});var n="undefined"!=typeof window?W:void 0!==e?e.videojs:null,v=t(n),r=s(9),y=t(r),i=function(){},g=function(e){var t=e["default"]?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},c=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)};u.stopLoaders=c;var l=function(e,t){t.activePlaylistLoader=e,e.load()};u.startLoaders=l;var d=function(s,u){return function(){var e=u.segmentLoaders,t=e[s],n=e.main,r=u.mediaTypes[s],i=r.activeTrack(),a=r.activeGroup(i),o=r.activePlaylistLoader;if(c(t,r),a){if(!a.playlistLoader)return void(o&&n.resetEverything());t.resyncLoader(),l(a.playlistLoader,r)}}};u.onGroupChanged=d;var f=function(s,u){return function(){var e=u.segmentLoaders,t=e[s],n=e.main,r=u.mediaTypes[s],i=r.activeTrack(),a=r.activeGroup(i),o=r.activePlaylistLoader;if(c(t,r),a){if(!a.playlistLoader)return void n.resetEverything();if(o===a.playlistLoader)return void l(a.playlistLoader,r);t.track&&t.track(i),t.resetEverything(),l(a.playlistLoader,r)}}};u.onTrackChanged=f;var m={AUDIO:function(u,l){return function(){var e=l.segmentLoaders[u],t=l.mediaTypes[u],n=l.blacklistCurrentPlaylist;c(e,t);var r=t.activeTrack(),i=t.activeGroup(),a=(i.filter(function(e){return e["default"]})[0]||i[0]).id,o=t.tracks[a];if(r===o)return void n({message:"Problem encountered loading the default audio track."});v["default"].log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var s in t.tracks)t.tracks[s].enabled=t.tracks[s]===o;t.onTrackChanged()}},SUBTITLES:function(r,i){return function(){var e=i.segmentLoaders[r],t=i.mediaTypes[r];v["default"].log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),c(e,t);var n=t.activeTrack();n&&(n.mode="disabled"),t.onTrackChanged()}}};u.onError=m;var _={AUDIO:function(e,t,n){if(t){var r=n.tech,i=n.requestOptions,a=n.segmentLoaders[e];t.on("loadedmetadata",function(){var e=t.media();a.playlist(e,i),(!r.paused()||e.endList&&"none"!==r.preload())&&a.load()}),t.on("loadedplaylist",function(){a.playlist(t.media(),i),r.paused()||a.load()}),t.on("error",m[e](e,n))}},SUBTITLES:function(e,t,n){var r=n.tech,i=n.requestOptions,a=n.segmentLoaders[e],o=n.mediaTypes[e];t.on("loadedmetadata",function(){var e=t.media();a.playlist(e,i),a.track(o.activeTrack()),(!r.paused()||e.endList&&"none"!==r.preload())&&a.load()}),t.on("loadedplaylist",function(){a.playlist(t.media(),i),r.paused()||a.load()}),t.on("error",m[e](e,n))}};u.setupListeners=_;var h={AUDIO:function(e,t){var n=t.mode,r=t.hls,i=t.segmentLoaders[e],a=t.requestOptions.withCredentials,o=t.master.mediaGroups,s=t.mediaTypes[e],u=s.groups,l=s.tracks;o[e]&&0!==Object.keys(o[e]).length&&"html5"===n||(o[e]={main:{"default":{"default":!0}}});for(var c in o[e]){u[c]||(u[c]=[]);for(var d in o[e][c]){var f=o[e][c][d],h=undefined;if(h=f.resolvedUri?new y["default"](f.resolvedUri,r,a):null,f=v["default"].mergeOptions({id:d,playlistLoader:h},f),_[e](e,f.playlistLoader,t),u[c].push(f),"undefined"==typeof l[d]){var p=new v["default"].AudioTrack({id:d,kind:g(f),enabled:!1,language:f.language,"default":f["default"],label:d});l[d]=p}}}i.on("error",m[e](e,t))},SUBTITLES:function(e,t){var n=t.tech,r=t.hls,i=t.segmentLoaders[e],a=t.requestOptions.withCredentials,o=t.master.mediaGroups,s=t.mediaTypes[e],u=s.groups,l=s.tracks;for(var c in o[e]){u[c]||(u[c]=[]);for(var d in o[e][c])if(!o[e][c][d].forced){var f=o[e][c][d];if(f=v["default"].mergeOptions({id:d,playlistLoader:new y["default"](f.resolvedUri,r,a)},f),_[e](e,f.playlistLoader,t),u[c].push(f),"undefined"==typeof l[d]){var h=n.addRemoteTextTrack({id:d,kind:"subtitles",enabled:!1,language:f.language,label:d},!1).track;l[d]=h}}}i.on("error",m[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var n=t.tech,r=t.master.mediaGroups,i=t.mediaTypes[e],a=i.groups,o=i.tracks;for(var s in r[e]){a[s]||(a[s]=[]);for(var u in r[e][s]){var l=r[e][s][u];if(l.instreamId.match(/CC\d/)&&(a[s].push(v["default"].mergeOptions({id:u},l)),"undefined"==typeof o[u])){var c=n.addRemoteTextTrack({id:l.instreamId,kind:"captions",enabled:!1,language:l.language,label:u},!1).track;o[u]=c}}}}};u.initialize=h;var p=function(a,o){return function(t){var e=o.masterPlaylistLoader,n=o.mediaTypes[a].groups,r=e.media();if(!r)return null;var i=null;return r.attributes[a]&&(i=n[r.attributes[a]]),i=i||n.main,void 0===t?i:null===t?null:i.filter(function(e){return e.id===t.id})[0]||null}};u.activeGroup=p;var b={AUDIO:function(n,r){return function(){var e=r.mediaTypes[n].tracks;for(var t in e)if(e[t].enabled)return e[t];return null}},SUBTITLES:function(n,r){return function(){var e=r.mediaTypes[n].tracks;for(var t in e)if("showing"===e[t].mode)return e[t];return null}}};u.activeTrack=b;var a=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){h[e](e,t)});var n=t.mediaTypes,e=t.masterPlaylistLoader,r=t.tech,i=t.hls;["AUDIO","SUBTITLES"].forEach(function(e){n[e].activeGroup=p(e,t),n[e].activeTrack=b[e](e,t),n[e].onGroupChanged=d(e,t),n[e].onTrackChanged=f(e,t)});var a=n.AUDIO.activeGroup(),o=(a.filter(function(e){return e["default"]})[0]||a[0]).id;n.AUDIO.tracks[o].enabled=!0,n.AUDIO.onTrackChanged(),e.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return n[e].onGroupChanged()})});var s=function(){n.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"hls-audio-change"})};r.audioTracks().addEventListener("change",s),r.remoteTextTracks().addEventListener("change",n.SUBTITLES.onTrackChanged),i.on("dispose",function(){r.audioTracks().removeEventListener("change",s),r.remoteTextTracks().removeEventListener("change",n.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(var u in n.AUDIO.tracks)r.audioTracks().addTrack(n.AUDIO.tracks[u])};u.setupMediaGroups=a;var o=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:i,activeTrack:i,onGroupChanged:i,onTrackChanged:i}}),t};u.createMediaTypes=o}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(d,e,f){(function(e){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var t="undefined"!=typeof window?W:void 0!==e?e.videojs:null,g=function(e){return e&&e.__esModule?e:{"default":e}}(t),n=d(2),s={FAILURE:2,TIMEOUT:-101,ABORTED:-102};f.REQUEST_ERRORS=s;var r=function(e){var t=(undefined,undefined);return t=e.offset+e.length-1,"bytes="+e.offset+"-"+t},m=function(e){var t={};return e.byterange&&(t.Range=r(e.byterange)),t},_=function(e){e.forEach(function(e){e.abort()})},o=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},i=function(e){var t=e.target,n=Date.now()-t.requestTime,r={bandwidth:Infinity,bytesReceived:0,roundTripTime:n||0};return r.bytesReceived=e.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},u=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:s.TIMEOUT,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:s.ABORTED,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:s.FAILURE,xhr:t}:null},b=function(a,o){return function(e,t){var n=t.response,r=u(e,t);if(r)return o(r,a);if(16!==n.byteLength)return o({status:t.status,message:"Invalid HLS key at URL: "+t.uri,code:s.FAILURE,xhr:t},a);var i=new DataView(n);return a.key.bytes=new Uint32Array([i.getUint32(0),i.getUint32(4),i.getUint32(8),i.getUint32(12)]),o(null,a)}},T=function(i,a){return function(e,t){var n=t.response,r=u(e,t);return r?a(r,i):0===n.byteLength?a({status:t.status,message:"Empty HLS segment content at URL: "+t.uri,code:s.FAILURE,xhr:t},i):(i.map.bytes=new Uint8Array(t.response),a(null,i))}},w=function(i,a){return function(e,t){var n=t.response,r=u(e,t);return r?a(r,i):0===n.byteLength?a({status:t.status,message:"Empty HLS segment content at URL: "+t.uri,code:s.FAILURE,xhr:t},i):(i.stats=o(t),i.key?i.encryptedBytes=new Uint8Array(t.response):i.bytes=new Uint8Array(t.response),a(null,i))}},l=function(r,i,a){var e=function g(t){if(t.data.source===i.requestId){r.removeEventListener("message",g);var n=t.data.decrypted;return i.bytes=new Uint8Array(n.bytes,n.byteOffset,n.byteLength),a(null,i)}};r.addEventListener("message",e),r.postMessage((0,n.createTransferableMessage)({source:i.requestId,encrypted:i.encryptedBytes,key:i.key.bytes,iv:i.key.iv}),[i.encryptedBytes.buffer,i.key.bytes.buffer])},c=function(e){return e.reduce(function(e,t){return t.code>e.code?t:e})},k=function(r,i,a){var o=[],s=0;return function(e,t){if(e&&(_(r),o.push(e)),(s+=1)===r.length){if(t.endOfAllRequests=Date.now(),o.length>0){var n=c(o);return a(n,t)}return t.encryptedBytes?l(i,t,a):a(null,t)}}},S=function(t,n){return function(e){return t.stats=g["default"].mergeOptions(t.stats,i(e)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),n(e,t)}},a=function(e,t,n,r,i,a){var o=[],s=k(o,n,a);if(r.key){var u=g["default"].mergeOptions(t,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),l=b(r,s),c=e(u,l);o.push(c)}if(r.map&&!r.map.bytes){var d=g["default"].mergeOptions(t,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:m(r.map)}),f=T(r,s),h=e(d,f);o.push(h)}var p=g["default"].mergeOptions(t,{uri:r.resolvedUri,responseType:"arraybuffer",headers:m(r)}),v=w(r,s),y=e(p,v);return y.addEventListener("progress",S(r,i)),o.push(y),function(){return _(o)}};f.mediaSegmentRequest=a}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(f,h,p){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(p,"__esModule",{value:!0});var n=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),r=f(32),u=t(r),i=f(12),l=t(i),a="undefined"!=typeof window?W:void 0!==e?e.videojs:null,c=t(a),d=["seeking","seeked","pause","playing","error"],o=function(){function o(e){var t=this;s(this,o),this.tech_=e.tech,this.seekable=e.seekable,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,e.debug&&(this.logger_=c["default"].log.bind(c["default"],"playback-watcher ->")),this.logger_("initialize");var n=function(){return t.monitorCurrentTime_()},r=function(){return t.techWaiting_()},i=function(){return t.cancelTimer_()},a=function(){return t.fixesBadSeeks_()};this.tech_.on("seekablechanged",a),this.tech_.on("waiting",r),this.tech_.on(d,i),this.tech_.on("canplay",n),this.dispose=function(){t.logger_("dispose"),t.tech_.off("seekablechanged",a),t.tech_.off("waiting",r),t.tech_.off(d,i),t.tech_.off("canplay",n),t.checkCurrentTimeTimeout_&&u["default"].clearTimeout(t.checkCurrentTimeTimeout_),t.cancelTimer_()}}return n(o,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&u["default"].clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=u["default"].setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+l["default"].SAFE_TIME_DELTA>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var e=this.tech_.seeking(),t=this.seekable(),n=this.tech_.currentTime(),r=undefined;if(e&&this.afterSeekableWindow_(t,n)){r=t.end(t.length-1)}if(e&&this.beforeSeekableWindow_(t,n)){r=t.start(0)+l["default"].SAFE_TIME_DELTA}return void 0!==r&&(this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+l["default"].printableRange(t)+". Seeking to "+r+"."),this.tech_.setCurrentTime(r),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),n=l["default"].findRange(t,e);return n.length&&e+3<=n.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var r=this.tech_.buffered(),i=l["default"].findNextRange(r,t);if(this.videoUnderflow_(i,r,t))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(i.length>0){var a=i.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+a+", seeking to "+i.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,t),!0}return!1}},{key:"afterSeekableWindow_",value:function(e,t){return!!e.length&&t>e.end(e.length-1)+l["default"].SAFE_TIME_DELTA}},{key:"beforeSeekableWindow_",value:function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-l["default"].SAFE_TIME_DELTA)}},{key:"videoUnderflow_",value:function(e,t,n){if(0===e.length){var r=this.gapFromVideoUnderflow_(t,n);if(r)return this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),r=l["default"].findNextRange(t,n);this.cancelTimer_(),0!==r.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.tech_.setCurrentTime(r.start(0)+l["default"].TIME_FUDGE_FACTOR),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var n=l["default"].findGaps(e),r=0;r<n.length;r++){var i=n.start(r),a=n.end(r);if(t-i<4&&t-i>2)return{start:i,end:a}}return null}},{key:"logger_",value:function(){}}]),o}();p["default"]=o,h.exports=p["default"]}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(b,e,T){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(T,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=a,n=o,r=!0,s=l=undefined}},i=b(15),s=t(i),u="undefined"!=typeof window?W:void 0!==e?e.videojs:null,l=b(33),c=t(l),d=b(32),f=t(d),h=function(e,t,n){var r=t.slice();n=n||0;for(var i=Math.min(e.length,t.length+n),a=n;a<i;a++)r[a-n]=(0,u.mergeOptions)(e[a],r[a-n]);return r};T.updateSegments=h;var p=function(e,t){e.resolvedUri||(e.resolvedUri=(0,s["default"])(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=(0,s["default"])(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=(0,s["default"])(t,e.map.uri))};T.resolveSegmentUris=p;var v=function(e,t){var n=(0,u.mergeOptions)(e,{}),r=n.playlists.filter(function(e){return e.uri===t.uri})[0];if(!r)return null;if(r.segments&&t.segments&&r.segments.length===t.segments.length&&r.mediaSequence===t.mediaSequence)return null;var i=(0,u.mergeOptions)(r,t);r.segments&&(i.segments=h(r.segments,t.segments,t.mediaSequence-r.mediaSequence)),i.segments.forEach(function(e){p(e,i.resolvedUri)});for(var a=0;a<n.playlists.length;a++)n.playlists[a].uri===t.uri&&(n.playlists[a]=i);return n.playlists[t.uri]=i,n};T.updateMaster=v;var y=function(e){for(var t=e.playlists.length;t--;){var n=e.playlists[t];e.playlists[n.uri]=n,n.resolvedUri=(0,s["default"])(e.uri,n.uri),n.attributes||(n.attributes={},u.log.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}};T.setupMediaPlaylists=y;var g=function(i){["AUDIO","SUBTITLES"].forEach(function(e){for(var t in i.mediaGroups[e])for(var n in i.mediaGroups[e][t]){var r=i.mediaGroups[e][t][n];r.uri&&(r.resolvedUri=(0,s["default"])(i.uri,r.uri))}})};T.resolveMediaGroupUris=g;var m=function(e,t){var n=e.segments[e.segments.length-1];undefined;return t&&n&&n.duration?1e3*n.duration:500*(e.targetDuration||10)};T.refreshDelay=m;var _=function(e){function i(e,t,n){var r=this;if(a(this,i),o(Object.getPrototypeOf(i.prototype),"constructor",this).call(this),this.srcUrl=e,this.hls_=t,this.withCredentials=n,!this.srcUrl)throw new Error("A non-empty playlist URL is required");this.state="HAVE_NOTHING",this.on("mediaupdatetimeout",function(){"HAVE_METADATA"===r.state&&(r.state="HAVE_CURRENT_METADATA",r.request=r.hls_.xhr({uri:(0,s["default"])(r.master.uri,r.media().uri),withCredentials:r.withCredentials},function(e,t){if(r.request)return e?r.playlistRequestError(r.request,r.media().uri,"HAVE_METADATA"):void r.haveMetadata(r.request,r.media().uri)}))})}return n(i,e),r(i,[{key:"playlistRequestError",value:function(e,t,n){this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t,responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t){var n=this;this.request=null,this.state="HAVE_METADATA";var r=new c["default"].Parser;r.push(e.responseText),r.end(),r.manifest.uri=t,r.manifest.attributes=r.manifest.attributes||{};var i=v(this.master,r.manifest);this.targetDuration=r.manifest.targetDuration,i?(this.master=i,this.media_=this.master.playlists[r.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(f["default"].clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=f["default"].setTimeout(function(){n.trigger("mediaupdatetimeout")},m(this.media(),!!i))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),f["default"].clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(n){var r=this;if(!n)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var i=this.state;if("string"==typeof n){if(!this.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.master.playlists[n]}var e=!this.media_||n.uri!==this.media_.uri;if(this.master.playlists[n.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=n,void(e&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(e){if(this.state="SWITCHING_MEDIA",this.request){if((0,s["default"])(this.master.uri,n.uri)===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:(0,s["default"])(this.master.uri,n.uri),withCredentials:this.withCredentials},function(e,t){if(r.request){if(e)return r.playlistRequestError(r.request,n.uri,i);r.haveMetadata(t,n.uri),"HAVE_MASTER"===i?r.trigger("loadedmetadata"):r.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest(),f["default"].clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;f["default"].clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(e){var r=n?n.targetDuration/2*1e3:5e3;return void(this.mediaUpdateTimeout=f["default"].setTimeout(function(){return t.load()},r))}if(!this.started)return void this.start();n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}},{key:"start",value:function(){var r=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,t){if(r.request){if(r.request=null,e)return r.error={status:t.status,message:"HLS playlist request error at URL: "+r.srcUrl,responseText:t.responseText,code:2},"HAVE_NOTHING"===r.state&&(r.started=!1),r.trigger("error");var n=new c["default"].Parser;return n.push(t.responseText),(n.end(),r.state="HAVE_MASTER",n.manifest.uri=r.srcUrl,n.manifest.playlists)?(r.master=n.manifest,y(r.master),g(r.master),r.trigger("loadedplaylist"),void(r.request||r.media(n.manifest.playlists[0]))):(r.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:f["default"].location.href,playlists:[{uri:r.srcUrl}]},r.master.playlists[r.srcUrl]=r.master.playlists[0],r.master.playlists[0].resolvedUri=r.srcUrl,r.master.playlists[0].attributes=r.master.playlists[0].attributes||{},r.haveMetadata(t,r.srcUrl),r.trigger("loadedmetadata"))}})}}]),i}(u.EventTarget);T["default"]=_}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e(3),y=r(i),a=e(11),g=r(a),o=e(19),s=function(e,t){var n=undefined;return e?(n=window.getComputedStyle(e),n?n[t]:""):""},m=function(e,r){var i=e.slice();e.sort(function(e,t){var n=r(e,t);return 0===n?i.indexOf(e)-i.indexOf(t):n})},p=function(e,t){var n=undefined,r=undefined;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||window.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),r=r||window.Number.MAX_VALUE,n-r};n.comparePlaylistBandwidth=p;var u=function(e,t){var n=undefined,r=undefined;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||window.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),r=r||window.Number.MAX_VALUE,n===r&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-r};n.comparePlaylistResolution=u;var l=function(e,t,n,r){var i=e.playlists.map(function(e){var t=undefined,n=undefined,r=undefined;return t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,r=e.attributes.BANDWIDTH,r=r||window.Number.MAX_VALUE,{bandwidth:r,width:t,height:n,playlist:e}});m(i,function(e,t){return e.bandwidth-t.bandwidth}),i=i.filter(function(e){return!g["default"].isIncompatible(e.playlist)});var a=i.filter(function(e){return g["default"].isEnabled(e.playlist)});a.length||(a=i.filter(function(e){return!g["default"].isDisabled(e.playlist)}));var o=a.filter(function(e){return e.bandwidth*y["default"].BANDWIDTH_VARIANCE<t}),s=o[o.length-1],u=o.filter(function(e){return e.bandwidth===s.bandwidth})[0],l=o.filter(function(e){return e.width&&e.height});m(l,function(e,t){return e.width-t.width});var c=l.filter(function(e){return e.width===n&&e.height===r});s=c[c.length-1];var d=c.filter(function(e){return e.bandwidth===s.bandwidth})[0],f=undefined,h=undefined,p=undefined;d||(f=l.filter(function(e){return e.width>n||e.height>r}),h=f.filter(function(e){return e.width===f[0].width&&e.height===f[0].height}),s=h[h.length-1],p=h.filter(function(e){return e.bandwidth===s.bandwidth})[0]);var v=p||d||u||a[0]||i[0];return v?v.playlist:null};n.simpleSelector=l;var c=function(){return l(this.playlists.master,this.systemBandwidth,parseInt(s(this.tech_.el(),"width"),10),parseInt(s(this.tech_.el(),"height"),10))};n.lastBandwidthSelector=c;var d=function(e){var t=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){return t<0&&(t=this.systemBandwidth),t=e*this.systemBandwidth+(1-e)*t,l(this.playlists.master,t,parseInt(s(this.tech_.el(),"width"),10),parseInt(s(this.tech_.el(),"height"),10))}};n.movingAverageBandwidthSelector=d;var f=function(e){var t=e.master,r=e.currentTime,i=e.bandwidth,a=e.duration,o=e.segmentDuration,s=e.timeUntilRebuffer,u=e.currentTimeline,l=e.syncController,n=t.playlists.filter(function(e){return!g["default"].isIncompatible(e)}),c=n.filter(g["default"].isEnabled);c.length||(c=n.filter(function(e){return!g["default"].isDisabled(e)}));var d=c.filter(g["default"].hasAttribute.bind(null,"BANDWIDTH")),f=d.map(function(e){var t=l.getSyncPoint(e,a,u,r),n=t?1:2;return{playlist:e,rebufferingImpact:g["default"].estimateSegmentRequestTime(o,i,e)*n-s}}),h=f.filter(function(e){return e.rebufferingImpact<=0});return m(h,function(e,t){return p(t.playlist,e.playlist)}),h.length?h[0]:(m(f,function(e,t){return e.rebufferingImpact-t.rebufferingImpact}),f[0]||null)};n.minRebufferMaxBandwidthSelector=f;var h=function(){var e=this.playlists.master.playlists.filter(g["default"].isEnabled);return m(e,function(e,t){return p(e,t)}),e.filter(function(e){return(0,o.parseCodecs)(e.attributes.CODECS).videoCodec})[0]||null};n.lowestBitrateCompatibleVariantSelector=h},{}],11:[function(E,e,O){(function(e){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var i="undefined"!=typeof window?W:void 0!==e?e.videojs:null,t=E(32),r=function(e){return e&&e.__esModule?e:{"default":e}}(t),a=function(e,t){var n=0,r=t-e.mediaSequence,i=e.segments[r];if(i){if("undefined"!=typeof i.start)return{result:i.start,precise:!0};if("undefined"!=typeof i.end)return{result:i.end-i.duration,precise:!0}}for(;r--;){if(i=e.segments[r],"undefined"!=typeof i.end)return{result:n+i.end,precise:!0};if(n+=i.duration,"undefined"!=typeof i.start)return{result:n+i.start,precise:!0}}return{result:n,precise:!1}},o=function(e,t){for(var n=0,r=undefined,i=t-e.mediaSequence;i<e.segments.length;i++){if(r=e.segments[i],"undefined"!=typeof r.start)return{result:r.start-n,precise:!0};if(n+=r.duration,"undefined"!=typeof r.end)return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}},s=function(e,t,n){var r=undefined,i=undefined;return void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(r=a(e,t),r.precise?r.result:(i=o(e,t),i.precise?i.result:r.result+n))},u=function(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return r["default"].Infinity}return s(e,t,n)};O.duration=u;var l=function(e,t,n){var r=0;if(t>n){var i=[n,t];t=i[0],n=i[1]}if(t<0){for(var a=t;a<Math.min(0,n);a++)r+=e.targetDuration;t=0}for(var a=t;a<n;a++)r+=e.segments[a].duration;return r};O.sumDurations=l;var c=function(e){if(!e.segments.length)return 0;for(var t=e.segments.length-1,n=e.segments[t].duration||e.targetDuration,r=n+2*e.targetDuration;t--&&!((n+=e.segments[t].duration)>=r););return Math.max(0,t)};O.safeLiveIndex=c;var d=function(e,t,n){if(!e||!e.segments)return null;if(e.endList)return u(e);if(null===t)return null;t=t||0;var r=n?c(e):e.segments.length;return s(e,e.mediaSequence+r,t)};O.playlistEnd=d;var n=function(e,t){var n=t||0,r=d(e,t,!0);return null===r?(0,i.createTimeRange)():(0,i.createTimeRange)(n,r)};O.seekable=n;var f=function(e){return e-Math.floor(e)==0},h=function(e,t){if(f(t))return t+.1*e;for(var n=t.toString().split(".")[1].length,r=1;r<=n;r++){var i=Math.pow(10,r),a=t*i;if(f(a)||r===n)return(a+e)/i}},p=h.bind(null,1),v=h.bind(null,-1),y=function(e,t,n,r){var i=undefined,a=undefined,o=e.segments.length,s=t-r;if(s<0){if(n>0)for(i=n-1;i>=0;i--)if(a=e.segments[i],(s+=v(a.duration))>0)return{mediaIndex:i,startTime:r-l(e,n,i)};return{mediaIndex:0,startTime:t}}if(n<0){for(i=n;i<0;i++)if((s-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};n=0}for(i=n;i<o;i++)if(a=e.segments[i],(s-=p(a.duration))<0)return{mediaIndex:i,startTime:r+l(e,n,i)};return{mediaIndex:o-1,startTime:t}};O.getMediaInfoForTime=y;var g=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()};O.isBlacklisted=g;var m=function(e){return e.excludeUntil&&e.excludeUntil===Infinity};O.isIncompatible=m;var _=function(e){var t=g(e);return!e.disabled&&!t};O.isEnabled=_;var b=function(e){return e.disabled};O.isDisabled=b;var T=function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1};O.isAes=T;var w=function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].map)return!0;return!1};O.isFmp4=w;var k=function(e,t){return t.attributes&&t.attributes[e]};O.hasAttribute=k;var S=function(e,t,n){var r=arguments.length<=3||arguments[3]===undefined?0:arguments[3];return k("BANDWIDTH",n)?(e*n.attributes.BANDWIDTH-8*r)/t:NaN};O.estimateSegmentRequestTime=S;var C=function(e,t){if(1===e.playlists.length)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(function(e){return!!_(e)&&(e.attributes.BANDWIDTH||0)<n}).length};O.isLowestEnabledRendition=C,O["default"]={duration:u,seekable:n,safeLiveIndex:c,getMediaInfoForTime:y,isEnabled:_,isDisabled:b,isBlacklisted:g,isIncompatible:m,playlistEnd:d,isAes:T,isFmp4:w,hasAttribute:k,estimateSegmentRequestTime:S,isLowestEnabledRendition:C}}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(e,v,y){(function(e){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var a=function(){function n(e,t){var n=[],r=!0,i=!1,a=undefined;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw a}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t="undefined"!=typeof window?W:void 0!==e?e.videojs:null,u=function(e){return e&&e.__esModule?e:{"default":e}}(t),l=function(e,t){var n=a(t,2),r=n[0],i=n[1];return Math.min(Math.max(r,e),i)},r=function(e,t){var n=[],r=undefined;if(e&&e.length)for(r=0;r<e.length;r++)t(e.start(r),e.end(r))&&n.push([e.start(r),e.end(r)]);return u["default"].createTimeRanges(n)},c=function(e,n){return r(e,function(e,t){return e-1/30<=n&&t+1/30>=n})},n=function(e,t){return r(e,function(e){return e-1/30>=t})},i=function(e){if(e.length<2)return u["default"].createTimeRanges();for(var t=[],n=1;n<e.length;n++){var r=e.end(n-1),i=e.start(n);t.push([r,i])}return u["default"].createTimeRanges(t)},o=function(e,t){var n=undefined,r=undefined,i=undefined,a=[],o=[],s=function(e){return e[0]<=i&&e[1]>=i};if(e)for(n=0;n<e.length;n++)r=e.start(n),i=e.end(n),o.push([r,i]);if(t)for(n=0;n<t.length;n++)r=t.start(n),i=t.end(n),o.some(s)||a.push(i);return 1!==a.length?null:a[0]},f=function(e,t){var n=null,r=null,i=0,a=[],o=[];if(!(e&&e.length&&t&&t.length))return u["default"].createTimeRange();for(var s=e.length;s--;)a.push({time:e.start(s),type:"start"}),a.push({time:e.end(s),type:"end"});for(s=t.length;s--;)a.push({time:t.start(s),type:"start"}),a.push({time:t.end(s),type:"end"});for(a.sort(function(e,t){return e.time-t.time}),s=0;s<a.length;s++)"start"===a[s].type?2===++i&&(n=a[s].time):"end"===a[s].type&&1===--i&&(r=a[s].time),null!==n&&null!==r&&(o.push([n,r]),n=null,r=null);return u["default"].createTimeRanges(o)},d=function(e,t,n,r){for(var i=t.end(0)-t.start(0),a=e.end(0)-e.start(0),o=i-a,s=f(e,r),u=f(t,r),l=0,c=0,d=s.length;d--;)l+=s.end(d)-s.start(d),s.start(d)===n&&(l+=o);for(d=u.length;d--;)c+=u.end(d)-u.start(d);return Math.max(l,c)/i*100},s=function(e,t,n,r){var i=e+t,a=u["default"].createTimeRanges([[e,i]]),o=u["default"].createTimeRanges([[l(e,[n,i]),i]]);if(o.start(0)===o.end(0))return 0;var s=d(o,a,n,r);return isNaN(s)||s===Infinity||s===-Infinity?0:s},h=function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},p=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?1:arguments[2];return((e.length?e.end(e.length-1):0)-t)/n};y["default"]={findRange:c,findNextRange:n,findGaps:i,findSoleUncommonTimeRangesEnd:o,getSegmentBufferedPercent:s,TIME_FUDGE_FACTOR:1/30,SAFE_TIME_DELTA:.1,printableRange:h,timeUntilRebuffer:p},v.exports=y["default"]}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(e,i,a){(function(e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t="undefined"!=typeof window?W:void 0!==e?e.videojs:null,d=function(e){return e&&e.__esModule?e:{"default":e}}(t),f={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},n=function h(t,e){var n=0,r=0,i=d["default"].mergeOptions(f,e);t.ready(function(){t.trigger({type:"usage",name:"hls-error-reload-initialized"})});var a=function(){r&&t.currentTime(r)},o=function(e){null!==e&&e!==undefined&&(r=t.duration()!==Infinity&&t.currentTime()||0,t.one("loadedmetadata",a),t.src(e),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},s=function(){return Date.now()-n<1e3*i.errorInterval?void t.trigger({type:"usage",name:"hls-error-reload-canceled"}):i.getSource&&"function"==typeof i.getSource?(n=Date.now(),i.getSource.call(t,o)):void d["default"].log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},u=function c(){t.off("loadedmetadata",a),t.off("error",s),t.off("dispose",c)},l=function(e){u(),h(t,e)};t.on("error",s),t.on("dispose",u),t.reloadSourceOnError=l},r=function(e){n(this,e)};a["default"]=r,i.exports=a["default"]}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=e(11),o=function(i,a,o){return function(e){var t=i.master.playlists[a],n=(0,s.isIncompatible)(t),r=(0,s.isEnabled)(t);return void 0===e?r:(e?delete t.disabled:t.disabled=!0,e===r||n||(o(),e?i.trigger("renditionenabled"):i.trigger("renditiondisabled")),e)}},r=function u(e,t,n){a(this,u);var r=e.masterPlaylistController_.fastQualityChange_.bind(e.masterPlaylistController_);if(t.attributes.RESOLUTION){var i=t.attributes.RESOLUTION;this.width=i.width,this.height=i.height}this.bandwidth=t.attributes.BANDWIDTH,this.id=n,this.enabled=o(e.playlists,t.uri,r)},i=function(n){var e=n.playlists;n.representations=function(){return e.master.playlists.filter(function(e){return!(0,s.isIncompatible)(e)}).map(function(e,t){return new r(n,e,e.uri)})}};n["default"]=i,t.exports=n["default"]},{}],15:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e(63),a=r(i),o=e(32),s=r(o),u=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=a["default"].buildAbsoluteURL(s["default"].location.href,e)),a["default"].buildAbsoluteURL(e,t))};n["default"]=u,t.exports=n["default"]},{}],16:[function(O,e,P){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(P,"__esModule",{value:!0});var a=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=a,n=o,r=!0,s=l=undefined}},r=O(11),d=t(r),s="undefined"!=typeof window?W:void 0!==e?e.videojs:null,u=t(s),l=O(17),c=t(l),f=O(3),h=t(f),p=O(32),v=t(p),y=O(72),g=t(y),m=O(2),_=O(7),b=O(12),T=O(10),w=function(e,t,n){if(!e||!t)return!1;var r=e.segments,i=n===r.length;return e.endList&&"open"===t.readyState&&i},k=function(e){return"number"==typeof e&&isFinite(e)},S=function(e,t,n){return"main"===e&&t&&n?n.containsAudio||n.containsVideo?t.containsVideo&&!n.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.containsVideo&&n.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null};P.illegalMediaSwitch=S;var C=function(e,t,n){var r=undefined;return r=e.length&&e.start(0)>0&&e.start(0)<t?e.start(0):t-30,Math.min(r,t-n)};P.safeBackBufferTrimTime=C;var E=function(e){function r(e){var t=this,n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];if(i(this,r),o(Object.getPrototypeOf(r.prototype),"constructor",this).call(this),!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.state="INIT",this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.hls_=e.hls,this.loaderType_=e.loaderType,this.startingMedia_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.mimeType_=null,this.sourceUpdater_=null,this.xhrOptions_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.syncController_.on("syncinfoupdate",function(){return t.trigger("syncinfoupdate")}),this.mediaSource_.addEventListener("sourceopen",function(){return t.ended_=!1}),this.fetchAtBuffer_=!1,n.debug&&(this.logger_=u["default"].log.bind(u["default"],"segment-loader",this.loaderType_,"->"))}return n(r,e),a(r,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_()}},{key:"abort",value:function(){if("WAITING"!==this.state)return void(this.pendingSegment_&&(this.pendingSegment_=null));this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return void 0!==e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():u["default"].createTimeRanges()}},{key:"initSegment",value:function(e){var t=!(arguments.length<=1||arguments[1]===undefined)&&arguments[1];if(!e)return null;var n=(0,m.initSegmentId)(e),r=this.initSegments_[n];return t&&!r&&e.bytes&&(this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes}),r||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new c["default"](this.mediaSource_,this.mimeType_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];if(e){var n=this.playlist_,r=this.pendingSegment_;if(this.playlist_=e,this.xhrOptions_=t,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0}),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri)return void(null!==this.mediaIndex&&this.resyncLoader());var i=e.mediaSequence-n.mediaSequence;this.logger_("mediaSequenceDiff",i),null!==this.mediaIndex&&(this.mediaIndex-=i),r&&(r.mediaIndex-=i,r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,e)}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(v["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e){this.mimeType_||(this.mimeType_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_()),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t){this.sourceUpdater_&&this.sourceUpdater_.remove(e,t),(0,g["default"])(e,t,this.segmentMetadataTrack_)}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&v["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=v["default"].setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&v["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=v["default"].setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e){if(w(this.playlist_,this.mediaSource_,e.mediaIndex))return void this.endOfStream();(e.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((e.timeline!==this.currentTimeline_||null!==e.startOfSegment&&e.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment),this.loadSegment_(e))}}}},{key:"checkBuffer_",value:function(e,t,n,r,i,a){var o=0,s=undefined;e.length&&(o=e.end(e.length-1));var u=Math.max(0,o-i);if(!t.segments.length)return null;if(u>=this.goalBufferLength_())return null;if(!r&&u>=1)return null;if(this.logger_("checkBuffer_","mediaIndex:",n,"hasPlayed:",r,"currentTime:",i,"syncPoint:",a,"fetchAtBuffer:",this.fetchAtBuffer_,"bufferedTime:",u),null===a)return n=this.getSyncSegmentCandidate_(t),this.logger_("getSync","mediaIndex:",n),this.generateSegmentInfo_(t,n,null,!0);if(null!==n){this.logger_("walkForward","mediaIndex:",n+1);var l=t.segments[n];return s=l&&l.end?l.end:o,this.generateSegmentInfo_(t,n+1,s,!1)}if(this.fetchAtBuffer_){var c=d["default"].getMediaInfoForTime(t,o,a.segmentIndex,a.time);n=c.mediaIndex,s=c.startTime}else{var c=d["default"].getMediaInfoForTime(t,i,a.segmentIndex,a.time);n=c.mediaIndex,s=c.startTime}return this.logger_("getMediaIndexForTime","mediaIndex:",n,"startOfSegment:",s),this.generateSegmentInfo_(t,n,s,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(-1===this.currentTimeline_)return 0;var n=e.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===t.currentTimeline_});return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,n,r){if(t<0||t>=e.segments.length)return null;var i=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:i.resolvedUri,mediaIndex:t,isSyncRequest:r,startOfSegment:n,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:i.timeline,duration:i.duration,segment:i}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),n=e.bandwidth,r=this.pendingSegment_.duration,i=d["default"].estimateSegmentRequestTime(r,n,this.playlist_,e.bytesReceived),a=(0,b.timeUntilRebuffer)(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(i<=a)return!1;var o=(0,T.minRebufferMaxBandwidthSelector)({master:this.hls_.playlists.master,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(o){var s=i-a,u=s-o.rebufferingImpact,l=.5;return a<=b.TIME_FUDGE_FACTOR&&(l=1),!o.playlist||o.playlist.uri===this.playlist_.uri||u<l?!1:(this.bandwidth=o.playlist.attributes.BANDWIDTH*h["default"].BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=(0,_.mediaSegmentRequest)(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){var t=C(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,n={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var r=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);n.key={resolvedUri:t.key.resolvedUri,iv:r}}return t.map&&(n.map=this.initSegment(t.map)),n}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),!this.pendingSegment_)return void(this.mediaRequestsAborted+=1);if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===_.REQUEST_ERRORS.ABORTED?void(this.mediaRequestsAborted+=1):(this.pause(),e.code===_.REQUEST_ERRORS.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),this.processSegmentResponse_(t)}}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,this.handleSegment_()}},{key:"handleSegment_",value:function(){var n=this;if(!this.pendingSegment_)return void(this.state="READY");var e=this.pendingSegment_,r=e.segment,t=this.syncController_.probeSegmentInfo(e);"undefined"==typeof this.startingMedia_&&t&&(t.containsAudio||t.containsVideo)&&(this.startingMedia_={containsAudio:t.containsAudio,containsVideo:t.containsVideo});var i=S(this.loaderType_,this.startingMedia_,t);if(i)return this.error({message:i,blacklistDuration:Infinity}),void this.trigger("error");if(e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==e.timestampOffset&&e.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(e.timestampOffset),this.trigger("timestampoffset"));var a=this.syncController_.mappingForTimeline(e.timeline);null!==a&&this.trigger({type:"segmenttimemapping",mapping:a}),this.state="APPENDING",r.map&&function(){var e=(0,m.initSegmentId)(r.map);if(!n.activeInitSegmentId_||n.activeInitSegmentId_!==e){var t=n.initSegment(r.map);n.sourceUpdater_.appendBuffer(t.bytes,function(){n.activeInitSegmentId_=e})}}(),e.byteLength=e.bytes.byteLength,"number"==typeof r.start&&"number"==typeof r.end?this.mediaSecondsLoaded+=r.end-r.start:this.mediaSecondsLoaded+=r.duration,this.sourceUpdater_.appendBuffer(e.bytes,this.handleUpdateEnd_.bind(this))}},{key:"handleUpdateEnd_",value:function(){if(this.logger_("handleUpdateEnd_","segmentInfo:",this.pendingSegment_),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,n=null!==this.mediaIndex;if(this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration)return void this.resetEverything();n&&this.trigger("bandwidthupdate"),this.trigger("progress"),w(e.playlist,this.mediaSource_,e.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_()}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(r-t)/++this.throughput.count}},{key:"logger_",value:function(){}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,r=t.end;if(k(n)&&k(r)){(0,g["default"])(n,r,this.segmentMetadataTrack_);var i=v["default"].WebKitDataCue||v["default"].VTTCue,a={bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:n,end:r},o=JSON.stringify(a),s=new i(n,r,o);s.value=a,this.segmentMetadataTrack_.addCue(s)}}}}]),r}(u["default"].EventTarget);P["default"]=E}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(e,s,u){(function(e){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(u,"__esModule",{value:!0});var t=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),n="undefined"!=typeof window?W:void 0!==e?e.videojs:null,r=function(e){return e&&e.__esModule?e:{"default":e}}(n),o=function(){},i=function(){function i(e,t){var n=this;a(this,i);var r=function(){n.sourceBuffer_=e.addSourceBuffer(t),n.onUpdateendCallback_=function(){var e=n.pendingCallback_;n.pendingCallback_=null,e&&e(),n.runCallback_()},n.sourceBuffer_.addEventListener("updateend",n.onUpdateendCallback_),n.runCallback_()};this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=e,this.processedAppend_=!1,"closed"===e.readyState?e.addEventListener("sourceopen",r):r()}return t(i,[{key:"abort",value:function(e){var t=this;this.processedAppend_&&this.queueCallback_(function(){t.sourceBuffer_.abort()},e)}},{key:"appendBuffer",value:function(e,t){var n=this;this.processedAppend_=!0,this.queueCallback_(function(){n.sourceBuffer_.appendBuffer(e)},t)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:r["default"].createTimeRanges()}},{key:"remove",value:function(e,t){var n=this;this.processedAppend_&&this.queueCallback_(function(){n.sourceBuffer_.remove(e,t)},o)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(e){var t=this;return void 0!==e&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=e}),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=undefined;!this.updating()&&this.callbacks_.length&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),i}();u["default"]=i,s.exports=u["default"]}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(p,e,v){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(v,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=a,n=o,r=!0,s=l=undefined}},o=p(57),s=t(o),u=p(59),l=p(11),c="undefined"!=typeof window?W:void 0!==e?e.videojs:null,d=t(c),f=[{name:"VOD",run:function(e,t,n,r,i){if(n!==Infinity){return{time:0,segmentIndex:0}}return null}},{name:"ProgramDateTime",run:function(e,t,n,r,i){if(e.datetimeToDisplayTime&&t.dateTimeObject){return{time:t.dateTimeObject.getTime()/1e3+e.datetimeToDisplayTime,segmentIndex:0}}return null}},{name:"Segment",run:function(e,t,n,r,i){var a=t.segments||[],o=null,s=null;i=i||0;for(var u=0;u<a.length;u++){var l=a[u];if(l.timeline===r&&"undefined"!=typeof l.start){var c=Math.abs(i-l.start);if(null!==s&&s<c)break;(!o||null===s||s>=c)&&(s=c,o={time:l.start,segmentIndex:u})}}return o}},{name:"Discontinuity",run:function(e,t,n,r,i){var a=null;if(i=i||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var o=null,s=0;s<t.discontinuityStarts.length;s++){var u=t.discontinuityStarts[s],l=t.discontinuitySequence+s+1,c=e.discontinuities[l];if(c){var d=Math.abs(i-c.time);if(null!==o&&o<d)break;(!a||null===o||o>=d)&&(o=d,a={time:c.time,segmentIndex:u})}}return a}},{name:"Playlist",run:function(e,t,n,r,i){if(t.syncInfo){return{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}}return null}}];v.syncPointStrategies=f;var h=function(e){function t(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.inspectCache_=undefined,this.timelines=[],this.discontinuities=[],this.datetimeToDisplayTime=null,e.debug&&(this.logger_=d["default"].log.bind(d["default"],"sync-controller ->"))}return r(t,e),i(t,[{key:"getSyncPoint",value:function(e,t,n,r){var i=this.runStrategies_(e,t,n,r);return i.length?this.selectSyncPoint_(i,{key:"time",value:r}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;var r=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+(0,l.sumDurations)(e,r.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,n,r){for(var i=[],a=0;a<f.length;a++){var o=f[a],s=o.run(this,e,t,n,r);s&&(s.strategy=o.name,i.push({strategy:o.name,syncPoint:s}),this.logger_("syncPoint found via <"+o.name+">:",s))}return i}},{key:"selectSyncPoint_",value:function(e,t){for(var n=e[0].syncPoint,r=Math.abs(e[0].syncPoint[t.key]-t.value),i=e[0].strategy,a=1;a<e.length;a++){var o=Math.abs(e[a].syncPoint[t.key]-t.value);o<r&&(r=o,n=e[a].syncPoint,i=e[a].strategy)}return this.logger_("syncPoint with strategy <"+i+"> chosen: ",n),n}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var n=t.mediaSequence-e.mediaSequence,r=n-1;r>=0;r--){var i=e.segments[r];if(i&&"undefined"!=typeof i.start){t.syncInfo={mediaSequence:e.mediaSequence+r,time:i.start},this.logger_("playlist sync:",t.syncInfo),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.dateTimeObject){var t=e.dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=undefined}},{key:"probeSegmentInfo",value:function(e){var t=e.segment,n=e.playlist,r=undefined;return r=t.map?this.probeMp4Segment_(e):this.probeTsSegment_(e),r&&this.calculateSegmentTimeMapping_(e,r)&&(this.saveDiscontinuitySyncInfo_(e),n.syncInfo||(n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:t.start})),r}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,n=s["default"].timescale(t.map.bytes),r=s["default"].startTime(n,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=r),{start:r,end:r+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=(0,u.inspect)(e.bytes,this.inspectCache_),n=undefined,r=undefined;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,n=t.video[0].dtsTime,r=t.video[1].dtsTime):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,n=t.audio[0].dtsTime,r=t.audio[1].dtsTime),{start:n,end:r,containsVideo:t.video&&2===t.video.length,containsAudio:t.audio&&2===t.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var n=e.segment,r=this.timelines[e.timeline];if(null!==e.timestampOffset)this.logger_("tsO:",e.timestampOffset),r={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=r,this.trigger("timestampoffset"),n.start=e.startOfSegment,n.end=t.end+r.mapping;else{if(!r)return!1;n.start=t.start+r.mapping,n.end=t.end+r.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts.length)for(var r=0;r<t.discontinuityStarts.length;r++){var i=t.discontinuityStarts[r],a=t.discontinuitySequence+r+1,o=i-e.mediaIndex,s=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>s){var u=undefined;u=o<0?n.start-(0,l.sumDurations)(t,e.mediaIndex,i):n.end+(0,l.sumDurations)(t,e.mediaIndex+1,i),this.discontinuities[a]={time:u,accuracy:s}}}}},{key:"logger_",value:function(){}}]),t}(d["default"].EventTarget);v["default"]=h}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){var e=arguments.length<=0||arguments[0]===undefined?"":arguments[0],t={codecCount:0},n=undefined;return t.codecCount=e.split(",").length,t.codecCount=t.codecCount||2,n=/(^|\s|,)+(avc1)([^ ,]*)/i.exec(e),n&&(t.videoCodec=n[2],t.videoObjectTypeIndicator=n[3]),t.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e),t.audioProfile=t.audioProfile&&t.audioProfile[2],t};n.parseCodecs=r},{}],20:[function(m,_,b){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(b,"__esModule",{value:!0});var a=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=a,n=o,r=!0,s=l=undefined}},n=m(16),s=i(n),u="undefined"!=typeof window?W:void 0!==e?e.videojs:null,l=i(u),c=m(32),d=i(c),f=m(72),h=i(f),p=m(2),v=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),y=function(e){return String.fromCharCode.apply(null,e)},g=function(e){function n(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];r(this,n),o(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e,t),this.mediaSource_=null,this.subtitlesTrack_=null}return t(n,e),a(n,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return l["default"].createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,n=e[e.length-1].startTime;return l["default"].createTimeRanges([[t,n]])}},{key:"initSegment",value:function(e){var t=!(arguments.length<=1||arguments[1]===undefined)&&arguments[1];if(!e)return null;var n=(0,p.initSegmentId)(e),r=this.initSegments_[n];if(t&&!r&&e.bytes){var i=v.byteLength+e.bytes.byteLength,a=new Uint8Array(i);a.set(e.bytes),a.set(v,e.bytes.byteLength),this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return r||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return void 0===e?this.subtitlesTrack_:(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(e,t){(0,h["default"])(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){var n=function(){e.state="READY",e.paused()||e.monitorBuffer_()};return this.syncController_.one("timestampoffset",n),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var t=this;if(!this.pendingSegment_||!this.subtitlesTrack_)return void(this.state="READY");this.state="APPENDING";var e=this.pendingSegment_,n=e.segment;if("function"!=typeof d["default"].WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var r=function(){var e=function(){t.handleSegment_()};return t.state="WAITING_ON_VTTJS",t.subtitlesTrack_.tech_.one("vttjsloaded",e),t.subtitlesTrack_.tech_.one("vttjserror",function(){t.subtitlesTrack_.tech_.off("vttjsloaded",e),t.error({message:"Error loading vtt.js"}),t.state="READY",t.pause(),t.trigger("error")}),{v:undefined}}();if("object"==typeof r)return r.v}n.requested=!0;try{this.parseVTTCues_(e)}catch(i){return this.error({message:i.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(e,this.syncController_.timelines[e.timeline],this.playlist_),e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");e.byteLength=e.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,e.cues.length&&this.remove(e.cues[0].endTime,e.cues[e.cues.length-1].endTime),e.cues.forEach(function(e){t.subtitlesTrack_.addCue(e)}),this.handleUpdateEnd_()}},{key:"parseVTTCues_",value:function(t){var e=undefined,n=!1;"function"==typeof d["default"].TextDecoder?e=new d["default"].TextDecoder("utf8"):(e=d["default"].WebVTT.StringDecoder(),n=!0);var r=new d["default"].WebVTT.Parser(d["default"],d["default"].vttjs,e);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=t.cues.push.bind(t.cues),r.ontimestampmap=function(e){return t.timestampmap=e},r.onparsingerror=function(e){l["default"].log.warn("Error encountered when parsing cues: "+e.message)},t.segment.map){var i=t.segment.map.bytes;n&&(i=y(i)),r.parse(i)}var a=t.bytes;n&&(a=y(a)),r.parse(a),r.flush()}},{key:"updateTimeMapping_",value:function(e,t,n){var r=e.segment;if(t){if(!e.cues.length)return void(r.empty=!0);var i=e.timestampmap,a=i.MPEGTS/9e4-i.LOCAL+t.mapping;if(e.cues.forEach(function(e){e.startTime+=a,e.endTime+=a}),!n.syncInfo){var o=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(o,s-r.duration)}}}}}]),n}(s["default"]);b["default"]=g,_.exports=b["default"]}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(e,t,n){(function(s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var u="undefined"!=typeof window?W:void 0!==s?s.videojs:null,l=function(e){return e&&e.__esModule?e:{"default":e}}(u),e=function(){return function s(t,r){t=(0,u.mergeOptions)({timeout:45e3},t);var n=s.beforeRequest||l["default"].Hls.xhr.beforeRequest;if(n&&"function"==typeof n){var i=n(t);i&&(t=i)}var a=(0,u.xhr)(t,function(e,t){var n=a.response;!e&&n&&(a.responseTime=Date.now(),a.roundTripTime=a.responseTime-a.requestTime,a.bytesReceived=n.byteLength||n.length,a.bandwidth||(a.bandwidth=Math.floor(a.bytesReceived/a.roundTripTime*8*1e3))),e&&"ETIMEDOUT"===e.code&&(a.timedout=!0),e||a.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(a&&(n||a.responseText)))),r(e,a)}),o=a.abort;return a.abort=function(){return a.aborted=!0,o.apply(a,arguments)},a.uri=t.uri,a.requestTime=Date.now(),a}};n["default"]=e,t.exports=n["default"]}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],22:[function(e,t,n){"use strict";function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),f=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],r=t[4],i=n[4],a=undefined,o=undefined,s=undefined,u=[],l=[],c=undefined,d=undefined,f=undefined,h=undefined,p=undefined,v=undefined;for(a=0;a<256;a++)l[(u[a]=a<<1^283*(a>>7))^a]=a;for(o=s=0;!r[o];o^=c||1,s=l[s]||1)for(h=s^s<<1^s<<2^s<<3^s<<4,h=h>>8^255&h^99,r[o]=h,i[h]=o,f=u[d=u[c=u[o]]],v=16843009*f^65537*d^257*c^16843008*o,p=257*u[h]^16843008*h,a=0;a<4;a++)t[a][o]=p=p<<24^p>>>8,n[a][h]=v=v<<24^v>>>8;for(a=0;a<5;a++)t[a]=t[a].slice(0),n[a]=n[a].slice(0);return e},h=null,i=function(){function c(e){d(this,c),h||(h=f()),this._tables=[[h[0][0].slice(),h[0][1].slice(),h[0][2].slice(),h[0][3].slice(),h[0][4].slice()],[h[1][0].slice(),h[1][1].slice(),h[1][2].slice(),h[1][3].slice(),h[1][4].slice()]];var t=undefined,n=undefined,r=undefined,i=undefined,a=undefined,o=this._tables[0][4],s=this._tables[1],u=e.length,l=1;if(4!==u&&6!==u&&8!==u)throw new Error("Invalid aes key size");for(i=e.slice(0),a=[],this._key=[i,a],t=u;t<4*u+28;t++)r=i[t-1],(t%u==0||8===u&&t%u==4)&&(r=o[r>>>24]<<24^o[r>>16&255]<<16^o[r>>8&255]<<8^o[255&r],t%u==0&&(r=r<<8^r>>>24^l<<24,l=l<<1^283*(l>>7))),i[t]=i[t-u]^r;for(n=0;t;n++,t--)r=i[3&n?t:t-4],a[n]=t<=4||n<4?r:s[0][o[r>>>24]]^s[1][o[r>>16&255]]^s[2][o[r>>8&255]]^s[3][o[255&r]]}return r(c,[{key:"decrypt",value:function(e,t,n,r,i,a){var o=this._key[1],s=e^o[0],u=r^o[1],l=n^o[2],c=t^o[3],d=undefined,f=undefined,h=undefined,p=o.length/4-2,v=undefined,y=4,g=this._tables[1],m=g[0],_=g[1],b=g[2],T=g[3],w=g[4];for(v=0;v<p;v++)d=m[s>>>24]^_[u>>16&255]^b[l>>8&255]^T[255&c]^o[y],f=m[u>>>24]^_[l>>16&255]^b[c>>8&255]^T[255&s]^o[y+1],h=m[l>>>24]^_[c>>16&255]^b[s>>8&255]^T[255&u]^o[y+2],c=m[c>>>24]^_[s>>16&255]^b[u>>8&255]^T[255&l]^o[y+3],y+=4,s=d,u=f,l=h;for(v=0;v<4;v++)i[(3&-v)+a]=w[s>>>24]<<24^w[u>>16&255]<<16^w[l>>8&255]<<8^w[255&c]^o[y++],d=s,s=u,u=l,l=c,c=d}}]),c}();n["default"]=i,t.exports=n["default"]},{}],23:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=a,n=o,r=!0,s=l=undefined}},s=e(26),u=function(e){return e&&e.__esModule?e:{"default":e}}(s),l=function(e){function t(){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,u["default"]),this.jobs=[],this.delay=1,this.timeout_=null}return i(t,e),a(t,[{key:"processJob_",value:function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:"push",value:function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),t}(u["default"]);n["default"]=l,t.exports=n["default"]},{}],24:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=e(22),y=r(a),o=e(23),c=r(o),d=e(28),g=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},s=function(e,t,n){var r=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),i=new y["default"](Array.prototype.slice.call(t)),a=new Uint8Array(e.byteLength),o=new Int32Array(a.buffer),s=undefined,u=undefined,l=undefined,c=undefined,d=undefined,f=undefined,h=undefined,p=undefined,v=undefined;for(s=n[0],u=n[1],l=n[2],c=n[3],v=0;v<r.length;v+=4)d=g(r[v]),f=g(r[v+1]),h=g(r[v+2]),p=g(r[v+3]),i.decrypt(d,f,h,p,o,v),o[v]=g(o[v]^s),o[v+1]=g(o[v+1]^u),o[v+2]=g(o[v+2]^l),o[v+3]=g(o[v+3]^c),s=d,u=f,l=h,c=p;return a};n.decrypt=s;var u=function(){function u(e,t,n,r){l(this,u);var i=u.STEP,a=new Int32Array(e.buffer),o=new Uint8Array(e.byteLength),s=0;for(this.asyncStream_=new c["default"],this.asyncStream_.push(this.decryptChunk_(a.subarray(s,s+i),t,n,o)),s=i;s<a.length;s+=i)n=new Uint32Array([g(a[s-4]),g(a[s-3]),g(a[s-2]),g(a[s-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(s,s+i),t,n,o));this.asyncStream_.push(function(){r(null,(0,d.unpad)(o))})}return i(u,[{key:"decryptChunk_",value:function(t,n,r,i){return function(){var e=s(t,n,r);i.set(e,t.byteOffset)}}}],[{key:"STEP",get:function(){return 32e3}}]),u}();n.Decrypter=u,n["default"]={Decrypter:u,decrypt:s}},{}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(24),i=e(23),a=function(e){return e&&e.__esModule?e:{"default":e}}(i);n["default"]={decrypt:r.decrypt,Decrypter:r.Decrypter,AsyncStream:a["default"]},t.exports=n["default"]},{}],26:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=function(){function e(){r(this,e),this.listeners={}}return i(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){var n=undefined;return!!this.listeners[e]&&(n=this.listeners[e].indexOf(t),this.listeners[e].splice(n,1),n>-1)}},{key:"trigger",value:function(e){var t=undefined,n=undefined,r=undefined,i=undefined;if(t=this.listeners[e])if(2===arguments.length)for(r=t.length,n=0;n<r;++n)t[n].call(this,arguments[1]);else for(i=Array.prototype.slice.call(arguments,1),r=t.length,n=0;n<r;++n)t[n].apply(this,i)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(t){this.on("data",function(e){t.push(e)})}}]),e}();n["default"]=a,t.exports=n["default"]},{}],27:[function(e,t,n){"use strict";var r;t.exports=function(e){var t=r[e.byteLength%16||0],n=new Uint8Array(e.byteLength+t.length);return n.set(e),n.set(t,e.byteLength),n},r=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},{}],28:[function(e,t,n){"use strict";n.pad=e(27),n.unpad=e(29)},{}],29:[function(e,t,n){"use strict";t.exports=function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}},{}],30:[function(e,t,n){},{}],31:[function(i,a,e){(function(e){var t,n=void 0!==e?e:"undefined"!=typeof window?window:{},r=i(30);"undefined"!=typeof document?t=document:(t=n["__GLOBAL_DOCUMENT_CACHE@4"])||(t=n["__GLOBAL_DOCUMENT_CACHE@4"]=r),a.exports=t}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(e,n,t){(function(e){var t;t="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},n.exports=t}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=e(34),a=r(i),o=e(35),s=r(o),u=e(36),l=r(u);t.exports={LineStream:a["default"],ParseStream:s["default"],Parser:l["default"]}},{}],34:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),s=e(37),u=function(e){return e&&e.__esModule?e:{"default":e}}(s),l=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.buffer="",e}return a(t,e),o(t,[{key:"push",value:function(e){var t=void 0;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}]),t}(u["default"]);n["default"]=l},{}],35:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var c=function(){function n(e,t){var n=[],r=!0,i=!1,a=undefined;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw a}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),u=e(37),s=function(e){return e&&e.__esModule?e:{"default":e}}(u),l=function(){return new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')},d=function(e){for(var t=e.split(l()),n={},r=t.length,i=void 0;r--;)""!==t[r]&&(i=/([^=]*)=(.*)/.exec(t[r]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),n[i[0]]=i[1]);return n},f=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),o(t,[{key:"push",value:function(e){var t=void 0,n=void 0;if(e=e.replace(/^[\u0000\s]+|[\u0000\s]+$/g,""),0!==e.length){if("#"!==e[0])return void this.trigger("data",{type:"uri",uri:e});if(0!==e.indexOf("#EXT"))return void this.trigger("data",{type:"comment",text:e.slice(1)});if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))return void this.trigger("data",{type:"tag",tagType:"m3u"});if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void this.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"totalduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void this.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"byterange"},t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),void this.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var r=d(t[1]);if(r.URI&&(n.uri=r.URI),r.BYTERANGE){var i=r.BYTERANGE.split("@"),a=c(i,2),o=a[0],s=a[1];n.byterange={},o&&(n.byterange.length=parseInt(o,10)),s&&(n.byterange.offset=parseInt(s,10))}}return void this.trigger("data",n)}if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=d(t[1]),n.attributes.RESOLUTION){var u=n.attributes.RESOLUTION.split("x"),l={};u[0]&&(l.width=parseInt(u[0],10)),u[1]&&(l.height=parseInt(u[1],10)),n.attributes.RESOLUTION=l}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}return void this.trigger("data",n)}if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=d(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))return void this.trigger("data",{type:"tag",tagType:"endlist"});if(t=/^#EXT-X-DISCONTINUITY/.exec(e))return void this.trigger("data",{type:"tag",tagType:"discontinuity"});if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=d(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);this.trigger("data",{type:"tag",data:e.slice(4)})}}}]),t}(s["default"]);n["default"]=f},{}],36:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=e(37),s=r(o),u=e(34),v=r(u),l=e(35),y=r(l),c=function(e){function t(){f(this,t);var e=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.lineStream=new v["default"],e.parseStream=new y["default"],e.lineStream.pipe(e.parseStream);var i=e,a=[],o={},s=void 0,u=void 0,l=function(){},c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",function(t){var n=void 0,r=void 0;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&(o.byterange=e,e.length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&(o.byterange=e,e.offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(o.duration=t.duration),0===t.duration&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){return t.attributes?"NONE"===t.attributes.METHOD?void(u=null):t.attributes.URI?(t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),u={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void("undefined"!=typeof t.attributes.IV&&(u.iv=t.attributes.IV))):void this.trigger("warn",{message:"ignoring key declaration without URI"}):void this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){if(!isFinite(t.number))return void this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number});this.manifest.mediaSequence=t.number},"discontinuity-sequence":function(){if(!isFinite(t.number))return void this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number});this.manifest.discontinuitySequence=t.number,d=t.number},"playlist-type":function(){if(!/VOD|EVENT/.test(t.playlistType))return void this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist});this.manifest.playlistType=t.playlistType},map:function(){s={},t.uri&&(s.uri=t.uri),t.byterange&&(s.byterange=t.byterange)},"stream-inf":function(){if(this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||c,!t.attributes)return void this.trigger("warn",{message:"ignoring empty stream-inf attributes"});o.attributes||(o.attributes={}),p(o.attributes,t.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||c,!(t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});var e=this.manifest.mediaGroups[t.attributes.TYPE];e[t.attributes["GROUP-ID"]]=e[t.attributes["GROUP-ID"]]||{},n=e[t.attributes["GROUP-ID"]],r={"default":/yes/i.test(t.attributes.DEFAULT)},r["default"]?r.autoselect=!0:r.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(r.language=t.attributes.LANGUAGE),t.attributes.URI&&(r.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(r.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(r.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(r.forced=/yes/i.test(t.attributes.FORCED)),n[t.attributes.NAME]=r},discontinuity:function(){d+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject},targetduration:function(){if(!isFinite(t.duration)||t.duration<0)return void this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration});this.manifest.targetDuration=t.duration},totalduration:function(){if(!isFinite(t.duration)||t.duration<0)return void this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration});this.manifest.totalDuration=t.duration},"cue-out":function(){o.cueOut=t.data},"cue-out-cont":function(){o.cueOutCont=t.data},"cue-in":function(){o.cueIn=t.data}}[t.tagType]||l).call(i)},uri:function(){o.uri=t.uri,a.push(o),!this.manifest.targetDuration||"duration"in o||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),u&&(o.key=u),o.timeline=d,s&&(o.map=s),o={}},comment:function(){}})[t.type].call(i)}),e}return i(t,e),a(t,[{key:"push",value:function(e){this.lineStream.push(e)}},{key:"end",value:function(){this.lineStream.push("\n")}}]),t}(s["default"]);n["default"]=c},{}],37:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=function(){function e(){r(this,e),this.listeners={}}return i(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1}},{key:"trigger",value:function(e){var t=this.listeners[e],n=void 0,r=void 0,i=void 0;if(t)if(2===arguments.length)for(r=t.length,n=0;n<r;++n)t[n].call(this,arguments[1]);else for(i=Array.prototype.slice.call(arguments,1),r=t.length,n=0;n<r;++n)t[n].apply(this,i)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(t){this.on("data",function(e){t.push(e)})}}]),e}();n["default"]=a},{}],38:[function(e,t,n){"use strict";var r,i=e(62);r=function(){var s=new Uint8Array,u=0;r.prototype.init.call(this),this.setTimestamp=function(e){u=e},this.parseId3TagSize=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?n+20:n+10},this.parseAdtsSize=function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|n},this.push=function(e){var t,n,r,i,a=0,o=0;for(s.length?(i=s.length,s=new Uint8Array(e.byteLength+i),s.set(s.subarray(0,i)),s.set(e,i)):s=e;s.length-o>=3;)if(s[o]!=="I".charCodeAt(0)||s[o+1]!=="D".charCodeAt(0)||s[o+2]!=="3".charCodeAt(0))if(!0&s[o]&&240==(240&s[o+1])){if(s.length-o<7)break;if((a=this.parseAdtsSize(s,o))>s.length)break;r={type:"audio",data:s.subarray(o,o+a),pts:u,dts:u},this.trigger("data",r),o+=a}else o++;else{if(s.length-o<10)break;if((a=this.parseId3TagSize(s,o))>s.length)break;n={type:"timed-metadata",data:s.subarray(o,o+a)},this.trigger("data",n),o+=a}t=s.length-o,s=t>0?s.subarray(o):new Uint8Array}},r.prototype=new i,t.exports=r},{}],39:[function(e,t,n){"use strict";var r=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],u=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},i=function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i},l=function(e,t,n){return unescape(i(e,t,n))},a=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?n+20:n+10},o=function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|n},s=function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},c=function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return r[(60&e[t+2])>>>2];t++}return null},d=function(e){var t,n,r;t=10,64&e[5]&&(t+=4,t+=u(e.subarray(10,14)));do{if((n=u(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){r=e.subarray(t+10,t+n+10);for(var i=0;i<r.byteLength;i++)if(0===r[i]){var a=l(r,0,i);if("com.apple.streaming.transportStreamTimestamp"===a){var o=r.subarray(i+1),s=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return s*=4,s+=3&o[7]}break}}t+=10,t+=n}while(t<e.byteLength);return null};t.exports={parseId3TagSize:a,parseAdtsSize:o,parseType:s,parseSampleRate:c,parseAacTimestamp:d}},{}],40:[function(e,t,n){"use strict";var r,i=e(62),c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];r=function(){var l;r.prototype.init.call(this),this.push=function(e){var t,n,r,i,a,o,s=0,u=0;if("audio"===e.type)for(l?(i=l,l=new Uint8Array(i.byteLength+e.data.byteLength),l.set(i),l.set(e.data,i.byteLength)):l=e.data;s+5<l.length;)if(255===l[s]&&240==(246&l[s+1])){if(n=2*(1&~l[s+1]),t=(3&l[s+3])<<11|l[s+4]<<3|(224&l[s+5])>>5,a=1024*(1+(3&l[s+6])),o=9e4*a/c[(60&l[s+2])>>>2],r=s+t,l.byteLength<r)return;if(this.trigger("data",{pts:e.pts+u*o,dts:e.dts+u*o,sampleCount:a,audioobjecttype:1+(l[s+2]>>>6&3),channelcount:(1&l[s+2])<<2|(192&l[s+3])>>>6,samplerate:c[(60&l[s+2])>>>2],samplingfrequencyindex:(60&l[s+2])>>>2,samplesize:16,data:l.subarray(s+7+n,r)}),l.byteLength===r)return void(l=undefined);u++,l=l.subarray(r)}else s++},this.flush=function(){this.trigger("done")}},r.prototype=new i,t.exports=r},{}],41:[function(e,t,n){"use strict";var u,l,b,r=e(62),T=e(61);l=function(){var n,r,i=0;l.prototype.init.call(this),this.push=function(e){var t;for(r?(t=new Uint8Array(r.byteLength+e.data.byteLength),t.set(r),t.set(e.data,r.byteLength),r=t):r=e.data;i<r.byteLength-3;i++)if(1===r[i+2]){n=i+5;break}for(;n<r.byteLength;)switch(r[n]){case 0:if(0!==r[n-1]){n+=2;break}if(0!==r[n-2]){n++;break}i+3!==n-2&&this.trigger("data",r.subarray(i+3,n-2));do{n++}while(1!==r[n]&&n<r.length);i=n-2,n+=3;break;case 1:if(0!==r[n-1]||0!==r[n-2]){n+=3;break}this.trigger("data",r.subarray(i+3,n-2)),i=n-2,n+=3;break;default:n+=3}r=r.subarray(i),n-=i,i=0},this.flush=function(){r&&r.byteLength>3&&this.trigger("data",r.subarray(i+3)),r=null,i=0,this.trigger("done")}},l.prototype=new r,b={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},u=function(){var n,r,i,a,o,s,_,t=new l;u.prototype.init.call(this),n=this,this.push=function(e){"video"===e.type&&(r=e.trackId,i=e.pts,a=e.dts,t.push(e))},t.on("data",function(e){var t={trackId:r,pts:i,dts:a,data:e};switch(31&e[0]){case 5:t.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:t.nalUnitType="sei_rbsp",t.escapedRBSP=o(e.subarray(1));break;case 7:t.nalUnitType="seq_parameter_set_rbsp",t.escapedRBSP=o(e.subarray(1)),t.config=s(t.escapedRBSP);break;case 8:t.nalUnitType="pic_parameter_set_rbsp";break;case 9:t.nalUnitType="access_unit_delimiter_rbsp"}n.trigger("data",t)}),t.on("done",function(){n.trigger("done")}),this.flush=function(){t.flush()},_=function(e,t){var n,r,i=8,a=8;for(n=0;n<e;n++)0!==a&&(r=t.readExpGolomb(),a=(i+r+256)%256),i=0===a?i:a},o=function(e){for(var t,n,r=e.byteLength,i=[],a=1;a<r-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===i[0]&&(o++,i.shift()),n[a]=e[o];return n},s=function(e){var t,n,r,i,a,o,s,u,l,c,d,f,h,p=0,v=0,y=0,g=0,m=1;if(t=new T(e),n=t.readUnsignedByte(),i=t.readUnsignedByte(),r=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),b[n]&&(a=t.readUnsignedExpGolomb(),3===a&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(d=3!==a?8:12,h=0;h<d;h++)t.readBoolean()&&(h<6?_(16,t):_(64,t));if(t.skipUnsignedExpGolomb(),0===(o=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===o)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),s=t.readUnsignedExpGolomb(),h=0;h<s;h++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),u=t.readUnsignedExpGolomb(),l=t.readUnsignedExpGolomb(),c=t.readBits(1),0===c&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(p=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:f=[1,1];break;case 2:f=[12,11];break;case 3:f=[10,11];break;case 4:f=[16,11];break;case 5:f=[40,33];break;case 6:f=[24,11];break;case 7:f=[20,11];break;case 8:f=[32,11];break;case 9:f=[80,33];break;case 10:f=[18,11];break;case 11:f=[15,11];break;case 12:f=[64,33];break;case 13:f=[160,99];break;case 14:f=[4,3];break;case 15:f=[3,2];break;case 16:f=[2,1];break;case 255:f=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}f&&(m=f[0]/f[1])}return{profileIdc:n,levelIdc:r,profileCompatibility:i,width:Math.ceil((16*(u+1)-2*p-2*v)*m),height:(2-c)*(l+1)*16-2*y-2*g}}},u.prototype=new r,t.exports={H264Stream:u,NalByteStream:l}},{}],42:[function(e,t,n){var r=[33,16,5,32,164,27],i=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],a=function(e){for(var t=[];e--;)t.push(0);return t},o={96e3:[r,[227,64],a(154),[56]],88200:[r,[231],a(170),[56]],64e3:[r,[248,192],a(240),[56]],48e3:[r,[255,192],a(268),[55,148,128],a(54),[112]],44100:[r,[255,192],a(268),[55,163,128],a(84),[112]],32e3:[r,[255,192],a(268),[55,234],a(226),[112]],24e3:[r,[255,192],a(268),[55,255,128],a(268),[111,112],a(126),[224]],16e3:[r,[255,192],a(268),[55,255,128],a(268),[111,255],a(269),[223,108],a(195),[1,192]],12e3:[i,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,253,128],a(259),[56]],11025:[i,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,255,192],a(268),[55,175,128],a(108),[112]],8e3:[i,a(268),[3,121,16],a(47),[7]]};t.exports=function(n){return Object.keys(n).reduce(function(e,t){return e[t]=new Uint8Array(n[t].reduce(function(e,t){return e.concat(t)},[])),e},{})}(o)},{}],43:[function(e,t,n){"use strict";var r=e(62),i=function(e){this.numberOfTracks=0,this.metadataStream=e.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,i.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):("video"===e.track.type&&(this.videoTrack=e.track,this.videoTags=e.tags,this.pendingTracks++),void("audio"===e.track.type&&(this.audioTrack=e.track,this.audioTags=e.tags,this.pendingTracks++)))}};i.prototype=new r,i.prototype.flush=function(e){var t,n,r,i,a={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(0===this.pendingTracks&&++this.processedTracks<this.numberOfTracks)return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?i=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(i=this.audioTrack.timelineStartInfo.pts),a.tags.videoTags=this.videoTags,a.tags.audioTags=this.audioTags,r=0;r<this.pendingCaptions.length;r++)n=this.pendingCaptions[r],n.startTime=n.startPts-i,n.startTime/=9e4,n.endTime=n.endPts-i,n.endTime/=9e4,a.captionStreams[n.stream]=!0,a.captions.push(n);for(r=0;r<this.pendingMetadata.length;r++)t=this.pendingMetadata[r],t.cueTime=t.pts-i,t.cueTime/=9e4,a.metadata.push(t);a.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",a),this.trigger("done")}},t.exports=i},{}],44:[function(e,t,n){"use strict";var u=e(45),r=function(e,t,n){var r,i,a,o=new Uint8Array(9),s=new DataView(o.buffer);return e=e||0,t=t===undefined||t,n=n===undefined||n,s.setUint8(0,70),s.setUint8(1,76),s.setUint8(2,86),s.setUint8(3,1),s.setUint8(4,(t?4:0)|(n?1:0)),s.setUint32(5,o.byteLength),e<=0?(i=new Uint8Array(o.byteLength+4),i.set(o),i.set([0,0,0,0],o.byteLength),i):(r=new u(u.METADATA_TAG),r.pts=r.dts=0,r.writeMetaDataDouble("duration",e),a=r.finalize().length,i=new Uint8Array(o.byteLength+a),i.set(o),i.set(s.byteLength,a),i)};t.exports=r},{}],45:[function(e,t,n){"use strict";var l;l=function(e,n){var t,r=0,i=16384,a=function(e,t){var n,r=e.position+t;r<e.bytes.byteLength||(n=new Uint8Array(2*r),n.set(e.bytes.subarray(0,e.position),0),e.bytes=n,e.view=new DataView(e.bytes.buffer))},o=l.widthBytes||new Uint8Array("width".length),s=l.heightBytes||new Uint8Array("height".length),u=l.videocodecidBytes||new Uint8Array("videocodecid".length);if(!l.widthBytes){for(t=0;t<"width".length;t++)o[t]="width".charCodeAt(t);for(t=0;t<"height".length;t++)s[t]="height".charCodeAt(t);for(t=0;t<"videocodecid".length;t++)u[t]="videocodecid".charCodeAt(t);l.widthBytes=o,l.heightBytes=s,l.videocodecidBytes=u}switch(this.keyFrame=!1,e){case l.VIDEO_TAG:this.length=16,i*=6;break;case l.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case l.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(i),this.view=new DataView(this.bytes.buffer),this.bytes[0]=e,this.position=this.length,this.keyFrame=n,this.pts=0,this.dts=0,this.writeBytes=function(e,t,n){var r,i=t||0;n=n||e.byteLength,r=i+n,a(this,n),this.bytes.set(e.subarray(i,r),this.position),this.position+=n,this.length=Math.max(this.length,this.position)},this.writeByte=function(e){a(this,1),this.bytes[this.position]=e,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(e){a(this,2),this.view.setUint16(this.position,e),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(e){return this.bytes[this.length-e]},this.nalUnitSize=function(){return 0===r?0:this.length-(r+4)},this.startNalUnit=function(){if(r>0)throw new Error("Attempted to create new NAL wihout closing the old one");r=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(e){var t,n;this.length===r+4?this.length-=4:r>0&&(t=r+4,n=this.length-t,this.position=r,this.view.setUint32(this.position,n),this.position=this.length,e&&e.push(this.bytes.subarray(t,t+n))),r=0},this.writeMetaDataDouble=function(e,t){var n;if(a(this,2+e.length+9),this.view.setUint16(this.position,e.length),this.position+=2,"width"===e)this.bytes.set(o,this.position),this.position+=5;else if("height"===e)this.bytes.set(s,this.position),this.position+=6;else if("videocodecid"===e)this.bytes.set(u,this.position),this.position+=12;else for(n=0;n<e.length;n++)this.bytes[this.position]=e.charCodeAt(n),this.position++;this.position++,this.view.setFloat64(this.position,t),this.position+=8,this.length=Math.max(this.length,this.position),++r},this.writeMetaDataBoolean=function(e,t){var n;for(a(this,2),this.view.setUint16(this.position,e.length),this.position+=2,n=0;n<e.length;n++)a(this,1),this.bytes[this.position]=e.charCodeAt(n),this.position++;a(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,t?1:0),this.position++,this.length=Math.max(this.length,this.position),++r},this.finalize=function(){var e,t;switch(this.bytes[0]){case l.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||n?16:32),this.bytes[12]=n?0:1,e=this.pts-this.dts,this.bytes[13]=(16711680&e)>>>16,this.bytes[14]=(65280&e)>>>8,this.bytes[15]=(255&e)>>>0;break;case l.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=n?0:1;break;case l.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,r),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return t=this.length-11,this.bytes[1]=(16711680&t)>>>16,this.bytes[2]=(65280&t)>>>8,this.bytes[3]=(255&t)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,a(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=l.frameTime(this.bytes),this}},l.AUDIO_TAG=8,l.VIDEO_TAG=9,l.METADATA_TAG=18,l.isAudioFrame=function(e){return l.AUDIO_TAG===e[0]},l.isVideoFrame=function(e){return l.VIDEO_TAG===e[0]},l.isMetaData=function(e){return l.METADATA_TAG===e[0]},l.isKeyFrame=function(e){return l.isVideoFrame(e)?23===e[11]:!!l.isAudioFrame(e)||!!l.isMetaData(e)},l.frameTime=function(e){var t=e[4]<<16;return t|=e[5]<<8,t|=e[6]<<0,t|=e[7]<<24},t.exports=l},{}],46:[function(e,t,n){t.exports={tag:e(45),Transmuxer:e(48),getFlvHeader:e(44)}},{}],47:[function(e,t,n){"use strict";var r=function(){var e=this;this.list=[],this.push=function(e){this.list.push({bytes:e.bytes,dts:e.dts,pts:e.pts,keyFrame:e.keyFrame,metaDataTag:e.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return e.list.length}})};t.exports=r},{}],48:[function(e,t,n){"use strict";var p,v,y,r,s,u,i=e(62),l=e(45),g=e(50),m=e(40),_=e(41).H264Stream,b=e(43),c=e(47);r=function(e,t){"number"==typeof t.pts&&(e.timelineStartInfo.pts===undefined?e.timelineStartInfo.pts=t.pts:e.timelineStartInfo.pts=Math.min(e.timelineStartInfo.pts,t.pts)),"number"==typeof t.dts&&(e.timelineStartInfo.dts===undefined?e.timelineStartInfo.dts=t.dts:e.timelineStartInfo.dts=Math.min(e.timelineStartInfo.dts,t.dts))},s=function(e,t){var n=new l(l.METADATA_TAG);return n.dts=t,n.pts=t,n.writeMetaDataDouble("videocodecid",7),n.writeMetaDataDouble("width",e.width),n.writeMetaDataDouble("height",e.height),n},u=function(e,t){var n,r=new l(l.VIDEO_TAG,!0);for(r.dts=t,r.pts=t,r.writeByte(1),r.writeByte(e.profileIdc),r.writeByte(e.profileCompatibility),r.writeByte(e.levelIdc),r.writeByte(255),r.writeByte(225),r.writeShort(e.sps[0].length),r.writeBytes(e.sps[0]),r.writeByte(e.pps.length),n=0;n<e.pps.length;++n)r.writeShort(e.pps[n].length),r.writeBytes(e.pps[n]);return r},y=function(i){var a,o=[],s=[];y.prototype.init.call(this),this.push=function(e){r(i,e),i&&(i.audioobjecttype=e.audioobjecttype,i.channelcount=e.channelcount,i.samplerate=e.samplerate,i.samplingfrequencyindex=e.samplingfrequencyindex,i.samplesize=e.samplesize,i.extraData=i.audioobjecttype<<11|i.samplingfrequencyindex<<7|i.channelcount<<3),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),o.push(e)},this.flush=function(){var e,t,n,r=new c;if(0===o.length)return void this.trigger("done","AudioSegmentStream");for(n=-Infinity;o.length;)e=o.shift(),s.length&&e.pts>=s[0]&&(n=s.shift(),this.writeMetaDataTags(r,n)),(i.extraData!==a||e.pts-n>=1e3)&&(this.writeMetaDataTags(r,e.pts),a=i.extraData,n=e.pts),t=new l(l.AUDIO_TAG),t.pts=e.pts,t.dts=e.dts,t.writeBytes(e.data),r.push(t.finalize());s.length=0,a=null,this.trigger("data",{track:i,tags:r.list}),this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(e,t){var n;n=new l(l.METADATA_TAG),n.pts=t,n.dts=t,n.writeMetaDataDouble("audiocodecid",10),n.writeMetaDataBoolean("stereo",2===i.channelcount),n.writeMetaDataDouble("audiosamplerate",i.samplerate),n.writeMetaDataDouble("audiosamplesize",16),e.push(n.finalize()),n=new l(l.AUDIO_TAG,!0),n.pts=t,n.dts=t,n.view.setUint16(n.position,i.extraData),n.position+=2,n.length=Math.max(n.length,n.position),e.push(n.finalize())},this.onVideoKeyFrame=function(e){s.push(e)}},y.prototype=new i,v=function(i){var a,o,n=[];v.prototype.init.call(this),this.finishFrame=function(e,t){if(t){if(a&&i&&i.newMetadata&&(t.keyFrame||0===e.length)){var n=s(a,t.dts).finalize(),r=u(i,t.dts).finalize();n.metaDataTag=r.metaDataTag=!0,e.push(n),e.push(r),i.newMetadata=!1,this.trigger("keyframe",t.dts)}t.endNalUnit(),e.push(t.finalize()),o=null}},this.push=function(e){r(i,e),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),n.push(e)},this.flush=function(){for(var e,t=new c;n.length&&"access_unit_delimiter_rbsp"!==n[0].nalUnitType;)n.shift();if(0===n.length)return void this.trigger("done","VideoSegmentStream");for(;n.length;)e=n.shift(),"seq_parameter_set_rbsp"===e.nalUnitType?(i.newMetadata=!0,a=e.config,i.width=a.width,i.height=a.height,i.sps=[e.data],i.profileIdc=a.profileIdc,i.levelIdc=a.levelIdc,i.profileCompatibility=a.profileCompatibility,o.endNalUnit()):"pic_parameter_set_rbsp"===e.nalUnitType?(i.newMetadata=!0,i.pps=[e.data],o.endNalUnit()):"access_unit_delimiter_rbsp"===e.nalUnitType?(o&&this.finishFrame(t,o),o=new l(l.VIDEO_TAG),o.pts=e.pts,o.dts=e.dts):("slice_layer_without_partitioning_rbsp_idr"===e.nalUnitType&&(o.keyFrame=!0),o.endNalUnit()),o.startNalUnit(),o.writeBytes(e.data);o&&this.finishFrame(t,o),this.trigger("data",{track:i,tags:t.list}),this.trigger("done","VideoSegmentStream")}},v.prototype=new i,p=function(e){var t,n,r,i,a,o,s,u,l,c,d,f,h=this;p.prototype.init.call(this),e=e||{},this.metadataStream=new g.MetadataStream,e.metadataStream=this.metadataStream,t=new g.TransportPacketStream,n=new g.TransportParseStream,r=new g.ElementaryStream,i=new g.TimestampRolloverStream("video"),a=new g.TimestampRolloverStream("audio"),o=new g.TimestampRolloverStream("timed-metadata"),s=new m,u=new _,f=new b(e),t.pipe(n).pipe(r),r.pipe(i).pipe(u),r.pipe(a).pipe(s),r.pipe(o).pipe(this.metadataStream).pipe(f),d=new g.CaptionStream,u.pipe(d).pipe(f),r.on("data",function(e){var t,n,r;if("metadata"===e.type){for(t=e.tracks.length;t--;)"video"===e.tracks[t].type?n=e.tracks[t]:"audio"===e.tracks[t].type&&(r=e.tracks[t]);n&&!l&&(f.numberOfTracks++,l=new v(n),u.pipe(l).pipe(f)),r&&!c&&(f.numberOfTracks++,c=new y(r),s.pipe(c).pipe(f),l&&l.on("keyframe",c.onVideoKeyFrame))}}),this.push=function(e){t.push(e)},this.flush=function(){t.flush()},this.resetCaptions=function(){d.reset()},f.on("data",function(e){h.trigger("data",e)}),f.on("done",function(){h.trigger("done")})},p.prototype=new i,t.exports=p},{}],49:[function(e,t,n){"use strict";var r=e(62),i=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},r=0,i=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)r+=255,t++;for(r+=e[t++];255===e[t];)i+=255,t++;if(i+=e[t++],!n.payload&&4===r){n.payloadType=r,n.payloadSize=i,n.payload=e.subarray(t,t+i);break}t+=i,r=0,i=0}return n},a=function(e){return 181!==e.payload[0]?null:49!=(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},o=function(e,t){var n,r,i,a,o=[];if(!(64&t[0]))return o;for(r=31&t[0],n=0;n<r;n++)i=3*n,a={type:3&t[i+2],pts:e},4&t[i+2]&&(a.ccData=t[i+3]<<8|t[i+4],o.push(a));return o},s=function(){s.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new f(0,0),new f(0,1),new f(1,0),new f(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("done",this.trigger.bind(this,"done"))},this)};s.prototype=new r,s.prototype.push=function(e){var t,n;if("sei_rbsp"===e.nalUnitType&&(t=i(e.escapedRBSP),4===t.payloadType&&(n=a(t)))){if(e.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return void(this.ignoreNextEqualDts_=!1);this.captionPackets_=this.captionPackets_.concat(o(e.pts,n)),this.latestDts_=e.dts}},s.prototype.flush=function(){if(!this.captionPackets_.length)return void this.ccStreams_.forEach(function(e){e.flush()},this);this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(e){e.flush()},this)},s.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},s.prototype.dispatchCea608Packet=function(e){this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},s.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},s.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)};var u={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},l=function(e){return null===e?"":(e=u[e]||e,String.fromCharCode(e))},c=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],d=function(){for(var e=[],t=15;t--;)e.push("");return e},f=function(e,t){f.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,r,i,a;if((t=32639&e.ccData)===this.lastControlCode_)return void(this.lastControlCode_=null);if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,i=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.topRow_=13,this.mode_="rollUp";else if(t===this.ROLL_UP_3_ROWS_)this.topRow_=12,this.mode_="rollUp";else if(t===this.ROLL_UP_4_ROWS_)this.topRow_=11,this.mode_="rollUp";else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[14]=this.nonDisplayed_[14].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=d();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=d();else if(t===this.RESUME_DIRECT_CAPTIONING_)this.mode_="paintOn";else if(this.isSpecialCharacter(r,i))r=(3&r)<<8,a=l(r|i),this[this.mode_](e.pts,a),this.column_++;else if(this.isExtCharacter(r,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1),r=(3&r)<<8,a=l(r|i),this[this.mode_](e.pts,a),this.column_++;else if(this.isMidRowCode(r,i))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&i)&&this.addFormatting(e.pts,["i"]),1==(1&i)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(r,i))this.column_+=3&i;else if(this.isPAC(r,i)){var o=c.indexOf(7968&t);o!==this.row_&&(this.clearFormatting(e.pts),this.row_=o),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(i)&&14==(14&i)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(r)&&(0===i&&(i=null),a=l(r),a+=l(i),this[this.mode_](e.pts,a),this.column_+=a.length)}};f.prototype=new r,f.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){return e.trim()}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},f.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=d(),this.nonDisplayed_=d(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.formatting_=[]},f.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},f.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},f.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},f.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},f.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},f.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},f.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},f.prototype.isNormalChar=function(e){return e>=32&&e<=127},f.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,n)},f.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},f.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},f.prototype.rollUp=function(e,t){var n=this.displayed_[14];n+=t,this.displayed_[14]=n},f.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.topRow_;e<14;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[14]=""},f.prototype.paintOn=function(){},t.exports={CaptionStream:s,Cea608Stream:f}},{}],50:[function(e,t,n){"use strict";var r,o,s,i=e(62),a=e(49),d=e(53),u=e(54).TimestampRolloverStream,f=e(53);r=function(){var i=new Uint8Array(188),a=0;r.prototype.init.call(this),this.push=function(e){var t,n=0,r=188;for(a?(t=new Uint8Array(e.byteLength+a),t.set(i.subarray(0,a)),t.set(e,a),a=0):t=e;r<t.byteLength;)71!==t[n]||71!==t[r]?(n++,r++):(this.trigger("data",t.subarray(n,r)),n+=188,r+=188);n<t.byteLength&&(i.set(t.subarray(n),0),a=t.byteLength-n)},this.flush=function(){188===a&&71===i[0]&&(this.trigger("data",i),a=0),this.trigger("done")}},r.prototype=new i,o=function(){var r,i,a,u;o.prototype.init.call(this),u=this,this.packetsWaitingForPmt=[],this.programMapTable=undefined,r=function(e,t){var n=0;t.payloadUnitStartIndicator&&(n+=e[n]+1),"pat"===t.type?i(e.subarray(n),t):a(e.subarray(n),t)},i=function(e,t){t.section_number=e[7],t.last_section_number=e[8],u.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=u.pmtPid},a=function(e,t){var n,r,i,a;if(1&e[5]){for(u.programMapTable={video:null,audio:null,"timed-metadata":{}},n=(15&e[1])<<8|e[2],r=3+n-4,i=(15&e[10])<<8|e[11],a=12+i;a<r;){var o=e[a],s=(31&e[a+1])<<8|e[a+2];o===d.H264_STREAM_TYPE&&null===u.programMapTable.video?u.programMapTable.video=s:o===d.ADTS_STREAM_TYPE&&null===u.programMapTable.audio?u.programMapTable.audio=s:o===d.METADATA_STREAM_TYPE&&(u.programMapTable["timed-metadata"][s]=o),a+=5+((15&e[a+3])<<8|e[a+4])}t.programMapTable=u.programMapTable}},this.push=function(e){var t={},n=4;if(t.payloadUnitStartIndicator=!!(64&e[1]),t.pid=31&e[1],t.pid<<=8,t.pid|=e[2],(48&e[3])>>>4>1&&(n+=e[n]+1),0===t.pid)t.type="pat",r(e.subarray(n),t),this.trigger("data",t);else if(t.pid===this.pmtPid)for(t.type="pmt",r(e.subarray(n),t),this.trigger("data",t);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===undefined?this.packetsWaitingForPmt.push([e,n,t]):this.processPes_(e,n,t)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=d.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=d.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}},o.prototype=new i,o.STREAM_TYPES={h264:27,adts:15},s=function(){var l=this,r={data:[],size:0},i={data:[],size:0},a={data:[],size:0},c=function(e,t){var n;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!=(4&e[6]),n=e[7],192&n&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])},o=function(e,t,n){var r,i=new Uint8Array(e.size),a={type:t},o=0,s=0,u=!1;if(e.data.length&&!(e.size<9)){for(a.trackId=e.data[0].pid,o=0;o<e.data.length;o++)r=e.data[o],i.set(r.data,s),s+=r.data.byteLength;c(i,a),u="video"===t||a.packetLength<=e.size,(n||u)&&(e.size=0,e.data.length=0),u&&l.trigger("data",a)}};s.prototype.init.call(this),this.push=function(n){({pat:function(){},pes:function(){var e,t;switch(n.streamType){case d.H264_STREAM_TYPE:case f.H264_STREAM_TYPE:e=r,t="video";break;case d.ADTS_STREAM_TYPE:e=i,t="audio";break;case d.METADATA_STREAM_TYPE:e=a,t="timed-metadata";break;default:return}n.payloadUnitStartIndicator&&o(e,t,!0),e.data.push(n),e.size+=n.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},t=n.programMapTable;null!==t.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),l.trigger("data",e)}})[n.type]()},this.flush=function(){o(r,"video"),o(i,"audio"),o(a,"timed-metadata"),this.trigger("done")}},s.prototype=new i;var l={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:r,TransportParseStream:o,ElementaryStream:s,TimestampRolloverStream:u,CaptionStream:a.CaptionStream,Cea608Stream:a.Cea608Stream,MetadataStream:e(51)};for(var c in d)d.hasOwnProperty(c)&&(l[c]=d[c]);t.exports=l},{}],51:[function(e,t,n){"use strict";var r,i=e(62),a=e(53),o=function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i},s=function(e,t,n){return decodeURIComponent(o(e,t,n))},u=function(e,t,n){return unescape(o(e,t,n))},h=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},p={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.value=s(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.url=s(e.data,t+1,e.data.length);break}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=u(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};r=function(e){var t,l={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},c=0,d=[],f=0;if(r.prototype.init.call(this),this.dispatchType=a.METADATA_STREAM_TYPE.toString(16),l.descriptor)for(t=0;t<l.descriptor.length;t++)this.dispatchType+=("00"+l.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,r,i,a,o;if("timed-metadata"===e.type){if(e.dataAlignmentIndicator&&(f=0,d.length=0),0===d.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))return void(l.debug&&console.log("Skipping unrecognized metadata packet"));if(d.push(e),f+=e.data.byteLength,1===d.length&&(c=h(e.data.subarray(6,10)),c+=10),!(f<c)){for(t={data:new Uint8Array(c),frames:[],pts:d[0].pts,dts:d[0].dts},a=0;a<c;)t.data.set(d[0].data.subarray(0,c-a),a),a+=d[0].data.byteLength,f-=d[0].data.byteLength,d.shift();n=10,64&t.data[5]&&(n+=4,n+=h(t.data.subarray(10,14)),c-=h(t.data.subarray(16,20)));do{if((r=h(t.data.subarray(n+4,n+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(o=String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),i={id:o,data:t.data.subarray(n+10,n+r+10)},i.key=i.id,p[i.id]&&(p[i.id](i),"com.apple.streaming.transportStreamTimestamp"===i.owner)){var s=i.data,u=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;u*=4,u+=3&s[7],i.timeStamp=u,t.pts===undefined&&t.dts===undefined&&(t.pts=i.timeStamp,t.dts=i.timeStamp),this.trigger("timestamp",i)}t.frames.push(i),n+=10,n+=r}while(n<c);this.trigger("data",t)}}}},r.prototype=new i,t.exports=r},{}],52:[function(e,t,n){"use strict";var r=e(53),i=function(e){var t=31&e[1];return t<<=8,t|=e[2]},l=function(e){return!!(64&e[1])},c=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},a=function(e,t){var n=i(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},o=function(e){var t=l(e),n=4+c(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},s=function(e){var t={},n=l(e),r=4+c(e);if(n&&(r+=e[r]+1),1&e[r+5]){var i,a,o;i=(15&e[r+1])<<8|e[r+2],a=3+i-4,o=(15&e[r+10])<<8|e[r+11];for(var s=12+o;s<a;){var u=r+s;t[(31&e[u+1])<<8|e[u+2]]=e[u],s+=5+((15&e[u+3])<<8|e[u+4])}return t}},u=function(e,t){switch(t[i(e)]){case r.H264_STREAM_TYPE:return"video";case r.ADTS_STREAM_TYPE:return"audio";case r.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},d=function(e){if(!l(e))return null;var t=4+c(e);if(t>=e.byteLength)return null;var n,r=null;return n=e[t+7],192&n&&(r={},r.pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,r.pts*=4,r.pts+=(6&e[t+13])>>>1,r.dts=r.pts,64&n&&(r.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,r.dts*=4,r.dts+=(6&e[t+18])>>>1)),r},f=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},h=function(e){for(var t,n=4+c(e),r=e.subarray(n),i=0,a=0,o=!1;a<r.byteLength-3;a++)if(1===r[a+2]){i=a+5;break}for(;i<r.byteLength;)switch(r[i]){case 0:if(0!==r[i-1]){i+=2;break}if(0!==r[i-2]){i++;break}a+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===(t=f(31&r[a+3]))&&(o=!0);do{i++}while(1!==r[i]&&i<r.length);a=i-2,i+=3;break;case 1:if(0!==r[i-1]||0!==r[i-2]){i+=3;break}t=f(31&r[a+3]),"slice_layer_without_partitioning_rbsp_idr"===t&&(o=!0),a=i-2,i+=3;break;default:i+=3}return r=r.subarray(a),i-=a,a=0,r&&r.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===(t=f(31&r[a+3]))&&(o=!0),o};t.exports={parseType:a,parsePat:o,parsePmt:s,parsePayloadUnitStartIndicator:l,parsePesType:u,parsePesTime:d,videoPacketContainsKeyFrame:h}},{}],53:[function(e,t,n){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],54:[function(e,t,n){"use strict";var r=e(62),i=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},a=function(e){var t,n;a.prototype.init.call(this),this.type_=e,this.push=function(e){e.type===this.type_&&(n===undefined&&(n=e.dts),e.dts=i(e.dts,n),e.pts=i(e.pts,n),t=e.dts,this.trigger("data",e))},this.flush=function(){n=t,this.trigger("done")},this.discontinuity=function(){n=void 0,t=void 0}};a.prototype=new r,t.exports={TimestampRolloverStream:a,handleRollover:i}},{}],55:[function(e,t,n){t.exports={generator:e(56),Transmuxer:e(58).Transmuxer,AudioSegmentStream:e(58).AudioSegmentStream,VideoSegmentStream:e(58).VideoSegmentStream}},{}],56:[function(e,t,n){"use strict";var u,r,i,a,o,s,l,c,d,f,h,p,v,y,g,m,_,b,T,w,k,S,C,E,O,P,A,j,x,L,I,M,D,R,B,N,U=Math.pow(2,32)-1;!function(){var e;if(C={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in C)C.hasOwnProperty(e)&&(C[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);E=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),P=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),O=new Uint8Array([0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),j=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),x={video:A,audio:j},M=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),I=new Uint8Array([0,0,0,0,0,0,0,0]),D=new Uint8Array([0,0,0,0,0,0,0,0]),R=D,B=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),N=D,L=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),u=function(e){var t,n,r,i=[],a=0;for(t=1;t<arguments.length;t++)i.push(arguments[t]);for(t=i.length;t--;)a+=i[t].byteLength;for(n=new Uint8Array(a+8),r=new DataView(n.buffer,n.byteOffset,n.byteLength),r.setUint32(0,n.byteLength),n.set(e,4),t=0,a=8;t<i.length;t++)n.set(i[t],a),a+=i[t].byteLength;return n},r=function(){return u(C.dinf,u(C.dref,M))},i=function(e){return u(C.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},a=function(){return u(C.ftyp,E,O,E,P)},m=function(e){return u(C.hdlr,x[e])},o=function(e){return u(C.mdat,e)},g=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),u(C.mdhd,t)},y=function(e){return u(C.mdia,g(e),m(e.type),l(e))},s=function(e){return u(C.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},l=function(e){return u(C.minf,"video"===e.type?u(C.vmhd,L):u(C.smhd,I),r(),b(e))},c=function(e,t){for(var n=[],r=t.length;r--;)n[r]=w(t[r]);return u.apply(null,[C.moof,s(e)].concat(n))},d=function(e){for(var t=e.length,n=[];t--;)n[t]=p(e[t]);return u.apply(null,[C.moov,h(4294967295)].concat(n).concat(f(e)))},f=function(e){for(var t=e.length,n=[];t--;)n[t]=k(e[t]);return u.apply(null,[C.mvex].concat(n))},h=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return u(C.mvhd,t)},_=function(e){var t,n,r=e.samples||[],i=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)t=r[n].flags,i[n+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return u(C.sdtp,i)},b=function(e){return u(C.stbl,T(e),u(C.stts,N),u(C.stsc,R),u(C.stsz,B),u(C.stco,D))},function(){var t,n;T=function(e){return u(C.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?t(e):n(e))},t=function(e){var t,n=e.sps||[],r=e.pps||[],i=[],a=[];for(t=0;t<n.length;t++)i.push((65280&n[t].byteLength)>>>8),i.push(255&n[t].byteLength),i=i.concat(Array.prototype.slice.call(n[t]));for(t=0;t<r.length;t++)a.push((65280&r[t].byteLength)>>>8),a.push(255&r[t].byteLength),a=a.concat(Array.prototype.slice.call(r[t]));return u(C.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),u(C.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([n.length]).concat(i).concat([r.length]).concat(a))),u(C.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},n=function(e){return u(C.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),i(e))}}(),v=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return u(C.tkhd,t)},w=function(e){var t,n,r,i,a,o,s;return t=u(C.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),o=Math.floor(e.baseMediaDecodeTime/(U+1)),s=Math.floor(e.baseMediaDecodeTime%(U+1)),n=u(C.tfdt,new Uint8Array([1,0,0,0,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),a=92,"audio"===e.type?(r=S(e,a),u(C.traf,t,n,r)):(i=_(e),r=S(e,i.length+a),u(C.traf,t,n,r,i))},p=function(e){return e.duration=e.duration||4294967295,u(C.trak,v(e),y(e))},k=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),u(C.trex,t)},function(){var n,r,o;o=function(e,t){var n=0,r=0,i=0,a=0;return e.length&&(e[0].duration!==undefined&&(n=1),e[0].size!==undefined&&(r=2),e[0].flags!==undefined&&(i=4),e[0].compositionTimeOffset!==undefined&&(a=8)),[0,0,n|r|i|a,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},r=function(e,t){var n,r,i,a;for(r=e.samples||[],t+=20+16*r.length,n=o(r,t),a=0;a<r.length;a++)i=r[a],n=n.concat([(4278190080&i.duration)>>>24,(16711680&i.duration)>>>16,(65280&i.duration)>>>8,255&i.duration,(4278190080&i.size)>>>24,(16711680&i.size)>>>16,(65280&i.size)>>>8,255&i.size,i.flags.isLeading<<2|i.flags.dependsOn,i.flags.isDependedOn<<6|i.flags.hasRedundancy<<4|i.flags.paddingValue<<1|i.flags.isNonSyncSample,61440&i.flags.degradationPriority,15&i.flags.degradationPriority,(4278190080&i.compositionTimeOffset)>>>24,(16711680&i.compositionTimeOffset)>>>16,(65280&i.compositionTimeOffset)>>>8,255&i.compositionTimeOffset]);return u(C.trun,new Uint8Array(n))},n=function(e,t){var n,r,i,a;for(r=e.samples||[],t+=20+8*r.length,n=o(r,t),a=0;a<r.length;a++)i=r[a],n=n.concat([(4278190080&i.duration)>>>24,(16711680&i.duration)>>>16,(65280&i.duration)>>>8,255&i.duration,(4278190080&i.size)>>>24,(16711680&i.size)>>>16,(65280&i.size)>>>8,255&i.size]);return u(C.trun,new Uint8Array(n))},S=function(e,t){return"audio"===e.type?n(e,t):r(e,t)}}(),t.exports={ftyp:a,mdat:o,moof:c,moov:d,initSegment:function(e){var t,n=a(),r=d(e);return t=new Uint8Array(n.byteLength+r.byteLength),t.set(n),t.set(r,n.byteLength),t}}},{}],57:[function(e,t,n){"use strict";var u,l,r,i;u=function(e,t){var n,r,i,a,o,s=[];if(!t.length)return null;for(n=0;n<e.byteLength;)r=e[n]<<24,r|=e[n+1]<<16,r|=e[n+2]<<8,r|=e[n+3],i=l(e.subarray(n+4,n+8)),a=r>1?n+r:e.byteLength,i===t[0]&&(1===t.length?s.push(e.subarray(n+8,a)):(o=u(e.subarray(n+8,a),t.slice(1)),o.length&&(s=s.concat(o)))),n=a;return s},l=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},r=function(e){var t={};return u(e,["moov","trak"]).reduce(function(e,t){var n,r,i,a,o;return(n=u(t,["tkhd"])[0])?(r=n[0],i=0===r?12:20,a=n[i]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3],(o=u(t,["mdia","mdhd"])[0])?(r=o[0],i=0===r?12:20,e[a]=o[i]<<24|o[i+1]<<16|o[i+2]<<8|o[i+3],e):null):null},t)},i=function(a,e){var t,n,r;return t=u(e,["moof","traf"]),n=[].concat.apply([],t.map(function(i){return u(i,["tfhd"]).map(function(e){var t,n,r;return t=e[4]<<24|e[5]<<16|e[6]<<8|e[7],n=a[t]||9e4,r=u(i,["tfdt"]).map(function(e){var t,n;return t=e[0],n=e[4]<<24|e[5]<<16|e[6]<<8|e[7],1===t&&(n*=Math.pow(2,32),n+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),n})[0],(r=r||Infinity)/n})})),r=Math.min.apply(null,n),isFinite(r)?r:0},t.exports={parseType:l,timescale:r,startTime:i}},{}],58:[function(e,t,n){"use strict";var f,s,u,l,h,c,p,v,y,g,d,r=e(62),m=e(56),_=e(50),b=e(40),T=e(41).H264Stream,w=e(38),k=e(42),S=e(60),C=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],E=["width","height","profileIdc","levelIdc","profileCompatibility"];h=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}},c=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},g=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},d=function(e){var t,n,r=0;for(t=0;t<e.length;t++)n=e[t],r+=n.data.byteLength;return r},s=function(i){var a=[],o=0,t=0,l=0,c=Infinity;s.prototype.init.call(this),this.push=function(t){p(i,t),i&&C.forEach(function(e){i[e]=t[e]}),a.push(t)},this.setEarliestDts=function(e){t=e-i.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){c=e},this.setAudioAppendStart=function(e){l=e},this.flush=function(){var e,t,n,r;if(0===a.length)return void this.trigger("done","AudioSegmentStream");e=this.trimAdtsFramesByEarliestDts_(a),i.baseMediaDecodeTime=y(i),this.prefixWithSilence_(i,e),i.samples=this.generateSampleTable_(e),n=m.mdat(this.concatenateFrameData_(e)),a=[],t=m.moof(o,[i]),r=new Uint8Array(t.byteLength+n.byteLength),o++,r.set(t),r.set(n,t.byteLength),v(i),this.trigger("data",{track:i,boxes:r}),this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(e,t){var n,r,i,a=0,o=0,s=0,u=0;if(t.length&&(n=S.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),a=Math.ceil(9e4/(e.samplerate/1024)),l&&c&&(o=n-Math.max(l,c),s=Math.floor(o/a),u=s*a),!(s<1||u>45e3))){for(r=k[e.samplerate],r||(r=t[0].data),i=0;i<s;i++)t.splice(i,0,{data:r});e.baseMediaDecodeTime-=Math.floor(S.videoTsToAudioTs(u,e.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(e){return i.minSegmentDts>=t?e:(i.minSegmentDts=Infinity,e.filter(function(e){return e.dts>=t&&(i.minSegmentDts=Math.min(i.minSegmentDts,e.dts),i.minSegmentPts=i.minSegmentDts,!0)}))},this.generateSampleTable_=function(e){var t,n,r=[];for(t=0;t<e.length;t++)n=e[t],r.push({size:n.data.byteLength,duration:1024});return r},this.concatenateFrameData_=function(e){var t,n,r=0,i=new Uint8Array(d(e));for(t=0;t<e.length;t++)n=e[t],i.set(n.data,r),r+=n.data.byteLength;return i}},s.prototype=new r,f=function(s,u){var t,n,l=0,c=[],d=[];u=u||{},f.prototype.init.call(this),delete s.minPTS,this.gopCache_=[],this.push=function(e){p(s,e),"seq_parameter_set_rbsp"!==e.nalUnitType||t||(t=e.config,s.sps=[e.data],E.forEach(function(e){s[e]=t[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.data,s.pps=[e.data]),c.push(e)},this.flush=function(){for(var e,t,n,r,i,a;c.length&&"access_unit_delimiter_rbsp"!==c[0].nalUnitType;)c.shift();if(0===c.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(e=this.groupNalsIntoFrames_(c),n=this.groupFramesIntoGops_(e),n[0][0].keyFrame||(t=this.getGopForFusion_(c[0],s),t?(n.unshift(t),n.byteLength+=t.byteLength,n.nalCount+=t.nalCount,n.pts=t.pts,n.dts=t.dts,n.duration+=t.duration):n=this.extendFirstKeyFrame_(n)),d.length){var o;if(!(o=u.alignGopsAtEnd?this.alignGopsAtEnd_(n):this.alignGopsAtStart_(n)))return this.gopCache_.unshift({gop:n.pop(),pps:s.pps,sps:s.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),c=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");v(s),n=o}p(s,n),s.samples=this.generateSampleTable_(n),i=m.mdat(this.concatenateNalData_(n)),s.baseMediaDecodeTime=y(s),this.trigger("processedGopsInfo",n.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),this.gopCache_.unshift({gop:n.pop(),pps:s.pps,sps:s.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),c=[],this.trigger("baseMediaDecodeTime",s.baseMediaDecodeTime),this.trigger("timelineStartInfo",s.timelineStartInfo),r=m.moof(l,[s]),a=new Uint8Array(r.byteLength+i.byteLength),l++,a.set(r),a.set(i,r.byteLength),this.trigger("data",{track:s,boxes:a}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){v(s),t=undefined,n=undefined},this.getGopForFusion_=function(e){var t,n,r,i,a,o=Infinity;for(a=0;a<this.gopCache_.length;a++)i=this.gopCache_[a],r=i.gop,s.pps&&g(s.pps[0],i.pps[0])&&s.sps&&g(s.sps[0],i.sps[0])&&(r.dts<s.timelineStartInfo.dts||(t=e.dts-r.dts-r.duration)>=-1e4&&t<=45e3&&(!n||o>t)&&(n=i,o=t));return n?n.gop:null},this.extendFirstKeyFrame_=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},this.groupNalsIntoFrames_=function(e){var t,n,r=[],i=[];for(r.byteLength=0,t=0;t<e.length;t++)n=e[t],"access_unit_delimiter_rbsp"===n.nalUnitType?(r.length&&(r.duration=n.dts-r.dts,i.push(r)),r=[n],r.byteLength=n.data.byteLength,r.pts=n.pts,r.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(r.keyFrame=!0),r.duration=n.dts-r.dts,r.byteLength+=n.data.byteLength,r.push(n));return i.length&&(!r.duration||r.duration<=0)&&(r.duration=i[i.length-1].duration),i.push(r),i},this.groupFramesIntoGops_=function(e){var t,n,r=[],i=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,t=0;t<e.length;t++)n=e[t],n.keyFrame?(r.length&&(i.push(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration),r=[n],r.nalCount=n.length,r.byteLength=n.byteLength,r.pts=n.pts,r.dts=n.dts,r.duration=n.duration):(r.duration+=n.duration,r.nalCount+=n.length,r.byteLength+=n.byteLength,r.push(n));return i.length&&r.duration<=0&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration,i.push(r),i},this.generateSampleTable_=function(e,t){var n,r,i,a,o,s=t||0,u=[];for(n=0;n<e.length;n++)for(a=e[n],r=0;r<a.length;r++)o=a[r],i=h(),i.dataOffset=s,i.compositionTimeOffset=o.pts-o.dts,i.duration=o.duration,i.size=4*o.length,i.size+=o.byteLength,o.keyFrame&&(i.flags.dependsOn=2),s+=i.size,u.push(i);return u},this.concatenateNalData_=function(e){var t,n,r,i,a,o,s=0,u=e.byteLength,l=e.nalCount,c=u+4*l,d=new Uint8Array(c),f=new DataView(d.buffer);for(t=0;t<e.length;t++)for(i=e[t],n=0;n<i.length;n++)for(a=i[n],r=0;r<a.length;r++)o=a[r],f.setUint32(s,o.data.byteLength),s+=4,d.set(o.data,s),s+=o.data.byteLength;return d},this.alignGopsAtStart_=function(e){var t,n,r,i,a,o,s,u;for(a=e.byteLength,o=e.nalCount,s=e.duration,t=n=0;t<d.length&&n<e.length&&(r=d[t],i=e[n],r.pts!==i.pts);)i.pts>r.pts?t++:(n++,a-=i.byteLength,o-=i.nalCount,s-=i.duration);return 0===n?e:n===e.length?null:(u=e.slice(n),u.byteLength=a,u.duration=s,u.nalCount=o,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(e){var t,n,r,i,a,o;for(t=d.length-1,n=e.length-1,a=null,o=!1;t>=0&&n>=0;){if(r=d[t],i=e[n],r.pts===i.pts){o=!0;break}r.pts>i.pts?t--:(t===d.length-1&&(a=n),n--)}if(!o&&null===a)return null;var s;if(0===(s=o?n:a))return e;var u=e.slice(s),l=u.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return u.byteLength=l.byteLength,u.duration=l.duration,u.nalCount=l.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(e){d=e}},f.prototype=new r,p=function(e,t){"number"==typeof t.pts&&(e.timelineStartInfo.pts===undefined&&(e.timelineStartInfo.pts=t.pts),e.minSegmentPts===undefined?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),e.maxSegmentPts===undefined?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(e.timelineStartInfo.dts===undefined&&(e.timelineStartInfo.dts=t.dts),e.minSegmentDts===undefined?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.maxSegmentDts===undefined?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},v=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},y=function(e){var t,n,r=e.minSegmentDts-e.timelineStartInfo.dts;return t=e.timelineStartInfo.baseMediaDecodeTime,t+=r,t=Math.max(0,t),"audio"===e.type&&(n=e.samplerate/9e4,t*=n,t=Math.floor(t)),t},l=function(e,t){this.numberOfTracks=0,this.metadataStream=t,"undefined"!=typeof e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,l.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}},l.prototype=new r,l.prototype.flush=function(e){var t,n,r,i,a=0,o={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return void(++this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,E.forEach(function(e){o.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,C.forEach(function(e){o.info[e]=this.audioTrack[e]},this)),1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,r=m.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(r.byteLength),o.initSegment.set(r),o.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)o.data.set(this.pendingBoxes[i],a),a+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)t=this.pendingCaptions[i],t.startTime=t.startPts-s,t.startTime/=9e4,t.endTime=t.endPts-s,t.endTime/=9e4,o.captionStreams[t.stream]=!0,o.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)n=this.pendingMetadata[i],n.cueTime=n.pts-s,n.cueTime/=9e4,o.metadata.push(n);o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},u=function(r){var i,a,o=this,n=!0;u.prototype.init.call(this),r=r||{},this.baseMediaDecodeTime=r.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};this.transmuxPipeline_=t,t.type="aac",t.metadataStream=new _.MetadataStream,t.aacStream=new w,t.audioTimestampRolloverStream=new _.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new _.TimestampRolloverStream("timed-metadata"),t.adtsStream=new b,t.coalesceStream=new l(r,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(e){"timed-metadata"!==e.type||t.audioSegmentStream||(a=a||{timelineStartInfo:{baseMediaDecodeTime:o.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new s(a),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var n={};this.transmuxPipeline_=n,n.type="ts",n.metadataStream=new _.MetadataStream,n.packetStream=new _.TransportPacketStream,n.parseStream=new _.TransportParseStream,n.elementaryStream=new _.ElementaryStream,n.videoTimestampRolloverStream=new _.TimestampRolloverStream("video"),n.audioTimestampRolloverStream=new _.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new _.TimestampRolloverStream("timed-metadata"),n.adtsStream=new b,n.h264Stream=new T,n.captionStream=new _.CaptionStream,n.coalesceStream=new l(r,n.metadataStream),n.headOfPipeline=n.packetStream,n.packetStream.pipe(n.parseStream).pipe(n.elementaryStream),n.elementaryStream.pipe(n.videoTimestampRolloverStream).pipe(n.h264Stream),n.elementaryStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.elementaryStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.h264Stream.pipe(n.captionStream).pipe(n.coalesceStream),n.elementaryStream.on("data",function(e){var t;if("metadata"===e.type){for(t=e.tracks.length;t--;)i||"video"!==e.tracks[t].type?a||"audio"!==e.tracks[t].type||(a=e.tracks[t],a.timelineStartInfo.baseMediaDecodeTime=o.baseMediaDecodeTime):(i=e.tracks[t],i.timelineStartInfo.baseMediaDecodeTime=o.baseMediaDecodeTime);i&&!n.videoSegmentStream&&(n.coalesceStream.numberOfTracks++,n.videoSegmentStream=new f(i,r),n.videoSegmentStream.on("timelineStartInfo",function(e){a&&(a.timelineStartInfo=e,n.audioSegmentStream.setEarliestDts(e.dts))}),n.videoSegmentStream.on("processedGopsInfo",o.trigger.bind(o,"gopInfo")),n.videoSegmentStream.on("baseMediaDecodeTime",function(e){a&&n.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),n.h264Stream.pipe(n.videoSegmentStream).pipe(n.coalesceStream)),a&&!n.audioSegmentStream&&(n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new s(a),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream))}}),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(e){var t=this.transmuxPipeline_;this.baseMediaDecodeTime=e,a&&(a.timelineStartInfo.dts=undefined,a.timelineStartInfo.pts=undefined,v(a),a.timelineStartInfo.baseMediaDecodeTime=e,t.audioTimestampRolloverStream&&t.audioTimestampRolloverStream.discontinuity()),i&&(t.videoSegmentStream&&(t.videoSegmentStream.gopCache_=[],t.videoTimestampRolloverStream.discontinuity()),i.timelineStartInfo.dts=undefined,i.timelineStartInfo.pts=undefined,v(i),t.captionStream.reset(),i.timelineStartInfo.baseMediaDecodeTime=e),t.timedMetadataTimestampRolloverStream&&t.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){a&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){i&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(n){var t=c(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),n=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){n=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},u.prototype=new r,t.exports={Transmuxer:u,VideoSegmentStream:f,AudioSegmentStream:s,AUDIO_PROPERTIES:C,VIDEO_PROPERTIES:E}},{}],59:[function(e,t,n){"use strict";var a=e(53),o=e(54).handleRollover,p={};p.ts=e(52),p.aac=e(39);var i=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},s=function(e,t){for(var n,r=0,i=188;i<e.byteLength;)if(71!==e[r]||71!==e[i])r++,i++;else{switch(n=e.subarray(r,i),p.ts.parseType(n,t.pid)){case"pat":t.pid||(t.pid=p.ts.parsePat(n));break;case"pmt":t.table||(t.table=p.ts.parsePmt(n))}if(t.pid&&t.table)return;r+=188,i+=188}},u=function(e,t,n){for(var r,i,a,o,s=0,u=188,l=!1;u<e.byteLength;)if(71!==e[s]||71!==e[u])s++,u++;else{switch(r=e.subarray(s,u),p.ts.parseType(r,t.pid)){case"pes":i=p.ts.parsePesType(r,t.table),a=p.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&a&&(o=p.ts.parsePesTime(r))&&(o.type="audio",n.audio.push(o),l=!0)}if(l)break;s+=188,u+=188}for(u=e.byteLength,s=u-188,l=!1;s>=0;)if(71!==e[s]||71!==e[u])s--,u--;else{switch(r=e.subarray(s,u),p.ts.parseType(r,t.pid)){case"pes":i=p.ts.parsePesType(r,t.table),a=p.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&a&&(o=p.ts.parsePesTime(r))&&(o.type="audio",n.audio.push(o),l=!0)}if(l)break;s-=188,u-=188}},l=function(e,t,n){for(var r,i,a,o,s,u,l,c=0,d=188,f=!1,h={data:[],size:0};d<e.byteLength;)if(71!==e[c]||71!==e[d])c++,d++;else{switch(r=e.subarray(c,d),p.ts.parseType(r,t.pid)){case"pes":if(i=p.ts.parsePesType(r,t.table),a=p.ts.parsePayloadUnitStartIndicator(r),"video"===i&&(a&&!f&&(o=p.ts.parsePesTime(r))&&(o.type="video",n.video.push(o),f=!0),!n.firstKeyFrame)){if(a&&0!==h.size){for(s=new Uint8Array(h.size),u=0;h.data.length;)l=h.data.shift(),s.set(l,u),u+=l.byteLength;p.ts.videoPacketContainsKeyFrame(s)&&(n.firstKeyFrame=p.ts.parsePesTime(s),n.firstKeyFrame.type="video"),h.size=0}h.data.push(r),h.size+=r.byteLength}}if(f&&n.firstKeyFrame)break;c+=188,d+=188}for(d=e.byteLength,c=d-188,f=!1;c>=0;)if(71!==e[c]||71!==e[d])c--,d--;else{switch(r=e.subarray(c,d),p.ts.parseType(r,t.pid)){case"pes":i=p.ts.parsePesType(r,t.table),a=p.ts.parsePayloadUnitStartIndicator(r),"video"===i&&a&&(o=p.ts.parsePesTime(r))&&(o.type="video",n.video.push(o),f=!0)}if(f)break;c-=188,d-=188}},c=function(e,t){if(e.audio&&e.audio.length){var n=t;void 0===n&&(n=e.audio[0].dts),e.audio.forEach(function(e){e.dts=o(e.dts,n),e.pts=o(e.pts,n),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4})}if(e.video&&e.video.length){var r=t;if(void 0===r&&(r=e.video[0].dts),e.video.forEach(function(e){e.dts=o(e.dts,r),e.pts=o(e.pts,r),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4}),e.firstKeyFrame){var i=e.firstKeyFrame;i.dts=o(i.dts,r),i.pts=o(i.pts,r),i.dtsTime=i.dts/9e4,i.ptsTime=i.dts/9e4}}},d=function(e){for(var t,n=!1,r=0,i=null,a=null,o=0,s=0;e.length-s>=3;){switch(p.aac.parseType(e,s)){case"timed-metadata":if(e.length-s<10){n=!0;break}if((o=p.aac.parseId3TagSize(e,s))>e.length){n=!0;break}null===a&&(t=e.subarray(s,s+o),a=p.aac.parseAacTimestamp(t)),s+=o;break;case"audio":if(e.length-s<7){n=!0;break}if((o=p.aac.parseAdtsSize(e,s))>e.length){n=!0;break}null===i&&(t=e.subarray(s,s+o),i=p.aac.parseSampleRate(t)),r++,s+=o;break;default:s++}if(n)return null}if(null===i||null===a)return null;var u=9e4/i;return{audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*r*u,pts:a+1024*r*u}]}},f=function(e){var t={pid:null,table:null},n={};s(e,t);for(var r in t.table)if(t.table.hasOwnProperty(r)){var i=t.table[r];switch(i){case a.H264_STREAM_TYPE:n.video=[],l(e,t,n),0===n.video.length&&delete n.video;break;case a.ADTS_STREAM_TYPE:n.audio=[],u(e,t,n),0===n.audio.length&&delete n.audio}}return n},r=function(e,t){var n,r=i(e);return(n=r?d(e):f(e))&&(n.audio||n.video)?(c(n,t),n):null};t.exports={inspect:r}},{}],60:[function(e,t,n){var r,i,a,o,s,u;r=function(e){return 9e4*e},i=function(e,t){return e*t},a=function(e){return e/9e4},o=function(e,t){return e/t},s=function(e,t){return r(o(e,t))},u=function(e,t){return i(a(e),t)},t.exports={secondsToVideoTs:r,secondsToAudioTs:i,videoTsToSeconds:a,audioTsToSeconds:o,audioTsToVideoTs:s,videoTsToAudioTs:u}},{}],61:[function(e,t,n){"use strict";var r;r=function(r){var i=r.byteLength,a=0,o=0;this.length=function(){return 8*i},this.bitsAvailable=function(){return 8*i+o},this.loadWord=function(){var e=r.byteLength-i,t=new Uint8Array(4),n=Math.min(4,i);if(0===n)throw new Error("no bytes available");t.set(r.subarray(e,e+n)),a=new DataView(t.buffer).getUint32(0),o=8*n,i-=n},this.skipBits=function(e){var t;o>e?(a<<=e,o-=e):(e-=o,t=Math.floor(e/8),e-=8*t,i-=t,this.loadWord(),a<<=e,o-=e)},this.readBits=function(e){var t=Math.min(o,e),n=a>>>32-t;return o-=t,o>0?a<<=t:i>0&&this.loadWord(),t=e-t,t>0?n<<t|this.readBits(t):n},this.skipLeadingZeros=function(){var e;for(e=0;e<o;++e)if(0!=(a&2147483648>>>e))return a<<=e,o-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=r},{}],62:[function(e,t,n){"use strict";var r=function(){this.init=function(){var a={};this.on=function(e,t){a[e]||(a[e]=[]),a[e]=a[e].concat(t)},this.off=function(e,t){var n;return!!a[e]&&(n=a[e].indexOf(t),a[e]=a[e].slice(),a[e].splice(n,1),n>-1)},this.trigger=function(e){var t,n,r,i;if(t=a[e])if(2===arguments.length)for(r=t.length,n=0;n<r;++n)t[n].call(this,arguments[1]);else{for(i=[],n=arguments.length,n=1;n<arguments.length;++n)i.push(arguments[n]);for(r=t.length,n=0;n<r;++n)t[n].apply(this,i)}},this.dispose=function(){a={}}}};r.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},r.prototype.push=function(e){this.trigger("data",e)},r.prototype.flush=function(e){this.trigger("done",e)},t.exports=r},{}],63:[function(e,i,a){!function(e){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,c=/^([^\/;?#]*)(.*)$/,t=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,d={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var r=this.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=d.normalizePath(r.path),d.buildURLFromParts(r)}var i=this.parseURL(t);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return n.alwaysNormalize?(i.path=d.normalizePath(i.path),d.buildURLFromParts(i)):t;var a=this.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var o=c.exec(a.path);a.netLoc=o[1],a.path=o[2]}a.netLoc&&!a.path&&(a.path="/");var s={scheme:a.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};if(!i.netLoc&&(s.netLoc=a.netLoc,"/"!==i.path[0]))if(i.path){var u=a.path,l=u.substring(0,u.lastIndexOf("/")+1)+i.path;s.path=d.normalizePath(l)}else s.path=a.path,i.params||(s.params=a.params,i.query||(s.query=a.query));return null===s.path&&(s.path=n.alwaysNormalize?d.normalizePath(i.path):i.path),d.buildURLFromParts(s)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(t,"");e.length!==(e=e.replace(r,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};"object"==typeof a&&"object"==typeof i?i.exports=d:true?!(o=[],s=function(){return d}.apply(l,o),s!==undefined&&(u.exports=s)):"object"==typeof a?a.URLToolkit=d:e.URLToolkit=d}(this)},{}],64:[function(l,c,d){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(d,"__esModule",{value:!0});var n=l(32),a=t(n),r="undefined"!=typeof window?W:void 0!==e?e.videojs:null,i=t(r),s=function(e){Object.defineProperties(e.frame,{id:{get:function(){return i["default"].log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return i["default"].log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return i["default"].log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},u=function(e){undefined;return isNaN(e)||Math.abs(e)===Infinity?Number.MAX_VALUE:e},o=function(r,e,t){var i=a["default"].WebKitDataCue||a["default"].VTTCue;e&&e.forEach(function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new i(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},r),t&&function(){var o=u(r.mediaSource_.duration);t.forEach(function(e){var n=e.cueTime+this.timestampOffset;e.frames.forEach(function(e){var t=new i(n,n,e.value||e.url||e.data||"");t.frame=e,t.value=e,s(t),this.metadataTrack_.addCue(t)},this)},r),r.metadataTrack_&&r.metadataTrack_.cues&&r.metadataTrack_.cues.length&&function(){for(var e=r.metadataTrack_.cues,t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);var i=t.reduce(function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e},{}),a=Object.keys(i).sort(function(e,t){return Number(e)-Number(t)});a.forEach(function(e,t){var n=i[e],r=Number(a[t+1])||o;n.forEach(function(e){e.endTime=r})})}()}()};d["default"]={addTextTrackData:o,durationOfVideo:u},c.exports=d["default"]}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],65:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return/mp4a\.\d+.\d+/i.test(e)},i=function(e){return/avc1\.[\da-f]+/i.test(e)},a=function(e){var i={type:"",parameters:{}},t=e.trim().split(";");return i.type=t.shift().trim(),t.forEach(function(e){var t=e.trim().split("=");if(t.length>1){var n=t[0].replace(/"/g,"").trim(),r=t[1].replace(/"/g,"").trim();i.parameters[n]=r}}),i},o=function(e){return e.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})})};n["default"]={isAudioCodec:r,parseContentType:a,isVideoCodec:i,translateLegacyCodecs:o},t.exports=n["default"]},{}],66:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){var r=t.player_;if(n.captions&&n.captions.length){e.inbandTextTracks_||(e.inbandTextTracks_={});for(var i in n.captionStreams)if(!e.inbandTextTracks_[i]){r.tech_.trigger({type:"usage",name:"hls-608"});var a=r.textTracks().getTrackById(i);e.inbandTextTracks_[i]=a||r.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}}n.metadata&&n.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)};n["default"]=r,t.exports=n["default"]},{}],67:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={TIME_BETWEEN_CHUNKS:1,BYTES_PER_CHUNK:32768};n["default"]=r,t.exports=n["default"]},{}],68:[function(m,_,b){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(b,"__esModule",{value:!0});var a=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=a,n=o,r=!0,s=l=undefined}},n=m(31),s=t(n),u="undefined"!=typeof window?W:void 0!==e?e.videojs:null,l=t(u),c=m(69),d=t(c),f=m(67),h=t(f),p=m(65),v=function(e){function n(){var t=this;r(this,n),o(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],function(e){t.swfObj=s["default"].getElementById(e.swfId),t.player_=(0,l["default"])(t.swfObj.parentNode),t.tech_=t.swfObj.tech,t.readyState="open",t.tech_.on("seeking",function(){for(var e=t.sourceBuffers.length;e--;)t.sourceBuffers[e].abort()}),t.swfObj&&t.swfObj.vjs_load()})}return i(n,e),a(n,[{key:"addSeekableRange_",value:function(){}},{key:"addSourceBuffer",value:function(e){var t=(0,p.parseContentType)(e),n=undefined;if("video/mp2t"!==t.type&&"audio/mp2t"!==t.type)throw new Error("NotSupportedError (Video.js)");return n=new d["default"](this),this.sourceBuffers.push(n),n}},{key:"endOfStream",value:function(e){"network"===e?this.tech_.error(2):"decode"===e&&this.tech_.error(3),"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]),n}(l["default"].EventTarget);b["default"]=v;try{Object.defineProperty(v.prototype,"duration",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):NaN},set:function(e){var t=undefined,n=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",e),e<n)for(t=0;t<this.sourceBuffers.length;t++)this.sourceBuffers[t].remove(e,n);return e}})}catch(g){v.prototype.duration=NaN}for(var y in h["default"])v[y]=h["default"][y];_.exports=b["default"]}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],69:[function(P,A,j){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(j,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=a,n=o,r=!0,s=l=undefined}},i=P(32),u=t(i),a="undefined"!=typeof window?W:void 0!==e?e.videojs:null,l=t(a),c=P(46),d=t(c),f=P(72),h=t(f),p=P(66),v=t(p),y=P(64),b=P(70),g=t(b),m=P(76),_=t(m),T=P(67),w=t(T),k=function(){var e=undefined;try{e=P.resolve("./flash-transmuxer-worker")}catch(j){}return e},S=function(e){u["default"].setTimeout(e,w["default"].TIME_BETWEEN_CHUNKS)},C=function(){return Math.random().toString(36).slice(2,8)},E=function(e,t){("number"!=typeof t||t<0)&&(t=0);var n=Math.pow(10,t);return Math.round(e*n)/n},O=function(e){function a(e){var t=this;o(this,a),s(Object.getPrototypeOf(a.prototype),"constructor",this).call(this);var n=undefined;this.chunkSize_=w["default"].BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource_=e,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.updating=!1,this.timestampOffset_=0,n=u["default"].btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(d["default"].getFlvHeader())));var r=this.mediaSource_.player_.id().replace(/[^a-zA-Z0-9]/g,"_");this.flashEncodedHeaderName_="vjs_flashEncodedHeader_"+r+C(),this.flashEncodedDataName_="vjs_flashEncodedData_"+r+C(),u["default"][this.flashEncodedHeaderName_]=function(){return delete u["default"][t.flashEncodedHeaderName_],n},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedHeaderName_),this.transmuxer_=(0,_["default"])(g["default"],k()),this.transmuxer_.postMessage({action:"init",options:{}}),this.transmuxer_.onmessage=function(e){"data"===e.data.action&&t.receiveBuffer_(e.data.segment)},this.one("updateend",function(){t.mediaSource_.tech_.trigger("loadedmetadata")}),Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.mediaSource_.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.transmuxer_.postMessage({action:"reset"}))}}),Object.defineProperty(this,"buffered",{get:function(){if(!(this.mediaSource_&&this.mediaSource_.swfObj&&"vjs_getProperty"in this.mediaSource_.swfObj))return l["default"].createTimeRange();var e=this.mediaSource_.swfObj.vjs_getProperty("buffered");return e&&e.length&&(e[0][0]=E(e[0][0],3),e[0][1]=E(e[0][1],3)),l["default"].createTimeRanges(e)}}),this.mediaSource_.player_.on("seeked",function(){if((0,h["default"])(0,Infinity,t.metadataTrack_),t.inbandTextTracks_)for(var e in t.inbandTextTracks_)(0,h["default"])(0,Infinity,t.inbandTextTracks_[e])});var i=this.onHlsReset_.bind(this);this.mediaSource_.player_.tech_.on("hls-reset",i),this.mediaSource_.player_.tech_.hls.on("dispose",function(){t.transmuxer_.terminate(),t.mediaSource_.player_.tech_.off("hls-reset",i)})}return n(a,e),r(a,[{key:"appendBuffer",value:function(e){var t=undefined;if(this.updating)throw t=new Error("SourceBuffer.append() cannot be called while an update is in progress"),t.name="InvalidStateError",t.code=11,t;this.updating=!0,this.mediaSource_.readyState="open",this.trigger({type:"update"}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"abort",value:function(){this.buffer_=[],this.bufferSize_=0,this.mediaSource_.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function(e,t){if((0,h["default"])(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)(0,h["default"])(e,t,this.inbandTextTracks_[n]);this.trigger({type:"update"}),this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function(t){var n=this;(0,v["default"])(this,this.mediaSource_,t),(0,y.addTextTrackData)(this,t.captions,t.metadata),S(function(){var e=n.convertTagsToData_(t);0===n.buffer_.length&&S(n.processBuffer_.bind(n)),e&&(n.buffer_.push(e),n.bufferSize_+=e.byteLength)})}},{key:"processBuffer_",value:function(){var e=this,t=w["default"].BYTES_PER_CHUNK;if(!this.buffer_.length)return void(!1!==this.updating&&(this.updating=!1,this.trigger({type:"updateend"})));var n=this.buffer_[0].subarray(0,t);n.byteLength<t||this.buffer_[0].byteLength===t?this.buffer_.shift():this.buffer_[0]=this.buffer_[0].subarray(t),this.bufferSize_-=n.byteLength;for(var r=[],i=n.byteLength,a=0;a<i;a++)r.push(String.fromCharCode(n[a]));var o=u["default"].btoa(r.join(""));u["default"][this.flashEncodedDataName_]=function(){return S(e.processBuffer_.bind(e)),delete u["default"][e.flashEncodedDataName_],o},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedDataName_)}},{key:"convertTagsToData_",value:function(e){var t=0,n=this.mediaSource_.tech_,r=0,i=undefined,a=e.tags.videoTags,o=e.tags.audioTags;if(isNaN(this.basePtsOffset_)&&(a.length||o.length)){var s=a[0]||{pts:Infinity},u=o[0]||{pts:Infinity};this.basePtsOffset_=Math.min(u.pts,s.pts)}n.seeking()&&(this.videoBufferEnd_=NaN,this.audioBufferEnd_=NaN),isNaN(this.videoBufferEnd_)?(n.buffered().length&&(r=n.buffered().end(0)-this.timestampOffset),n.seeking()&&(r=Math.max(r,n.currentTime()-this.timestampOffset)),r*=1e3,r+=this.basePtsOffset_):r=this.videoBufferEnd_+.1;var l=a.length;if(l&&a[l-1].pts>=r){for(;--l;){var c=a[l];if(!(c.pts>r)&&(c.keyFrame||c.metaDataTag))break}for(;l;){if(!a[l-1].metaDataTag)break;l--}}var d=a.slice(l),f=undefined;for(f=isNaN(this.audioBufferEnd_)?r:this.audioBufferEnd_+.1,d.length&&(f=Math.min(f,d[0].pts)),l=0;l<o.length&&!(o[l].pts>=f);)l++;var h=o.slice(l);h.length&&(this.audioBufferEnd_=h[h.length-1].pts),d.length&&(this.videoBufferEnd_=d[d.length-1].pts);var p=this.getOrderedTags_(d,h);if(0!==p.length){if(p[0].pts<r&&n.seeking()){var v=n.currentTime(),y=(r-p[0].pts)/1e3,g=v-y;g<1/30&&(g=0);try{this.mediaSource_.swfObj.vjs_adjustCurrentTime(g)}catch(b){}}for(var m=0;m<p.length;m++)t+=p[m].bytes.byteLength;i=new Uint8Array(t);for(var m=0,_=0;m<p.length;m++)i.set(p[m].bytes,_),_+=p[m].bytes.byteLength;return i}}},{key:"getOrderedTags_",value:function(e,t){for(var n=undefined,r=[];e.length||t.length;)n=e.length?t.length&&t[0].dts<e[0].dts?t.shift():e.shift():t.shift(),r.push(n);return r}},{key:"onHlsReset_",value:function(){this.transmuxer_.postMessage({action:"resetCaptions"})}}]),a}(l["default"].EventTarget);j["default"]=O,A.exports=j["default"]}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],70:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=e(32),s=r(o),u=e(46),l=r(u),c=function(e){e.on("data",function(e){s["default"].postMessage({action:"data",segment:e})}),e.on("done",function(e){s["default"].postMessage({action:"done"})})},d=function(){function t(e){i(this,t),this.options=e||{},this.init()}return a(t,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new l["default"].Transmuxer(this.options),c(this.transmuxer)}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"flush",value:function(){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}}]),t}(),f=function(e){e.onmessage=function(e){if("init"===e.data.action&&e.data.options)return void(this.messageHandlers=new d(e.data.options));this.messageHandlers||(this.messageHandlers=new d),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data)}};n["default"]=function(e){return new f(e)},t.exports=n["default"]},{}],71:[function(g,m,_){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(_,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=a,n=o,r=!0,s=l=undefined}},a=g(32),s=t(a),u=g(31),l=t(u),c="undefined"!=typeof window?W:void 0!==e?e.videojs:null,d=t(c),f=g(75),h=t(f),p=g(64),v=g(65),y=function(e){function t(){var a=this;n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var e=undefined;this.nativeMediaSource_=new s["default"].MediaSource;for(e in this.nativeMediaSource_)e in t.prototype||"function"!=typeof this.nativeMediaSource_[e]||(this[e]=this.nativeMediaSource_[e].bind(this.nativeMediaSource_));this.duration_=NaN,Object.defineProperty(this,"duration",{get:function(){return this.duration_===Infinity?this.duration_:this.nativeMediaSource_.duration},set:function(e){if(this.duration_=e,e!==Infinity)return void(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(this,"seekable",{get:function(){return this.duration_===Infinity?d["default"].createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(this,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),this.sourceBuffers=[],this.activeSourceBuffers_=[],this.updateActiveSourceBuffers_=function(){if(a.activeSourceBuffers_.length=0,1===a.sourceBuffers.length){var e=a.sourceBuffers[0];return e.appendAudioInitSegment_=!0,e.audioDisabled_=!e.audioCodec_,void a.activeSourceBuffers_.push(e)}for(var t=!1,n=!0,r=0;r<a.player_.audioTracks().length;r++){var i=a.player_.audioTracks()[r];if(i.enabled&&"main"!==i.kind){t=!0,n=!1;break}}a.sourceBuffers.forEach(function(e){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=t;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,n=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=n,n))return;a.activeSourceBuffers_.push(e)})},this.onPlayerMediachange_=function(){a.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=!0})},this.onHlsReset_=function(){a.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.postMessage({action:"resetCaptions"})})},this.onHlsSegmentTimeMapping_=function(t){a.sourceBuffers.forEach(function(e){return e.timeMapping_=t.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},this),this.on("sourceopen",function(e){var t=l["default"].querySelector('[src="'+a.url_+'"]');t&&(a.player_=(0,d["default"])(t.parentNode),a.player_.tech_.on("hls-reset",a.onHlsReset_),a.player_.tech_.on("hls-segment-time-mapping",a.onHlsSegmentTimeMapping_),a.player_.audioTracks&&a.player_.audioTracks()&&(a.player_.audioTracks().on("change",a.updateActiveSourceBuffers_),a.player_.audioTracks().on("addtrack",a.updateActiveSourceBuffers_),a.player_.audioTracks().on("removetrack",a.updateActiveSourceBuffers_)),a.player_.on("mediachange",a.onPlayerMediachange_))}),this.on("sourceended",function(e){for(var t=(0,p.durationOfVideo)(a.duration),n=0;n<a.sourceBuffers.length;n++){var r=a.sourceBuffers[n],i=r.metadataTrack_&&r.metadataTrack_.cues;i&&i.length&&(i[i.length-1].endTime=t)}}),this.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))})}return r(t,e),i(t,[{key:"addSeekableRange_",value:function(e,t){var n=undefined;if(this.duration!==Infinity)throw n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),n.name="InvalidStateError",n.code=11,n;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=undefined,n=(0,v.parseContentType)(e);if(/^(video|audio)\/mp2t$/i.test(n.type)){var r=[];n.parameters&&n.parameters.codecs&&(r=n.parameters.codecs.split(","),r=(0,v.translateLegacyCodecs)(r),r=r.filter(function(e){return(0,v.isAudioCodec)(e)||(0,v.isVideoCodec)(e)})),0===r.length&&(r=["avc1.4d400d","mp4a.40.2"]),t=new h["default"](this,r),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),t}(d["default"].EventTarget);_["default"]=y,m.exports=_["default"]}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],72:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){var r=undefined,i=undefined;if(n&&n.cues)for(r=n.cues.length;r--;)i=n.cues[r],i.startTime<=t&&i.endTime>=e&&n.removeCue(i)};n["default"]=r,t.exports=n["default"]},{}],73:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=e(32),s=r(o),u=e(55),l=r(u),c=function(e){e.on("data",function(e){var t=e.initSegment;e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength};var n=e.data;e.data=n.buffer,s["default"].postMessage({action:"data",segment:e,byteOffset:n.byteOffset,byteLength:n.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){s["default"].postMessage({action:"caption",data:e})}),e.on("done",function(e){s["default"].postMessage({action:"done"})}),e.on("gopInfo",function(e){s["default"].postMessage({action:"gopInfo",gopInfo:e})})},d=function(){function t(e){i(this,t),this.options=e||{},this.init()}return a(t,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new l["default"].Transmuxer(this.options),c(this.transmuxer)}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]),t}(),f=function(e){e.onmessage=function(e){if("init"===e.data.action&&e.data.options)return void(this.messageHandlers=new d(e.data.options));this.messageHandlers||(this.messageHandlers=new d),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data)}};n["default"]=function(e){return new f(e)},t.exports=n["default"]},{}],74:[function(y,e,g){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(g,"__esModule",{value:!0});var n=y(32),r=t(n),i=y(68),a=t(i),o=y(71),s=t(o),u="undefined"!=typeof window?W:void 0!==e?e.videojs:null,l=t(u),c=0,d={mode:"auto"};l["default"].mediaSources={};var f=function(e,t){var n=l["default"].mediaSources[e];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:t})},h=function(){return!!r["default"].MediaSource&&!!r["default"].MediaSource.isTypeSupported&&r["default"].MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},p=function(e){var t=l["default"].mergeOptions(d,e);if(this.MediaSource={open:f,supportsNativeMediaSources:h},"html5"===t.mode||"auto"===t.mode&&h())return new s["default"];if(l["default"].getTech("Flash"))return new a["default"];throw new Error("Cannot use Flash or Html5 to create a MediaSource for this video")};g.MediaSource=p,p.open=f,p.supportsNativeMediaSources=h;var v={createObjectURL:function(e){var t=undefined;return e instanceof s["default"]?(t=r["default"].URL.createObjectURL(e.nativeMediaSource_),e.url_=t,t):e instanceof a["default"]?(t="blob:vjs-media-source/"+c,c++,l["default"].mediaSources[t]=e,t):(t=r["default"].URL.createObjectURL(e),e.url_=t,t)}};g.URL=v,l["default"].MediaSource=p,l["default"].URL=v}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],75:[function(S,e,C){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(C,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=a,n=o,r=!0,s=l=undefined}},i="undefined"!=typeof window?W:void 0!==e?e.videojs:null,u=t(i),s=S(66),l=t(s),c=S(72),d=t(c),f=S(64),h=S(76),p=t(h),v=S(73),y=t(v),g=S(65),m=function(){var e=undefined;try{e=S.resolve("./transmuxer-worker")}catch(C){}return e},_=function(e,t){var n=e.addSourceBuffer(t),r=Object.create(null);r.updating=!1,r.realBuffer_=n;for(var i in n)!function(t){"function"==typeof n[t]?r[t]=function(){return n[t].apply(n,arguments)}:"undefined"==typeof r[t]&&Object.defineProperty(r,t,{get:function(){return n[t]},set:function(e){return n[t]=e}})}(i);return r},b=function(e,t,n){if(!t||!e.length)return[];var r=Math.ceil(9e4*(t.currentTime()-n+3)),i=undefined;for(i=0;i<e.length&&!(e[i].pts>r);i++);return e.slice(i)};C.gopsSafeToAlignWith=b;var T=function(e,t,n){if(!t.length)return e;if(n)return t.slice();var r=t[0].pts,i=0;for(i;i<e.length&&!(e[i].pts>=r);i++);return e.slice(0,i).concat(t)};C.updateGopBuffer=T;var w=function(e,t,n,r){for(var i=Math.ceil(9e4*(t-r)),a=Math.ceil(9e4*(n-r)),o=e.slice(),s=e.length;s--&&!(e[s].pts<=a););if(-1===s)return o;for(var u=s+1;u--&&!(e[u].pts<=i););return u=Math.max(u,0),o.splice(u,s-u+1),o};C.removeGopBuffer=w;var k=function(e){function i(e,t){var n=this;a(this,i),o(Object.getPrototypeOf(i.prototype),"constructor",this).call(this,u["default"].EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=e,this.codecs_=t,this.audioCodec_=null,this.videoCodec_=null,this.audioDisabled_=!1,this.appendAudioInitSegment_=!0,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=u["default"].browser.IE_VERSION>=11;var r={remux:!1,alignGopsAtEnd:this.safeAppend_};this.codecs_.forEach(function(e){(0,g.isAudioCodec)(e)?n.audioCodec_=e:(0,g.isVideoCodec)(e)&&(n.videoCodec_=e)}),this.transmuxer_=(0,p["default"])(y["default"],m()),this.transmuxer_.postMessage({action:"init",options:r}),this.transmuxer_.onmessage=function(e){return"data"===e.data.action?n.data_(e):"done"===e.data.action?n.done_(e):"gopInfo"===e.data.action?n.appendGopInfo_(e):void 0},Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(this,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(this,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(this,"buffered",{get:function(){var e=null,t=null,n=0,r=[],i=[];if(!this.videoBuffer_&&!this.audioBuffer_)return u["default"].createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;if(this.audioDisabled_)return this.videoBuffer_.buffered;if(0===this.videoBuffer_.buffered.length&&0===this.audioBuffer_.buffered.length)return u["default"].createTimeRange();for(var a=this.videoBuffer_.buffered,o=this.audioBuffer_.buffered,s=a.length;s--;)r.push({time:a.start(s),type:"start"}),r.push({time:a.end(s),type:"end"});for(s=o.length;s--;)r.push({time:o.start(s),type:"start"}),r.push({time:o.end(s),type:"end"});for(r.sort(function(e,t){return e.time-t.time}),s=0;s<r.length;s++)"start"===r[s].type?2===++n&&(e=r[s].time):"end"===r[s].type&&1===--n&&(t=r[s].time),null!==e&&null!==t&&(i.push([e,t]),e=null,t=null);return u["default"].createTimeRanges(i)}})}return n(i,e),r(i,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),(0,l["default"])(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){if("closed"===this.mediaSource_.readyState)return void(this.pendingBuffers_.length=0);this.processPendingSegments_()}},{key:"createRealSourceBuffers_",value:function(){var i=this,a=["audio","video"];a.forEach(function(t){if(i[t+"Codec_"]&&!i[t+"Buffer_"]){var n=null;if(i.mediaSource_[t+"Buffer_"])n=i.mediaSource_[t+"Buffer_"],n.updating=!1;else{var e=t+"Codec_",r=t+'/mp4;codecs="'+i[e]+'"';n=_(i.mediaSource_.nativeMediaSource_,r),i.mediaSource_[t+"Buffer_"]=n}i[t+"Buffer_"]=n,["update","updatestart","updateend"].forEach(function(e){n.addEventListener(e,function(){if("audio"!==t||!i.audioDisabled_){"updateend"===e&&(i[t+"Buffer_"].updating=!1);return a.every(function(e){return!("audio"!==e||!i.audioDisabled_)||(t===e||!i[e+"Buffer_"]||!i[e+"Buffer_"].updating)})?i.trigger(e):void 0}})})}})}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:b(this.gopBuffer_,this.mediaSource_.player_,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=T(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=w(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),(0,d["default"])(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)(0,d["default"])(e,t,this.inbandTextTracks_[n])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce(function(e,t){var n=t.type,r=t.data,i=t.initSegment;return e[n].segments.push(r),e[n].bytes+=r.byteLength,e[n].initSegment=i,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[n].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_),(0,f.addTextTrackData)(this,e.captions,e.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var n=0,r=undefined;if(e.bytes){r=new Uint8Array(e.bytes),e.segments.forEach(function(e){r.set(e,n),n+=e.byteLength});try{t.updating=!0,t.appendBuffer(r)}catch(a){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:a.message,originalError:a})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),i}(u["default"].EventTarget);C["default"]=k}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],76:[function(e,t,n){var l=arguments[3],c=arguments[4],d=arguments[5],f=JSON.stringify,s=!1,r=function(n){function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var i={};return r.m=n,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=entryModule)};void 0===l&&(s=!0,l=r,c=p.m);var u=function(e){for(var t,n=Object.keys(d),r=0;r<n.length;r++){var i=n[r],a=d[i].exports;if(a===e||a&&a["default"]===e){t=i;break}}if(!t){t=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var o={},r=0;r<n.length;r++){var i=n[r];o[i]=i}c[t]=["function(require,module,exports){"+e+"(self); }",o]}var s=Math.floor(Math.pow(16,8)*Math.random()).toString(16),u={};return u[t]=t,c[s]=["function(require,module,exports){var f = require("+f(t)+");(f.default ? f.default : f)(self);}",u],"("+l+")({"+Object.keys(c).map(function(e){return f(e)+":["+c[e][0]+","+f(c[e][1])+"]"}).join(",")+"},{},["+f(s)+"])"},h=function(e,t){var n,r="string"==typeof t;n=r?{}:[],Object.keys(c).forEach(function(e){c[e]&&(n[e]=c[e].toString())});var i=p(t);if(!i||i!==e&&i["default"]!==e){var a=n[t];n[t]=a.substring(0,a.length-1)+"\n"+e.name+"();\n}"}var o;if(r){t=f(t);o="{"+Object.keys(n).map(function(e){return f(e)+":"+n[e]}).join(",")+"}"}else o="["+n.join(",")+"]";return"var fn = ("+l.toString().replace("entryModule",t)+")("+o+');\n(typeof fn === "function") && fn(self);'};t.exports=function(e,t){var n;n=s?h(e,t):u(e);var r=new Blob([n],{type:"text/javascript"}),i=window.URL||window.webkitURL||window.mozURL||window.msURL,a=i.createObjectURL(r),o=new Worker(a);return o.objectURL=a,o}},{}],77:[function(V,q,e){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=a,n=o,r=!0,s=l=undefined}},i=V(31),u=t(i),a=V(9),l=t(a),c=V(11),d=t(c),f=V(21),h=t(f),p=V(25),v=V(2),y=t(v),g=V(74),m=V(33),_=t(m),b="undefined"!=typeof window?W:void 0!==e?e.videojs:null,T=t(b),w=V(5),k=V(3),S=t(k),C=V(14),E=t(C),O=V(32),P=t(O),A=V(8),j=t(A),x=V(13),L=t(x),I=V(10),M={PlaylistLoader:l["default"],Playlist:d["default"],Decrypter:p.Decrypter,AsyncStream:p.AsyncStream,decrypt:p.decrypt,utils:y["default"],STANDARD_PLAYLIST_SELECTOR:I.lastBandwidthSelector,INITIAL_PLAYLIST_SELECTOR:I.lowestBitrateCompatibleVariantSelector,comparePlaylistBandwidth:I.comparePlaylistBandwidth,comparePlaylistResolution:I.comparePlaylistResolution,xhr:(0,h["default"])()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(t){Object.defineProperty(M,t,{get:function(){return T["default"].log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),S["default"][t]},set:function(e){if(T["default"].log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0)return void T["default"].log.warn("value of Hls."+t+" must be greater than or equal to 0");S["default"][t]=e}})});var D=function(e,t){for(var n=t.media(),r=-1,i=0;i<e.length;i++)if(e[i].id===n.uri){r=i;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})},R=function(t,e){e.representations().forEach(function(e){t.addQualityLevel(e)}),D(t,e.playlists)};M.canPlaySource=function(){return T["default"].log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},M.supportsNativeHls=function(){var t=u["default"].createElement("video");return!!T["default"].getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(t.canPlayType(e))})}(),M.isSupported=function(){return T["default"].log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var B=T["default"].getComponent("Component"),N=function(e){function a(e,t,n){var r=this;if(o(this,a),s(Object.getPrototypeOf(a.prototype),"constructor",this).call(this,t,n.hls),t.options_&&t.options_.playerId){var i=(0,T["default"])(t.options_.playerId);i.hasOwnProperty("hls")||Object.defineProperty(i,"hls",{get:function(){return T["default"].log.warn("player.hls is deprecated. Use player.tech_.hls instead."),t.trigger({type:"usage",name:"hls-player-access"}),r}})}if(this.tech_=t,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");this.on(u["default"],["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=u["default"].fullscreenElement||u["default"].webkitFullscreenElement||u["default"].mozFullScreenElement||u["default"].msFullscreenElement;t&&t.contains(r.tech_.el())&&r.masterPlaylistController_.fastQualityChange_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_)return void(this.ignoreNextSeekingEvent_=!1);this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}return n(a,e),r(a,[{key:"setOptions_",value:function(){var t=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=4194304),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&4194304===this.options_.bandwidth,["withCredentials","bandwidth"].forEach(function(e){"undefined"!=typeof t.source_[e]&&(t.options_[e]=t.source_[e])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(e){var t=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=M,this.masterPlaylistController_=new w.MasterPlaylistController(this.options_),this.playbackWatcher_=new j["default"](T["default"].mergeOptions(this.options_,{seekable:function(){return t.seekable()}})),this.masterPlaylistController_.on("error",function(){T["default"].players[t.tech_.options_.playerId].error(t.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):M.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=M.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e=1/(this.bandwidth||1),t=undefined;return t=this.throughput>0?1/this.throughput:0,Math.floor(1/(e+t))},set:function(){T["default"].log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return t.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return t.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return t.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return t.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return t.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return t.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return t.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return t.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",function(){(0,E["default"])(t)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.tech_.ready(function(){return t.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(T["default"].URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var e=this,t=T["default"].players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){R(e.qualityLevels_,e)}),this.playlists.on("mediachange",function(){D(e.qualityLevels_,e.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),s(Object.getPrototypeOf(a.prototype),"dispose",this).call(this)}}]),a}(B),U=function H(i){return{canHandleSource:function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],n=T["default"].mergeOptions(T["default"].options,t);return(!n.hls||!n.hls.mode||n.hls.mode===i)&&H.canPlayType(e.type,n)},handleSource:function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],r=T["default"].mergeOptions(T["default"].options,n,{hls:{mode:i}});return"flash"===i&&t.setTimeout(function(){t.trigger("loadstart")},1),t.hls=new N(e,t,r),t.hls.xhr=(0,h["default"])(),t.hls.src(e.src),t.hls},canPlayType:function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],n=T["default"].mergeOptions(T["default"].options,t);return H.canPlayType(e,n)?"maybe":""}}};U.canPlayType=function(e,t){if(T["default"].browser.IE_VERSION&&T["default"].browser.IE_VERSION<=10)return!1;var n=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;return!(!t.hls.overrideNative&&M.supportsNativeHls)&&n.test(e)},"undefined"!=typeof T["default"].MediaSource&&"undefined"!=typeof T["default"].URL||(T["default"].MediaSource=g.MediaSource,T["default"].URL=g.URL);var F=T["default"].getTech("Flash");g.MediaSource.supportsNativeMediaSources()&&T["default"].getTech("Html5").registerSourceHandler(U("html5"),0),P["default"].Uint8Array&&F&&F.registerSourceHandler(U("flash")),T["default"].HlsHandler=N,T["default"].HlsSourceHandler=U,T["default"].Hls=M,T["default"].use||T["default"].registerComponent("Hls",M),T["default"].m3u8=_["default"],T["default"].options.hls=T["default"].options.hls||{},T["default"].registerPlugin?T["default"].registerPlugin("reloadSourceOnError",L["default"]):T["default"].plugin("reloadSourceOnError",L["default"]),q.exports={Hls:M,HlsHandler:N,HlsSourceHandler:U}}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[77])}).call(l,p(3),p(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(e){return e&&e.__esModule?e:{"default":e}}function h(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}else{return Array.from(e)}}var i=n(0);var p=r(i);var v=p["default"].getTech("Html5");var a=p["default"].registerPlugin||p["default"].plugin;var y=["abort","emptied","loadstart","play"];var g=["abort","emptied"];var m=["ad-playback","postroll?","preroll?"];var _=function _(){var r=this;var l=[];var i=undefined;var e=false;var a=undefined;var o=true;var s=function s(){return!!r.ads&&typeof r.ads==="object"&&m.indexOf(r.ads.state)>-1};var t=function t(u){return function(e,t){var n=this;if(this.perSourceBehaviors.disabled()){return}var r=arguments.length===2;var i=this.currentSrc();var a=[e];var o=p["default"].bind(r?this:e,arguments[arguments.length-1]);var s=function s(){var e=n.currentSrc()!==i;if(n.perSourceBehaviors.disabled()){return}if(e||u){n.off.apply(n,a)}if(!e){o.apply(undefined,arguments)}};s.guid=o.guid;if(!r){a.push(t)}a.push(s);l.push(a);return this.on.apply(this,a)}};this.perSourceBehaviors={disable:p["default"].bind(this,function n(){this.clearTimeout(a);a=null;e=true;return e}),disabled:function u(){return e},enable:function c(){e=false;return e},enabled:function d(){return!e},isSrcStable:function f(){return o},VERSION:"__VERSION__"};this.onPerSrc=t();this.onePerSrc=t(true);this.on("dispose",function(){l.length=0});this.on(y,function(e){if(r.perSourceBehaviors.disabled()||a||s(r)){return}if(o&&g.indexOf(e.type)>-1){o=false;r.trigger("sourceunstable")}var t=[];var n=function n(e){return t.push({time:Date.now(),event:e})};n(e);r.on(v.Events,n);a=r.setTimeout(function(){var e=r.currentSrc();o=true;a=null;r.off(v.Events,n);if(e&&e!==i){l.forEach(function(e){return r.off.apply(r,h(e))});l.length=0;r.trigger("sourcechanged",{interimEvents:t,from:i,to:e});i=e}},1)})};a("perSourceBehaviors",_);_.VERSION="__VERSION__";t["default"]=_;e.exports=t["default"]},function(e,t,n){var r=n(102);var i=e.exports={WebVTT:n(99),VTTCue:n(100),VTTRegion:n(101)};r.vttjs=i;r.WebVTT=i.WebVTT;var a=i.VTTCue;var o=i.VTTRegion;var s=r.VTTCue;var u=r.VTTRegion;i.shim=function(){r.VTTCue=a;r.VTTRegion=o};i.restore=function(){r.VTTCue=s;r.VTTRegion=u};if(!r.VTTCue){i.shim()}},function(e,t){var n=Object.create||function(){function t(){}return function(e){if(arguments.length!==1){throw new Error("Object.create shim only accepts one parameter.")}t.prototype=e;return new t}}();function d(e,t){this.name="ParsingError";this.code=e.code;this.message=t||e.message}d.prototype=n(Error.prototype);d.prototype.constructor=d;d.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function p(e){function t(e,t,n,r){return(e|0)*3600+(t|0)*60+(n|0)+(r|0)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);if(!n){return null}if(n[3]){return t(n[1],n[2],n[3].replace(":",""),n[4])}else if(n[1]>59){return t(n[1],n[2],0,n[4])}else{return t(0,n[1],n[2],n[4])}}function f(){this.values=n(null)}f.prototype={set:function(e,t){if(!this.get(e)&&t!==""){this.values[e]=t}},get:function(e,t,n){if(n){return this.has(e)?this.values[e]:t[n]}return this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r){if(t===n[r]){this.set(e,t);break}}},integer:function(e,t){if(/^-?\d+$/.test(t)){this.set(e,parseInt(t,10))}},percent:function(e,t){var n;if(n=t.match(/^([\d]{1,3})(\.[\d]*)?%$/)){t=parseFloat(t);if(t>=0&&t<=100){this.set(e,t);return true}}return false}};function h(e,t,n,r){var i=r?e.split(r):[e];for(var a in i){if(typeof i[a]!=="string"){continue}var o=i[a].split(n);if(o.length!==2){continue}var s=o[0];var u=o[1];t(s,u)}}function v(t,e,o){var n=t;function r(){var e=p(t);if(e===null){throw new d(d.Errors.BadTimeStamp,"Malformed timestamp: "+n)}t=t.replace(/^[^\sa-zA-Z-]+/,"");return e}function i(e,t){var a=new f;h(e,function(e,t){switch(e){case"region":for(var n=o.length-1;n>=0;n--){if(o[n].id===t){a.set(e,o[n].region);break}}break;case"vertical":a.alt(e,t,["rl","lr"]);break;case"line":var r=t.split(","),i=r[0];a.integer(e,i);a.percent(e,i)?a.set("snapToLines",false):null;a.alt(e,i,["auto"]);if(r.length===2){a.alt("lineAlign",r[1],["start","middle","end"])}break;case"position":r=t.split(",");a.percent(e,r[0]);if(r.length===2){a.alt("positionAlign",r[1],["start","middle","end"])}break;case"size":a.percent(e,t);break;case"align":a.alt(e,t,["start","middle","end","left","right"]);break}},/:/,/\s/);t.region=a.get("region",null);t.vertical=a.get("vertical","");t.line=a.get("line","auto");t.lineAlign=a.get("lineAlign","start");t.snapToLines=a.get("snapToLines",true);t.size=a.get("size",100);t.align=a.get("align","middle");t.position=a.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align);t.positionAlign=a.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function a(){t=t.replace(/^\s+/,"")}a();e.startTime=r();a();if(t.substr(0,3)!=="--\x3e"){throw new d(d.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+n)}t=t.substr(3);a();e.endTime=r();a();i(t,e)}var y={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "};var g={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"};var m={v:"title",lang:"lang"};var _={rt:"ruby"};function u(a,n){function e(){if(!n){return null}function e(e){n=n.substr(e.length);return e}var t=n.match(/^([^<]*)(<[^>]*>?)?/);return e(t[1]?t[1]:t[2])}function t(e){return y[e]}function r(e){while(h=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/)){e=e.replace(h[0],t)}return e}function i(e,t){return!_[t.localName]||_[t.localName]===e.localName}function o(e,t){var n=g[e];if(!n){return null}var r=a.document.createElement(n);r.localName=n;var i=m[e];if(i&&t){r[i]=t.trim()}return r}var s=a.document.createElement("div"),u=s,l,c=[];while((l=e())!==null){if(l[0]==="<"){if(l[1]==="/"){if(c.length&&c[c.length-1]===l.substr(2).replace(">","")){c.pop();u=u.parentNode}continue}var d=p(l.substr(1,l.length-2));var f;if(d){f=a.document.createProcessingInstruction("timestamp",d);u.appendChild(f);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h){continue}f=o(h[1],h[3]);if(!f){continue}if(!i(u,f)){continue}if(h[2]){f.className=h[2].substr(1).replace("."," ")}c.push(h[1]);u.appendChild(f);u=f;continue}u.appendChild(a.document.createTextNode(r(l)))}return s}var r=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function s(e){for(var t=0;t<r.length;t++){var n=r[t];if(e>=n[0]&&e<=n[1]){return true}}return false}function l(e){var t=[],n="",r;if(!e||!e.childNodes){return"ltr"}function i(e,t){for(var n=t.childNodes.length-1;n>=0;n--){e.push(t.childNodes[n])}}function a(e){if(!e||!e.length){return null}var t=e.pop(),n=t.textContent||t.innerText;if(n){var r=n.match(/^.*(\n|\r)/);if(r){e.length=0;return r[0]}return n}if(t.tagName==="ruby"){return a(e)}if(t.childNodes){i(e,t);return a(e)}}i(t,e);while(n=a(t)){for(var o=0;o<n.length;o++){r=n.charCodeAt(o);if(s(r)){return"rtl"}}}return"ltr"}function b(e){if(typeof e.line==="number"&&(e.snapToLines||e.line>=0&&e.line<=100)){return e.line}if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement){return-1}var t=e.track,n=t.textTrackList,r=0;for(var i=0;i<n.length&&n[i]!==t;i++){if(n[i].mode==="showing"){r++}}return++r*-1}function c(){}c.prototype.applyStyles=function(e,t){t=t||this.div;for(var n in e){if(e.hasOwnProperty(n)){t.style[n]=e[n]}}};c.prototype.formatStyle=function(e,t){return e===0?0:e+t};function T(e,t,n){var r=/MSIE\s8\.0/.test(navigator.userAgent);var i="rgba(255, 255, 255, 1)";var a="rgba(0, 0, 0, 0.8)";if(r){i="rgb(255, 255, 255)";a="rgb(0, 0, 0)"}c.call(this);this.cue=t;this.cueDiv=u(e,t.text);var o={color:i,backgroundColor:a,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};if(!r){o.writingMode=t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl";o.unicodeBidi="plaintext"}this.applyStyles(o,this.cueDiv);this.div=e.document.createElement("div");o={textAlign:t.align==="middle"?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"};if(!r){o.direction=l(this.cueDiv);o.writingMode=t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"}this.applyStyles(o);this.div.appendChild(this.cueDiv);var s=0;switch(t.positionAlign){case"start":s=t.position;break;case"middle":s=t.position-t.size/2;break;case"end":s=t.position-t.size;break}if(t.vertical===""){this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(t.size,"%")})}else{this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(t.size,"%")})}this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}T.prototype=n(c.prototype);T.prototype.constructor=T;function w(e){var t=/MSIE\s8\.0/.test(navigator.userAgent);var n,r,i,a;if(e.div){r=e.div.offsetHeight;i=e.div.offsetWidth;a=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect();n=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left;this.right=e.right;this.top=e.top||a;this.height=e.height||r;this.bottom=e.bottom||a+(e.height||r);this.width=e.width||i;this.lineHeight=n!==undefined?n:e.lineHeight;if(t&&!this.lineHeight){this.lineHeight=13}}w.prototype.move=function(e,t){t=t!==undefined?t:this.lineHeight;switch(e){case"+x":this.left+=t;this.right+=t;break;case"-x":this.left-=t;this.right-=t;break;case"+y":this.top+=t;this.bottom+=t;break;case"-y":this.top-=t;this.bottom-=t;break}};w.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top};w.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++){if(this.overlaps(e[t])){return true}}return false};w.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right};w.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}};w.prototype.intersectPercentage=function(e){var t=Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left)),n=Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top)),r=t*n;return r/(this.height*this.width)};w.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}};w.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0;var n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0;var r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e;var i={left:e.left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n};return i};function k(e,t,s,u){function n(e,t){var n,r=new w(e),i=1;for(var a=0;a<t.length;a++){while(e.overlapsOppositeAxis(s,t[a])||e.within(s)&&e.overlapsAny(u)){e.move(t[a])}if(e.within(s)){return e}var o=e.intersectPercentage(s);if(i>o){n=new w(e);i=o}e=new w(r)}return n||r}var r=new w(t),i=t.cue,a=b(i),o=[];if(i.snapToLines){var l;switch(i.vertical){case"":o=["+y","-y"];l="height";break;case"rl":o=["+x","-x"];l="width";break;case"lr":o=["-x","+x"];l="width";break}var c=r.lineHeight,d=c*Math.round(a),f=s[l]+c,h=o[0];if(Math.abs(d)>f){d=d<0?-1:1;d*=Math.ceil(f/c)*c}if(a<0){d+=i.vertical===""?s.height:s.width;o=o.reverse()}r.move(h,d)}else{var p=r.lineHeight/s.height*100;switch(i.lineAlign){case"middle":a-=p/2;break;case"end":a-=p;break}switch(i.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")});break}o=["+y","-x","+x","-y"];r=new w(t)}var v=n(r,o);t.move(v.toCSSCompatValues(s))}function i(){}i.StringDecoder=function(){return{decode:function(e){if(!e){return""}if(typeof e!=="string"){throw new Error("Error - expected string data.")}return decodeURIComponent(encodeURIComponent(e))}}};i.convertCueToDOMTree=function(e,t){if(!e||!t){return null}return u(e,t)};var S=.05;var C="sans-serif";var E="1.5%";i.processCues=function(r,i,e){if(!r||!i||!e){return null}while(e.firstChild){e.removeChild(e.firstChild)}var a=r.document.createElement("div");a.style.position="absolute";a.style.left="0";a.style.right="0";a.style.top="0";a.style.bottom="0";a.style.margin=E;e.appendChild(a);function t(e){for(var t=0;t<e.length;t++){if(e[t].hasBeenReset||!e[t].displayState){return true}}return false}if(!t(i)){for(var n=0;n<i.length;n++){a.appendChild(i[n].displayState)}return}var o=[],s=w.getSimpleBoxPosition(a),u=Math.round(s.height*S*100)/100;var l={font:u+"px "+C};(function(){var e,t;for(var n=0;n<i.length;n++){t=i[n];e=new T(r,t,l);a.appendChild(e.div);k(r,e,s,o);t.displayState=e.div;o.push(w.getSimpleBoxPosition(e))}})()};i.Parser=function(e,t,n){if(!n){n=t;t={}}if(!t){t={}}this.window=e;this.vttjs=t;this.state="INITIAL";this.buffer="";this.decoder=n||new TextDecoder("utf8");this.regionList=[]};i.Parser.prototype={reportOrThrowError:function(e){if(e instanceof d){this.onparsingerror&&this.onparsingerror(e)}else{throw e}},parse:function(e){var r=this;if(e){r.buffer+=r.decoder.decode(e,{stream:true})}function t(){var e=r.buffer;var t=0;while(t<e.length&&e[t]!=="\r"&&e[t]!=="\n"){++t}var n=e.substr(0,t);if(e[t]==="\r"){++t}if(e[t]==="\n"){++t}r.buffer=e.substr(t);return n}function n(e){var i=new f;h(e,function(e,t){switch(e){case"id":i.set(e,t);break;case"width":i.percent(e,t);break;case"lines":i.integer(e,t);break;case"regionanchor":case"viewportanchor":var n=t.split(",");if(n.length!==2){break}var r=new f;r.percent("x",n[0]);r.percent("y",n[1]);if(!r.has("x")||!r.has("y")){break}i.set(e+"X",r.get("x"));i.set(e+"Y",r.get("y"));break;case"scroll":i.alt(e,t,["up"]);break}},/=/,/\s/);if(i.has("id")){var t=new(r.vttjs.VTTRegion||r.window.VTTRegion);t.width=i.get("width",100);t.lines=i.get("lines",3);t.regionAnchorX=i.get("regionanchorX",0);t.regionAnchorY=i.get("regionanchorY",100);t.viewportAnchorX=i.get("viewportanchorX",0);t.viewportAnchorY=i.get("viewportanchorY",100);t.scroll=i.get("scroll","");r.onregion&&r.onregion(t);r.regionList.push({id:i.get("id"),region:t})}}function i(e){var n=new f;h(e,function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",p(t));break}},/[^\d]:/,/,/);r.ontimestampmap&&r.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}function a(e){if(e.match(/X-TIMESTAMP-MAP/)){h(e,function(e,t){switch(e){case"X-TIMESTAMP-MAP":i(t);break}},/=/)}else{h(e,function(e,t){switch(e){case"Region":n(t);break}},/:/)}}try{var o;if(r.state==="INITIAL"){if(!/\r\n|\n/.test(r.buffer)){return this}o=t();var s=o.match(/^WEBVTT([ \t].*)?$/);if(!s||!s[0]){throw new d(d.Errors.BadSignature)}r.state="HEADER"}var u=false;while(r.buffer){if(!/\r\n|\n/.test(r.buffer)){return this}if(!u){o=t()}else{u=false}switch(r.state){case"HEADER":if(/:/.test(o)){a(o)}else if(!o){r.state="ID"}continue;case"NOTE":if(!o){r.state="ID"}continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){r.state="NOTE";break}if(!o){continue}r.cue=new(r.vttjs.VTTCue||r.window.VTTCue)(0,0,"");r.state="CUE";if(o.indexOf("--\x3e")===-1){r.cue.id=o;continue}case"CUE":try{v(o,r.cue,r.regionList)}catch(c){r.reportOrThrowError(c);r.cue=null;r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var l=o.indexOf("--\x3e")!==-1;if(!o||l&&(u=true)){r.oncue&&r.oncue(r.cue);r.cue=null;r.state="ID";continue}if(r.cue.text){r.cue.text+="\n"}r.cue.text+=o;continue;case"BADCUE":if(!o){r.state="ID"}continue}}}catch(c){r.reportOrThrowError(c);if(r.state==="CUETEXT"&&r.cue&&r.oncue){r.oncue(r.cue)}r.cue=null;r.state=r.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{e.buffer+=e.decoder.decode();if(e.cue||e.state==="HEADER"){e.buffer+="\n\n";e.parse()}if(e.state==="INITIAL"){throw new d(d.Errors.BadSignature)}}catch(t){e.reportOrThrowError(t)}e.onflush&&e.onflush();return this}};e.exports=i},function(e,t){var b="auto";var n={"":true,lr:true,rl:true};var r={start:true,middle:true,end:true,left:true,right:true};function T(e){if(typeof e!=="string"){return false}var t=n[e.toLowerCase()];return t?e.toLowerCase():false}function w(e){if(typeof e!=="string"){return false}var t=r[e.toLowerCase()];return t?e.toLowerCase():false}function k(e){var t=1;for(;t<arguments.length;t++){var n=arguments[t];for(var r in n){e[r]=n[r]}}return e}function i(e,t,n){var r=this;var i=/MSIE\s8\.0/.test(navigator.userAgent);var a={};if(i){r=document.createElement("custom")}else{a.enumerable=true}r.hasBeenReset=false;var o="";var s=false;var u=e;var l=t;var c=n;var d=null;var f="";var h=true;var p="auto";var v="start";var y=50;var g="middle";var m=50;var _="middle";Object.defineProperty(r,"id",k({},a,{get:function(){return o},set:function(e){o=""+e}}));Object.defineProperty(r,"pauseOnExit",k({},a,{get:function(){return s},set:function(e){s=!!e}}));Object.defineProperty(r,"startTime",k({},a,{get:function(){return u},set:function(e){if(typeof e!=="number"){throw new TypeError("Start time must be set to a number.")}u=e;this.hasBeenReset=true}}));Object.defineProperty(r,"endTime",k({},a,{get:function(){return l},set:function(e){if(typeof e!=="number"){throw new TypeError("End time must be set to a number.")}l=e;this.hasBeenReset=true}}));Object.defineProperty(r,"text",k({},a,{get:function(){return c},set:function(e){c=""+e;this.hasBeenReset=true}}));Object.defineProperty(r,"region",k({},a,{get:function(){return d},set:function(e){d=e;this.hasBeenReset=true}}));Object.defineProperty(r,"vertical",k({},a,{get:function(){return f},set:function(e){var t=T(e);if(t===false){throw new SyntaxError("An invalid or illegal string was specified.")}f=t;this.hasBeenReset=true}}));Object.defineProperty(r,"snapToLines",k({},a,{get:function(){return h},set:function(e){h=!!e;this.hasBeenReset=true}}));Object.defineProperty(r,"line",k({},a,{get:function(){return p},set:function(e){if(typeof e!=="number"&&e!==b){throw new SyntaxError("An invalid number or illegal string was specified.")}p=e;this.hasBeenReset=true}}));Object.defineProperty(r,"lineAlign",k({},a,{get:function(){return v},set:function(e){var t=w(e);if(!t){throw new SyntaxError("An invalid or illegal string was specified.")}v=t;this.hasBeenReset=true}}));Object.defineProperty(r,"position",k({},a,{get:function(){return y},set:function(e){if(e<0||e>100){throw new Error("Position must be between 0 and 100.")}y=e;this.hasBeenReset=true}}));Object.defineProperty(r,"positionAlign",k({},a,{get:function(){return g},set:function(e){var t=w(e);if(!t){throw new SyntaxError("An invalid or illegal string was specified.")}g=t;this.hasBeenReset=true}}));Object.defineProperty(r,"size",k({},a,{get:function(){return m},set:function(e){if(e<0||e>100){throw new Error("Size must be between 0 and 100.")}m=e;this.hasBeenReset=true}}));Object.defineProperty(r,"align",k({},a,{get:function(){return _},set:function(e){var t=w(e);if(!t){throw new SyntaxError("An invalid or illegal string was specified.")}_=t;this.hasBeenReset=true}}));r.displayState=undefined;if(i){return r}}i.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};e.exports=i},function(e,t){var n={"":true,up:true};function u(e){if(typeof e!=="string"){return false}var t=n[e.toLowerCase()];return t?e.toLowerCase():false}function l(e){return typeof e==="number"&&(e>=0&&e<=100)}function r(){var t=100;var n=3;var r=0;var i=100;var a=0;var o=100;var s="";Object.defineProperties(this,{width:{enumerable:true,get:function(){return t},set:function(e){if(!l(e)){throw new Error("Width must be between 0 and 100.")}t=e}},lines:{enumerable:true,get:function(){return n},set:function(e){if(typeof e!=="number"){throw new TypeError("Lines must be set to a number.")}n=e}},regionAnchorY:{enumerable:true,get:function(){return i},set:function(e){if(!l(e)){throw new Error("RegionAnchorX must be between 0 and 100.")}i=e}},regionAnchorX:{enumerable:true,get:function(){return r},set:function(e){if(!l(e)){throw new Error("RegionAnchorY must be between 0 and 100.")}r=e}},viewportAnchorY:{enumerable:true,get:function(){return o},set:function(e){if(!l(e)){throw new Error("ViewportAnchorY must be between 0 and 100.")}o=e}},viewportAnchorX:{enumerable:true,get:function(){return a},set:function(e){if(!l(e)){throw new Error("ViewportAnchorX must be between 0 and 100.")}a=e}},scroll:{enumerable:true,get:function(){return s},set:function(e){var t=u(e);if(t===false){throw new SyntaxError("An invalid or illegal string was specified.")}s=t}}})}e.exports=r},function(n,e,t){(function(e){var t;if(typeof window!=="undefined"){t=window}else if(typeof e!=="undefined"){t=e}else if(typeof self!=="undefined"){t=self}else{t={}}n.exports=t}).call(e,t(3))},function(he,pe,ve){var ye;(function(){function r(e,t,n){return e.call.apply(e.bind,arguments)}function i(t,n,e){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,r);return t.apply(n,e)}}return function(){return t.apply(n,arguments)}}function p(e,t,n){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?r:i;return p.apply(null,arguments)}var o=Date.now||function(){return+new Date};function t(e,t){this.a=e;this.o=t||e;this.c=this.o.document}var u=!!window.FontFace;function l(e,t,n,r){t=e.c.createElement(t);if(n)for(var i in n)n.hasOwnProperty(i)&&("style"==i?t.style.cssText=n[i]:t.setAttribute(i,n[i]));r&&t.appendChild(e.c.createTextNode(r));return t}function c(e,t,n){e=e.c.getElementsByTagName(t)[0];e||(e=document.documentElement);e.insertBefore(n,e.lastChild)}function n(e){e.parentNode&&e.parentNode.removeChild(e)}function v(e,t,n){t=t||[];n=n||[];for(var r=e.className.split(/\s+/),i=0;i<t.length;i+=1){for(var a=!1,o=0;o<r.length;o+=1)if(t[i]===r[o]){a=!0;break}a||r.push(t[i])}t=[];for(i=0;i<r.length;i+=1){a=!1;for(o=0;o<n.length;o+=1)if(r[i]===n[o]){a=!0;break}a||t.push(r[i])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function a(e,t){for(var n=e.className.split(/\s+/),r=0,i=n.length;r<i;r++)if(n[r]==t)return!0;return!1}function s(e){return e.o.location.hostname||e.a.location.hostname}function d(e,t,n){function r(){s&&i&&a&&(s(o),s=null)}t=l(e,"link",{rel:"stylesheet",href:t,media:"all"});var i=!1,a=!0,o=null,s=n||null;u?(t.onload=function(){i=!0;r()},t.onerror=function(){i=!0;o=Error("Stylesheet failed to load");r()}):setTimeout(function(){i=!0;r()},0);c(e,"head",t)}function f(e,t,n,r){var i=e.c.getElementsByTagName("head")[0];if(i){var a=l(e,"script",{src:t}),o=!1;a.onload=a.onreadystatechange=function(){o||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(o=!0,n&&n(null),a.onload=a.onreadystatechange=null,"HEAD"==a.parentNode.tagName&&i.removeChild(a))};i.appendChild(a);setTimeout(function(){o||(o=!0,n&&n(Error("Script load timeout")))},r||5e3);return a}return null}function h(){this.a=0;this.c=null}function y(e){e.a++;return function(){e.a--;m(e)}}function g(e,t){e.c=t;m(e)}function m(e){0==e.a&&e.c&&(e.c(),e.c=null)}function _(e){this.a=e||"-"}_.prototype.c=function(e){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)};function b(e,t){this.c=e;this.f=4;this.a="n";var n=(t||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function T(e){return S(e)+" "+(e.f+"00")+" 300px "+w(e.c)}function w(e){var t=[];e=e.split(/,\s*/);for(var n=0;n<e.length;n++){var r=e[n].replace(/['"]/g,"");-1!=r.indexOf(" ")||/^\d/.test(r)?t.push("'"+r+"'"):t.push(r)}return t.join(",")}function k(e){return e.a+e.f}function S(e){var t="normal";"o"===e.a?t="oblique":"i"===e.a&&(t="italic");return t}function C(e){var t=4,n="n",r=null;e&&((r=e.match(/(normal|oblique|italic)/i))&&r[1]&&(n=r[1].substr(0,1).toLowerCase()),(r=e.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?t=7:/[1-9]00/.test(r[1])&&(t=parseInt(r[1].substr(0,1),10))));return n+t}function E(e,t){this.c=e;this.f=e.o.document.documentElement;this.h=t;this.a=new _("-");this.j=!1!==t.events;this.g=!1!==t.classes}function O(e){e.g&&v(e.f,[e.a.c("wf","loading")]);A(e,"loading")}function P(e){if(e.g){var t=a(e.f,e.a.c("wf","active")),n=[],r=[e.a.c("wf","loading")];t||n.push(e.a.c("wf","inactive"));v(e.f,n,r)}A(e,"inactive")}function A(e,t,n){if(e.j&&e.h[t])if(n)e.h[t](n.c,k(n));else e.h[t]()}function j(){this.c={}}function x(e,t,n){var r=[],i;for(i in t)if(t.hasOwnProperty(i)){var a=e.c[i];a&&r.push(a(t[i],n))}return r}function L(e,t){this.c=e;this.f=t;this.a=l(this.c,"span",{"aria-hidden":"true"},this.f)}function I(e){c(e.c,"body",e.a)}function M(e){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+w(e.c)+";"+("font-style:"+S(e)+";font-weight:"+(e.f+"00")+";")}function D(e,t,n,r,i,a){this.g=e;this.j=t;this.a=r;this.c=n;this.f=i||3e3;this.h=a||void 0}D.prototype.start=function(){var r=this.c.o.document,i=this,a=o(),e=new Promise(function(t,e){function n(){o()-a>=i.f?e():r.fonts.load(T(i.a),i.h).then(function(e){1<=e.length?t():setTimeout(n,25)},function(){e()})}n()}),n=null,t=new Promise(function(e,t){n=setTimeout(t,i.f)});Promise.race([t,e]).then(function(){n&&(clearTimeout(n),n=null);i.g(i.a)},function(){i.j(i.a)})};function R(e,t,n,r,i,a,o){this.v=e;this.B=t;this.c=n;this.a=r;this.s=o||"BESbswy";this.f={};this.w=i||3e3;this.u=a||null;this.m=this.j=this.h=this.g=null;this.g=new L(this.c,this.s);this.h=new L(this.c,this.s);this.j=new L(this.c,this.s);this.m=new L(this.c,this.s);e=new b(this.a.c+",serif",k(this.a));e=M(e);this.g.a.style.cssText=e;e=new b(this.a.c+",sans-serif",k(this.a));e=M(e);this.h.a.style.cssText=e;e=new b("serif",k(this.a));e=M(e);this.j.a.style.cssText=e;e=new b("sans-serif",k(this.a));e=M(e);this.m.a.style.cssText=e;I(this.g);I(this.h);I(this.j);I(this.m)}var B={D:"serif",C:"sans-serif"},N=null;function U(){if(null===N){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);N=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))}return N}R.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f["sans-serif"]=this.m.a.offsetWidth;this.A=o();H(this)};function F(e,t,n){for(var r in B)if(B.hasOwnProperty(r)&&t===e.f[B[r]]&&n===e.f[B[r]])return!0;return!1}function H(e){var t=e.g.a.offsetWidth,n=e.h.a.offsetWidth,r;(r=t===e.f.serif&&n===e.f["sans-serif"])||(r=U()&&F(e,t,n));r?o()-e.A>=e.w?U()&&F(e,t,n)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?q(e,e.v):q(e,e.B):V(e):q(e,e.v)}function V(e){setTimeout(p(function(){H(this)},e),50)}function q(e,t){setTimeout(p(function(){n(this.g.a);n(this.h.a);n(this.j.a);n(this.m.a);t(this.a)},e),0)}function W(e,t,n){this.c=e;this.a=t;this.f=0;this.m=this.j=!1;this.s=n}var z=null;W.prototype.g=function(e){var t=this.a;t.g&&v(t.f,[t.a.c("wf",e.c,k(e).toString(),"active")],[t.a.c("wf",e.c,k(e).toString(),"loading"),t.a.c("wf",e.c,k(e).toString(),"inactive")]);A(t,"fontactive",e);this.m=!0;G(this)};W.prototype.h=function(e){var t=this.a;if(t.g){var n=a(t.f,t.a.c("wf",e.c,k(e).toString(),"active")),r=[],i=[t.a.c("wf",e.c,k(e).toString(),"loading")];n||r.push(t.a.c("wf",e.c,k(e).toString(),"inactive"));v(t.f,r,i)}A(t,"fontinactive",e);G(this)};function G(e){0==--e.f&&e.j&&(e.m?(e=e.a,e.g&&v(e.f,[e.a.c("wf","active")],[e.a.c("wf","loading"),e.a.c("wf","inactive")]),A(e,"active")):P(e.a))}function e(e){this.j=e;this.a=new j;this.h=0;this.f=this.g=!0}e.prototype.load=function(e){this.c=new t(this.j,e.context||this.j);this.g=!1!==e.events;this.f=!1!==e.classes;Y(this,new E(this.c,e),e)};function X(e,l,c,d,f){var h=0==--e.h;(e.f||e.g)&&setTimeout(function(){var e=f||null,t=d||null||{};if(0===c.length&&h)P(l.a);else{l.f+=c.length;h&&(l.j=h);var n,r=[];for(n=0;n<c.length;n++){var i=c[n],a=t[i.c],o=l.a,s=i;o.g&&v(o.f,[o.a.c("wf",s.c,k(s).toString(),"loading")]);A(o,"fontloading",s);o=null;if(null===z)if(window.FontFace){var s=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),u=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);z=s?42<parseInt(s[1],10):u?!1:!0}else z=!1;z?o=new D(p(l.g,l),p(l.h,l),l.c,i,l.s,a):o=new R(p(l.g,l),p(l.h,l),l.c,i,l.s,e,a);r.push(o)}for(n=0;n<r.length;n++)r[n].start()}},0)}function Y(r,e,t){var n=[],i=t.timeout;O(e);var n=x(r.a,t,r.c),a=new W(r.c,e,i);r.h=n.length;e=0;for(t=n.length;e<t;e++)n[e].load(function(e,t,n){X(r,a,e,t,n)})}function K(e,t){this.c=e;this.a=t}K.prototype.load=function(a){function o(){if(u["__mti_fntLst"+s]){var e=u["__mti_fntLst"+s](),t=[],n;if(e)for(var r=0;r<e.length;r++){var i=e[r].fontfamily;void 0!=e[r].fontStyle&&void 0!=e[r].fontWeight?(n=e[r].fontStyle+e[r].fontWeight,t.push(new b(i,n))):t.push(new b(i))}a(t)}else setTimeout(function(){o()},50)}var t=this,s=t.a.projectId,e=t.a.version;if(s){var u=t.c.o;f(this.c,(t.a.api||"https://fast.fonts.net/jsapi")+"/"+s+".js"+(e?"?v="+e:""),function(e){e?a([]):(u["__MonotypeConfiguration__"+s]=function(){return t.a},o())}).id="__MonotypeAPIScript__"+s}else a([])};function $(e,t){this.c=e;this.a=t}$.prototype.load=function(e){var t,n,r=this.a.urls||[],i=this.a.families||[],a=this.a.testStrings||{},o=new h;t=0;for(n=r.length;t<n;t++)d(this.c,r[t],y(o));var s=[];t=0;for(n=i.length;t<n;t++)if(r=i[t].split(":"),r[1])for(var u=r[1].split(","),l=0;l<u.length;l+=1)s.push(new b(r[0],u[l]));else s.push(new b(r[0]));g(o,function(){e(s,a)})};function J(e,t){e?this.c=e:this.c=Q;this.a=[];this.f=[];this.g=t||""}var Q="https://fonts.googleapis.com/css";function Z(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r].split(":");3==i.length&&e.f.push(i.pop());var a="";2==i.length&&""!=i[1]&&(a=":");e.a.push(i.join(a))}}function ee(e){if(0==e.a.length)throw Error("No fonts to load!");if(-1!=e.c.indexOf("kit="))return e.c;for(var t=e.a.length,n=[],r=0;r<t;r++)n.push(e.a[r].replace(/ /g,"+"));t=e.c+"?family="+n.join("%7C");0<e.f.length&&(t+="&subset="+e.f.join(","));0<e.g.length&&(t+="&text="+encodeURIComponent(e.g));return t}function te(e){this.f=e;this.a=[];this.c={}}var ne={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},re={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ie={i:"i",italic:"i",n:"n",normal:"n"},ae=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function oe(e){for(var t=e.f.length,n=0;n<t;n++){var r=e.f[n].split(":"),i=r[0].replace(/\+/g," "),a=["n4"];if(2<=r.length){var o;var s=r[1];o=[];if(s)for(var s=s.split(","),u=s.length,l=0;l<u;l++){var c;c=s[l];if(c.match(/^[\w-]+$/)){var d=ae.exec(c.toLowerCase());if(null==d)c="";else{c=d[2];c=null==c||""==c?"n":ie[c];d=d[1];if(null==d||""==d)d="4";else var f=re[d],d=f?f:isNaN(d)?"4":d.substr(0,1);c=[c,d].join("")}}else c="";c&&o.push(c)}0<o.length&&(a=o);3==r.length&&(r=r[2],o=[],r=r?r.split(","):o,0<r.length&&(r=ne[r[0]])&&(e.c[i]=r))}e.c[i]||(r=ne[i])&&(e.c[i]=r);for(r=0;r<a.length;r+=1)e.a.push(new b(i,a[r]))}}function se(e,t){this.c=e;this.a=t}var ue={Arimo:!0,Cousine:!0,Tinos:!0};se.prototype.load=function(e){var t=new h,n=this.c,r=new J(this.a.api,this.a.text),i=this.a.families;Z(r,i);var a=new te(i);oe(a);d(n,ee(r),y(t));g(t,function(){e(a.a,a.c,ue)})};function le(e,t){this.c=e;this.a=t}le.prototype.load=function(s){var e=this.a.id,u=this.c.o;e?f(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)s([]);else if(u.Typekit&&u.Typekit.config&&u.Typekit.config.fn){e=u.Typekit.config.fn;for(var t=[],n=0;n<e.length;n+=2)for(var r=e[n],i=e[n+1],a=0;a<i.length;a++)t.push(new b(r,i[a]));try{u.Typekit.load({events:!1,classes:!1,async:!0})}catch(o){}s(t)}},2e3):s([])};function ce(e,t){this.c=e;this.f=t;this.a=[]}ce.prototype.load=function(a){var e=this.f.id,t=this.c.o,o=this;e?(t.__webfontfontdeckmodule__||(t.__webfontfontdeckmodule__={}),t.__webfontfontdeckmodule__[e]=function(e,t){for(var n=0,r=t.fonts.length;n<r;++n){var i=t.fonts[n];o.a.push(new b(i.name,C("font-weight:"+i.weight+";font-style:"+i.style)))}a(o.a)},f(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+s(this.c)+"/"+e+".js",function(e){e&&a([])})):a([])};var de=new e(window);de.a.c.custom=function(e,t){return new $(t,e)};de.a.c.fontdeck=function(e,t){return new ce(t,e)};de.a.c.monotype=function(e,t){return new K(t,e)};de.a.c.typekit=function(e,t){return new le(t,e)};de.a.c.google=function(e,t){return new se(t,e)};var fe={load:p(de.load,de)};true?!(ye=function(){return fe}.call(pe,ve,pe,he),ye!==undefined&&(he.exports=ye)):"undefined"!==typeof he&&he.exports?he.exports=fe:(window.WebFont=fe,window.WebFontConfig&&de.load(window.WebFontConfig))})()},function(e,t,n){"use strict";var r=n(82);var i=n(25);var _=n(85);var a=n(105);e.exports=T;T.XMLHttpRequest=r.XMLHttpRequest||l;T.XDomainRequest="withCredentials"in new T.XMLHttpRequest?T.XMLHttpRequest:r.XDomainRequest;o(["get","put","post","patch","head","delete"],function(r){T[r==="delete"?"del":r]=function(e,t,n){t=s(e,t,n);t.method=r.toUpperCase();return u(t)}});function o(e,t){for(var n=0;n<e.length;n++){t(e[n])}}function b(e){for(var t in e){if(e.hasOwnProperty(t))return false}return true}function s(e,t,n){var r=e;if(i(t)){n=t;if(typeof e==="string"){r={uri:e}}}else{r=a(t,{uri:e})}r.callback=n;return r}function T(e,t,n){t=s(e,t,n);return u(t)}function u(r){if(typeof r.callback==="undefined"){throw new Error("callback argument missing")}var i=false;var a=function m(e,t,n){if(!i){i=true;r.callback(e,t,n)}};function e(){if(s.readyState===4){setTimeout(n,0)}}function o(){var e=undefined;if(s.response){e=s.response}else{e=s.responseText||w(s)}if(v){try{e=JSON.parse(e)}catch(t){}}return e}function t(e){clearTimeout(y);if(!(e instanceof Error)){e=new Error(""+(e||"Unknown XMLHttpRequest Error"))}e.statusCode=0;return a(e,g)}function n(){if(l)return;var e;clearTimeout(y);if(r.useXDR&&s.status===undefined){e=200}else{e=s.status===1223?204:s.status}var t=g;var n=null;if(e!==0){t={body:o(),statusCode:e,method:d,headers:{},url:c,rawRequest:s};if(s.getAllResponseHeaders){t.headers=_(s.getAllResponseHeaders())}}else{n=new Error("Internal XMLHttpRequest Error")}return a(n,t,t.body)}var s=r.xhr||null;if(!s){if(r.cors||r.useXDR){s=new T.XDomainRequest}else{s=new T.XMLHttpRequest}}var u;var l;var c=s.url=r.uri||r.url;var d=s.method=r.method||"GET";var f=r.body||r.data;var h=s.headers=r.headers||{};var p=!!r.sync;var v=false;var y;var g={body:undefined,headers:{},statusCode:0,method:d,url:c,rawRequest:s};if("json"in r&&r.json!==false){v=true;h["accept"]||h["Accept"]||(h["Accept"]="application/json");if(d!=="GET"&&d!=="HEAD"){h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json");f=JSON.stringify(r.json===true?f:r.json)}}s.onreadystatechange=e;s.onload=n;s.onerror=t;s.onprogress=function(){};s.onabort=function(){l=true};s.ontimeout=t;s.open(d,c,!p,r.username,r.password);if(!p){s.withCredentials=!!r.withCredentials}if(!p&&r.timeout>0){y=setTimeout(function(){if(l)return;l=true;s.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT";t(e)},r.timeout)}if(s.setRequestHeader){for(u in h){if(h.hasOwnProperty(u)){s.setRequestHeader(u,h[u])}}}else if(r.headers&&!b(r.headers)){throw new Error("Headers cannot be set on an XDomainRequest object")}if("responseType"in r){s.responseType=r.responseType}if("beforeSend"in r&&typeof r.beforeSend==="function"){r.beforeSend(s)}s.send(f||null);return s}function w(e){if(e.responseType==="document"){return e.responseXML}var t=e.responseXML&&e.responseXML.documentElement.nodeName==="parsererror";if(e.responseType===""&&!t){return e.responseXML}return null}function l(){}},function(e,t){e.exports=n;var i=Object.prototype.hasOwnProperty;function n(){var e={};for(var t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(i.call(n,r)){e[r]=n[r]}}}return e}},function(e,t){},function(e,t,n){"use strict";n(28);var r=n(4);var i=l(r);var a=n(27);var o=l(a);var s=n(1);var u=l(s);function l(e){return e&&e.__esModule?e:{"default":e}}i["default"].VideoPlayer=o["default"];var c=i["default"].Cloudinary.prototype;c.videoPlayer=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;(0,u["default"])(t,{cloudinaryConfig:this});return new o["default"](e,t,n)};c.videoPlayers=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;(0,u["default"])(t,{cloudinaryConfig:this});return o["default"].all(e,t,n)}}])});